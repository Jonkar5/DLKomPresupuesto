(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();var Ld={exports:{}},Sl={};var F0;function ox(){if(F0)return Sl;F0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var p in l)p!=="key"&&(u[p]=l[p])}else u=l;return l=u.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:u}}return Sl.Fragment=e,Sl.jsx=i,Sl.jsxs=i,Sl}var G0;function lx(){return G0||(G0=1,Ld.exports=ox()),Ld.exports}var v=lx(),Pd={exports:{}},Re={};var K0;function cx(){if(K0)return Re;K0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),A=Symbol.iterator;function z(D){return D===null||typeof D!="object"?null:(D=A&&D[A]||D["@@iterator"],typeof D=="function"?D:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ee=Object.assign,X={};function he(D,K,ne){this.props=D,this.context=K,this.refs=X,this.updater=ne||Q}he.prototype.isReactComponent={},he.prototype.setState=function(D,K){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,K,"setState")},he.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Ee(){}Ee.prototype=he.prototype;function ge(D,K,ne){this.props=D,this.context=K,this.refs=X,this.updater=ne||Q}var Oe=ge.prototype=new Ee;Oe.constructor=ge,ee(Oe,he.prototype),Oe.isPureReactComponent=!0;var Fe=Array.isArray;function ue(){}var C={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function R(D,K,ne){var se=ne.ref;return{$$typeof:s,type:D,key:K,ref:se!==void 0?se:null,props:ne}}function M(D,K){return R(D.type,K,D.props)}function k(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function V(D){var K={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ne){return K[ne]})}var N=/\/+/g;function Ke(D,K){return typeof D=="object"&&D!==null&&D.key!=null?V(""+D.key):K.toString(36)}function re(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(ue,ue):(D.status="pending",D.then(function(K){D.status==="pending"&&(D.status="fulfilled",D.value=K)},function(K){D.status==="pending"&&(D.status="rejected",D.reason=K)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function U(D,K,ne,se,ve){var Ae=typeof D;(Ae==="undefined"||Ae==="boolean")&&(D=null);var ye=!1;if(D===null)ye=!0;else switch(Ae){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(D.$$typeof){case s:case e:ye=!0;break;case T:return ye=D._init,U(ye(D._payload),K,ne,se,ve)}}if(ye)return ve=ve(D),ye=se===""?"."+Ke(D,0):se,Fe(ve)?(ne="",ye!=null&&(ne=ye.replace(N,"$&/")+"/"),U(ve,K,ne,"",function(Sn){return Sn})):ve!=null&&(k(ve)&&(ve=M(ve,ne+(ve.key==null||D&&D.key===ve.key?"":(""+ve.key).replace(N,"$&/")+"/")+ye)),K.push(ve)),1;ye=0;var pt=se===""?".":se+":";if(Fe(D))for(var Ze=0;Ze<D.length;Ze++)se=D[Ze],Ae=pt+Ke(se,Ze),ye+=U(se,K,ne,Ae,ve);else if(Ze=z(D),typeof Ze=="function")for(D=Ze.call(D),Ze=0;!(se=D.next()).done;)se=se.value,Ae=pt+Ke(se,Ze++),ye+=U(se,K,ne,Ae,ve);else if(Ae==="object"){if(typeof D.then=="function")return U(re(D),K,ne,se,ve);throw K=String(D),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return ye}function W(D,K,ne){if(D==null)return D;var se=[],ve=0;return U(D,se,"","",function(Ae){return K.call(ne,Ae,ve++)}),se}function Z(D){if(D._status===-1){var K=D._result;K=K(),K.then(function(ne){(D._status===0||D._status===-1)&&(D._status=1,D._result=ne)},function(ne){(D._status===0||D._status===-1)&&(D._status=2,D._result=ne)}),D._status===-1&&(D._status=0,D._result=K)}if(D._status===1)return D._result.default;throw D._result}var de=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},xe={map:W,forEach:function(D,K,ne){W(D,function(){K.apply(this,arguments)},ne)},count:function(D){var K=0;return W(D,function(){K++}),K},toArray:function(D){return W(D,function(K){return K})||[]},only:function(D){if(!k(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Re.Activity=x,Re.Children=xe,Re.Component=he,Re.Fragment=i,Re.Profiler=l,Re.PureComponent=ge,Re.StrictMode=r,Re.Suspense=g,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Re.__COMPILER_RUNTIME={__proto__:null,c:function(D){return C.H.useMemoCache(D)}},Re.cache=function(D){return function(){return D.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(D,K,ne){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var se=ee({},D.props),ve=D.key;if(K!=null)for(Ae in K.key!==void 0&&(ve=""+K.key),K)!S.call(K,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&K.ref===void 0||(se[Ae]=K[Ae]);var Ae=arguments.length-2;if(Ae===1)se.children=ne;else if(1<Ae){for(var ye=Array(Ae),pt=0;pt<Ae;pt++)ye[pt]=arguments[pt+2];se.children=ye}return R(D.type,ve,se)},Re.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Re.createElement=function(D,K,ne){var se,ve={},Ae=null;if(K!=null)for(se in K.key!==void 0&&(Ae=""+K.key),K)S.call(K,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ve[se]=K[se]);var ye=arguments.length-2;if(ye===1)ve.children=ne;else if(1<ye){for(var pt=Array(ye),Ze=0;Ze<ye;Ze++)pt[Ze]=arguments[Ze+2];ve.children=pt}if(D&&D.defaultProps)for(se in ye=D.defaultProps,ye)ve[se]===void 0&&(ve[se]=ye[se]);return R(D,Ae,ve)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(D){return{$$typeof:p,render:D}},Re.isValidElement=k,Re.lazy=function(D){return{$$typeof:T,_payload:{_status:-1,_result:D},_init:Z}},Re.memo=function(D,K){return{$$typeof:y,type:D,compare:K===void 0?null:K}},Re.startTransition=function(D){var K=C.T,ne={};C.T=ne;try{var se=D(),ve=C.S;ve!==null&&ve(ne,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(ue,de)}catch(Ae){de(Ae)}finally{K!==null&&ne.types!==null&&(K.types=ne.types),C.T=K}},Re.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Re.use=function(D){return C.H.use(D)},Re.useActionState=function(D,K,ne){return C.H.useActionState(D,K,ne)},Re.useCallback=function(D,K){return C.H.useCallback(D,K)},Re.useContext=function(D){return C.H.useContext(D)},Re.useDebugValue=function(){},Re.useDeferredValue=function(D,K){return C.H.useDeferredValue(D,K)},Re.useEffect=function(D,K){return C.H.useEffect(D,K)},Re.useEffectEvent=function(D){return C.H.useEffectEvent(D)},Re.useId=function(){return C.H.useId()},Re.useImperativeHandle=function(D,K,ne){return C.H.useImperativeHandle(D,K,ne)},Re.useInsertionEffect=function(D,K){return C.H.useInsertionEffect(D,K)},Re.useLayoutEffect=function(D,K){return C.H.useLayoutEffect(D,K)},Re.useMemo=function(D,K){return C.H.useMemo(D,K)},Re.useOptimistic=function(D,K){return C.H.useOptimistic(D,K)},Re.useReducer=function(D,K,ne){return C.H.useReducer(D,K,ne)},Re.useRef=function(D){return C.H.useRef(D)},Re.useState=function(D){return C.H.useState(D)},Re.useSyncExternalStore=function(D,K,ne){return C.H.useSyncExternalStore(D,K,ne)},Re.useTransition=function(){return C.H.useTransition()},Re.version="19.2.4",Re}var Q0;function Vm(){return Q0||(Q0=1,Pd.exports=cx()),Pd.exports}var je=Vm(),Ud={exports:{}},Al={},Bd={exports:{}},qd={};var Y0;function ux(){return Y0||(Y0=1,(function(s){function e(U,W){var Z=U.length;U.push(W);e:for(;0<Z;){var de=Z-1>>>1,xe=U[de];if(0<l(xe,W))U[de]=W,U[Z]=xe,Z=de;else break e}}function i(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var W=U[0],Z=U.pop();if(Z!==W){U[0]=Z;e:for(var de=0,xe=U.length,D=xe>>>1;de<D;){var K=2*(de+1)-1,ne=U[K],se=K+1,ve=U[se];if(0>l(ne,Z))se<xe&&0>l(ve,ne)?(U[de]=ve,U[se]=Z,de=se):(U[de]=ne,U[K]=Z,de=K);else if(se<xe&&0>l(ve,Z))U[de]=ve,U[se]=Z,de=se;else break e}}return W}function l(U,W){var Z=U.sortIndex-W.sortIndex;return Z!==0?Z:U.id-W.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var g=[],y=[],T=1,x=null,A=3,z=!1,Q=!1,ee=!1,X=!1,he=typeof setTimeout=="function"?setTimeout:null,Ee=typeof clearTimeout=="function"?clearTimeout:null,ge=typeof setImmediate<"u"?setImmediate:null;function Oe(U){for(var W=i(y);W!==null;){if(W.callback===null)r(y);else if(W.startTime<=U)r(y),W.sortIndex=W.expirationTime,e(g,W);else break;W=i(y)}}function Fe(U){if(ee=!1,Oe(U),!Q)if(i(g)!==null)Q=!0,ue||(ue=!0,V());else{var W=i(y);W!==null&&re(Fe,W.startTime-U)}}var ue=!1,C=-1,S=5,R=-1;function M(){return X?!0:!(s.unstable_now()-R<S)}function k(){if(X=!1,ue){var U=s.unstable_now();R=U;var W=!0;try{e:{Q=!1,ee&&(ee=!1,Ee(C),C=-1),z=!0;var Z=A;try{t:{for(Oe(U),x=i(g);x!==null&&!(x.expirationTime>U&&M());){var de=x.callback;if(typeof de=="function"){x.callback=null,A=x.priorityLevel;var xe=de(x.expirationTime<=U);if(U=s.unstable_now(),typeof xe=="function"){x.callback=xe,Oe(U),W=!0;break t}x===i(g)&&r(g),Oe(U)}else r(g);x=i(g)}if(x!==null)W=!0;else{var D=i(y);D!==null&&re(Fe,D.startTime-U),W=!1}}break e}finally{x=null,A=Z,z=!1}W=void 0}}finally{W?V():ue=!1}}}var V;if(typeof ge=="function")V=function(){ge(k)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Ke=N.port2;N.port1.onmessage=k,V=function(){Ke.postMessage(null)}}else V=function(){he(k,0)};function re(U,W){C=he(function(){U(s.unstable_now())},W)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(U){U.callback=null},s.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<U?Math.floor(1e3/U):5},s.unstable_getCurrentPriorityLevel=function(){return A},s.unstable_next=function(U){switch(A){case 1:case 2:case 3:var W=3;break;default:W=A}var Z=A;A=W;try{return U()}finally{A=Z}},s.unstable_requestPaint=function(){X=!0},s.unstable_runWithPriority=function(U,W){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var Z=A;A=U;try{return W()}finally{A=Z}},s.unstable_scheduleCallback=function(U,W,Z){var de=s.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?de+Z:de):Z=de,U){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=Z+xe,U={id:T++,callback:W,priorityLevel:U,startTime:Z,expirationTime:xe,sortIndex:-1},Z>de?(U.sortIndex=Z,e(y,U),i(g)===null&&U===i(y)&&(ee?(Ee(C),C=-1):ee=!0,re(Fe,Z-de))):(U.sortIndex=xe,e(g,U),Q||z||(Q=!0,ue||(ue=!0,V()))),U},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(U){var W=A;return function(){var Z=A;A=W;try{return U.apply(this,arguments)}finally{A=Z}}}})(qd)),qd}var X0;function hx(){return X0||(X0=1,Bd.exports=ux()),Bd.exports}var Hd={exports:{}},Wt={};var $0;function fx(){if($0)return Wt;$0=1;var s=Vm();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(g,y,T){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:x==null?null:""+x,children:g,containerInfo:y,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Wt.createPortal=function(g,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,T)},Wt.flushSync=function(g){var y=d.T,T=r.p;try{if(d.T=null,r.p=2,g)return g()}finally{d.T=y,r.p=T,r.d.f()}},Wt.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},Wt.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Wt.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var T=y.as,x=p(T,y.crossOrigin),A=typeof y.integrity=="string"?y.integrity:void 0,z=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:x,integrity:A,fetchPriority:z}):T==="script"&&r.d.X(g,{crossOrigin:x,integrity:A,fetchPriority:z,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Wt.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=p(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},Wt.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,x=p(T,y.crossOrigin);r.d.L(g,T,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Wt.preloadModule=function(g,y){if(typeof g=="string")if(y){var T=p(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},Wt.requestFormReset=function(g){r.d.r(g)},Wt.unstable_batchedUpdates=function(g,y){return g(y)},Wt.useFormState=function(g,y,T){return d.H.useFormState(g,y,T)},Wt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Wt.version="19.2.4",Wt}var J0;function dx(){if(J0)return Hd.exports;J0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Hd.exports=fx(),Hd.exports}var Z0;function mx(){if(Z0)return Al;Z0=1;var s=hx(),e=Vm(),i=dx();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(r(188))}function y(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return g(h),t;if(f===o)return g(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var _=!1,E=h.child;E;){if(E===a){_=!0,a=h,o=f;break}if(E===o){_=!0,o=h,a=f;break}E=E.sibling}if(!_){for(E=f.child;E;){if(E===a){_=!0,a=f,o=h;break}if(E===o){_=!0,o=f,a=h;break}E=E.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function T(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=T(t),n!==null)return n;t=t.sibling}return null}var x=Object.assign,A=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),ee=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),he=Symbol.for("react.profiler"),Ee=Symbol.for("react.consumer"),ge=Symbol.for("react.context"),Oe=Symbol.for("react.forward_ref"),Fe=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=k&&t[k]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function Ke(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ee:return"Fragment";case he:return"Profiler";case X:return"StrictMode";case Fe:return"Suspense";case ue:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Q:return"Portal";case ge:return t.displayName||"Context";case Ee:return(t._context.displayName||"Context")+".Consumer";case Oe:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:Ke(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Ke(t(n))}catch{}}return null}var re=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},de=[],xe=-1;function D(t){return{current:t}}function K(t){0>xe||(t.current=de[xe],de[xe]=null,xe--)}function ne(t,n){xe++,de[xe]=t.current,t.current=n}var se=D(null),ve=D(null),Ae=D(null),ye=D(null);function pt(t,n){switch(ne(Ae,n),ne(ve,t),ne(se,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?d0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=d0(n),t=m0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(se),ne(se,t)}function Ze(){K(se),K(ve),K(Ae)}function Sn(t){t.memoizedState!==null&&ne(ye,t);var n=se.current,a=m0(n,t.type);n!==a&&(ne(ve,t),ne(se,a))}function ri(t){ve.current===t&&(K(se),K(ve)),ye.current===t&&(K(ye),El._currentValue=Z)}var Bn,ta;function ai(t){if(Bn===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Bn=n&&n[1]||"",ta=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Bn+t+ta}var Eo=!1;function ur(t,n){if(!t||Eo)return"";Eo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(F){var q=F}Reflect.construct(t,[],$)}else{try{$.call()}catch(F){q=F}t.call($.prototype)}}else{try{throw Error()}catch(F){q=F}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(F){if(F&&q&&typeof F.stack=="string")return[F.stack,q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),_=f[0],E=f[1];if(_&&E){var I=_.split(`
`),B=E.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===B.length)for(o=I.length-1,h=B.length-1;1<=o&&0<=h&&I[o]!==B[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==B[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==B[h]){var G=`
`+I[o].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=o&&0<=h);break}}}finally{Eo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ai(a):""}function To(t,n){switch(t.tag){case 26:case 27:case 5:return ai(t.type);case 16:return ai("Lazy");case 13:return t.child!==n&&n!==null?ai("Suspense Fallback"):ai("Suspense");case 19:return ai("SuspenseList");case 0:case 15:return ur(t.type,!1);case 11:return ur(t.type.render,!1);case 1:return ur(t.type,!0);case 31:return ai("Activity");default:return""}}function xo(t){try{var n="",a=null;do n+=To(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var xt=Object.prototype.hasOwnProperty,Mt=s.unstable_scheduleCallback,ds=s.unstable_cancelCallback,Ph=s.unstable_shouldYield,rc=s.unstable_requestPaint,rn=s.unstable_now,hr=s.unstable_getCurrentPriorityLevel,wo=s.unstable_ImmediatePriority,So=s.unstable_UserBlockingPriority,ms=s.unstable_NormalPriority,Uh=s.unstable_LowPriority,ac=s.unstable_IdlePriority,oc=s.log,lc=s.unstable_setDisableYieldValue,qn=null,Ft=null;function An(t){if(typeof oc=="function"&&lc(t),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(qn,t)}catch{}}var _t=Math.clz32?Math.clz32:uc,cc=Math.log,na=Math.LN2;function uc(t){return t>>>=0,t===0?32:31-(cc(t)/na|0)|0}var oi=256,fr=262144,wt=4194304;function li(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ci(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=li(o):(_&=E,_!==0?h=li(_):a||(a=E&~t,a!==0&&(h=li(a))))):(E=o&~f,E!==0?h=li(E):_!==0?h=li(_):a||(a=o&~t,a!==0&&(h=li(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Hn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Bh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hc(){var t=wt;return wt<<=1,(wt&62914560)===0&&(wt=4194304),t}function ui(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function dr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function qh(t,n,a,o,h,f){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,I=t.expirationTimes,B=t.hiddenUpdates;for(a=_&~a;0<a;){var G=31-_t(a),$=1<<G;E[G]=0,I[G]=-1;var q=B[G];if(q!==null)for(B[G]=null,G=0;G<q.length;G++){var F=q[G];F!==null&&(F.lane&=-536870913)}a&=~$}o!==0&&mr(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~n))}function mr(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-_t(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Ao(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-_t(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function Ro(t,n){var a=n&-n;return a=(a&42)!==0?1:pr(a),(a&(t.suspendedLanes|n))!==0?0:a}function pr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function zi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function fc(){var t=W.p;return t!==0?t:(t=window.event,t===void 0?32:z0(t.type))}function Fn(t,n){var a=W.p;try{return W.p=t,n()}finally{W.p=a}}var Gn=Math.random().toString(36).slice(2),St="__reactFiber$"+Gn,Pt="__reactProps$"+Gn,hi="__reactContainer$"+Gn,ia="__reactEvents$"+Gn,Hh="__reactListeners$"+Gn,dc="__reactHandles$"+Gn,mc="__reactResources$"+Gn,fi="__reactMarker$"+Gn;function sa(t){delete t[St],delete t[Pt],delete t[ia],delete t[Hh],delete t[dc]}function di(t){var n=t[St];if(n)return n;for(var a=t.parentNode;a;){if(n=a[hi]||a[St]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=E0(t);t!==null;){if(a=t[St])return a;t=E0(t)}return n}t=a,a=t.parentNode}return null}function Rn(t){if(t=t[St]||t[hi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function gn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function mi(t){var n=t[mc];return n||(n=t[mc]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function At(t){t[fi]=!0}var No=new Set,Co={};function pi(t,n){gi(t,n),gi(t+"Capture",n)}function gi(t,n){for(Co[t]=n,t=0;t<n.length;t++)No.add(n[t])}var Io=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Do={},ko={};function pc(t){return xt.call(ko,t)?!0:xt.call(Do,t)?!1:Io.test(t)?ko[t]=!0:(Do[t]=!0,!1)}function ra(t,n,a){if(pc(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function yn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Rt(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function Ut(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ps(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Oo(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function We(t){if(!t._valueTracker){var n=ps(t)?"checked":"value";t._valueTracker=Oo(t,n,""+t[n])}}function gr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=ps(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function yi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var yr=/[\n"\\]/g;function ln(t){return t.replace(yr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function aa(t,n,a,o,h,f,_,E){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),n!=null?_==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ut(n)):t.value!==""+Ut(n)&&(t.value=""+Ut(n)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),n!=null?Mo(t,_,Ut(n)):a!=null?Mo(t,_,Ut(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ut(E):t.removeAttribute("name")}function gc(t,n,a,o,h,f,_,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){We(t);return}a=a!=null?""+Ut(a):"",n=n!=null?""+Ut(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),We(t)}function Mo(t,n,a){n==="number"&&yi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function gs(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Ut(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function yc(t,n,a){if(n!=null&&(n=""+Ut(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Ut(a):""}function ys(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(re(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Ut(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),We(t)}function cn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var _c=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vo(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||_c.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function jo(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Vo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Vo(t,f,n[f])}function oa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_s=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function la(t){return _s.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Kn(){}var zo=null;function Nn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vs=null,_i=null;function _r(t){var n=Rn(t);if(n&&(t=n.stateNode)){var a=t[Pt]||null;e:switch(t=n.stateNode,n.type){case"input":if(aa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ln(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[Pt]||null;if(!h)throw Error(r(90));aa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&gr(o)}break e;case"textarea":yc(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&gs(t,!!a.multiple,n,!1)}}}var ca=!1;function bs(t,n,a){if(ca)return t(n,a);ca=!0;try{var o=t(n);return o}finally{if(ca=!1,(vs!==null||_i!==null)&&(fu(),vs&&(n=vs,t=_i,_i=vs=null,_r(n),t)))for(n=0;n<t.length;n++)_r(t[n])}}function Qn(t,n){var a=t.stateNode;if(a===null)return null;var o=a[Pt]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vr=!1;if(Cn)try{var nt={};Object.defineProperty(nt,"passive",{get:function(){vr=!0}}),window.addEventListener("test",nt,nt),window.removeEventListener("test",nt,nt)}catch{vr=!1}var vi=null,Lo=null,br=null;function Po(){if(br)return br;var t,n=Lo,a=n.length,o,h="value"in vi?vi.value:vi.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var _=a-t;for(o=1;o<=_&&n[a-o]===h[f-o];o++);return br=h.slice(t,1<o?1-o:void 0)}function Er(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Li(){return!0}function Yn(){return!1}function Gt(t){function n(a,o,h,f,_){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Li:Yn,this.isPropagationStopped=Yn,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),n}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bi=Gt(Pi),Es=x({},Pi,{view:0,detail:0}),Uo=Gt(Es),Ts,ua,Ei,ha=x({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ei&&(Ei&&t.type==="mousemove"?(Ts=t.screenX-Ei.screenX,ua=t.screenY-Ei.screenY):ua=Ts=0,Ei=t),Ts)},movementY:function(t){return"movementY"in t?t.movementY:ua}}),Bo=Gt(ha),Tr=x({},ha,{dataTransfer:0}),bc=Gt(Tr),Ec=x({},Es,{relatedTarget:0}),xr=Gt(Ec),qo=x({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),Tc=Gt(qo),fa=x({},Pi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xc=Gt(fa),wc=x({},Pi,{data:0}),Ti=Gt(wc),Sc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ac={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nc(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Rc[t])?!!n[t]:!1}function xs(){return Nc}var an=x({},Es,{key:function(t){if(t.key){var n=Sc[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Er(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ac[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xs,charCode:function(t){return t.type==="keypress"?Er(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Er(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Cc=Gt(an),Ic=x({},ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ui=Gt(Ic),c=x({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xs}),m=Gt(c),b=x({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Gt(b),L=x({},ha,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=Gt(L),ie=x({},Pi,{newState:0,oldState:0}),Ce=Gt(ie),vt=[9,13,27,32],Xe=Cn&&"CompositionEvent"in window,ht=null;Cn&&"documentMode"in document&&(ht=document.documentMode);var In=Cn&&"TextEvent"in window&&!ht,xi=Cn&&(!Xe||ht&&8<ht&&11>=ht),Xn=" ",$n=!1;function wr(t,n){switch(t){case"keyup":return vt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function da(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ma=!1;function DE(t,n){switch(t){case"compositionend":return da(n);case"keypress":return n.which!==32?null:($n=!0,Xn);case"textInput":return t=n.data,t===Xn&&$n?null:t;default:return null}}function kE(t,n){if(ma)return t==="compositionend"||!Xe&&wr(t,n)?(t=Po(),br=Lo=vi=null,ma=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return xi&&n.locale!=="ko"?null:n.data;default:return null}}var OE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!OE[t.type]:n==="textarea"}function Sp(t,n,a,o){vs?_i?_i.push(o):_i=[o]:vs=o,n=vu(n,"onChange"),0<n.length&&(a=new bi("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var Ho=null,Fo=null;function ME(t){o0(t,0)}function Dc(t){var n=gn(t);if(gr(n))return t}function Ap(t,n){if(t==="change")return n}var Rp=!1;if(Cn){var Fh;if(Cn){var Gh="oninput"in document;if(!Gh){var Np=document.createElement("div");Np.setAttribute("oninput","return;"),Gh=typeof Np.oninput=="function"}Fh=Gh}else Fh=!1;Rp=Fh&&(!document.documentMode||9<document.documentMode)}function Cp(){Ho&&(Ho.detachEvent("onpropertychange",Ip),Fo=Ho=null)}function Ip(t){if(t.propertyName==="value"&&Dc(Fo)){var n=[];Sp(n,Fo,t,Nn(t)),bs(ME,n)}}function VE(t,n,a){t==="focusin"?(Cp(),Ho=n,Fo=a,Ho.attachEvent("onpropertychange",Ip)):t==="focusout"&&Cp()}function jE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Dc(Fo)}function zE(t,n){if(t==="click")return Dc(n)}function LE(t,n){if(t==="input"||t==="change")return Dc(n)}function PE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var _n=typeof Object.is=="function"?Object.is:PE;function Go(t,n){if(_n(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!xt.call(n,h)||!_n(t[h],n[h]))return!1}return!0}function Dp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kp(t,n){var a=Dp(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Dp(a)}}function Op(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Op(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Mp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=yi(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=yi(t.document)}return n}function Kh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var UE=Cn&&"documentMode"in document&&11>=document.documentMode,pa=null,Qh=null,Ko=null,Yh=!1;function Vp(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Yh||pa==null||pa!==yi(o)||(o=pa,"selectionStart"in o&&Kh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ko&&Go(Ko,o)||(Ko=o,o=vu(Qh,"onSelect"),0<o.length&&(n=new bi("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=pa)))}function Sr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var ga={animationend:Sr("Animation","AnimationEnd"),animationiteration:Sr("Animation","AnimationIteration"),animationstart:Sr("Animation","AnimationStart"),transitionrun:Sr("Transition","TransitionRun"),transitionstart:Sr("Transition","TransitionStart"),transitioncancel:Sr("Transition","TransitionCancel"),transitionend:Sr("Transition","TransitionEnd")},Xh={},jp={};Cn&&(jp=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function Ar(t){if(Xh[t])return Xh[t];if(!ga[t])return t;var n=ga[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in jp)return Xh[t]=n[a];return t}var zp=Ar("animationend"),Lp=Ar("animationiteration"),Pp=Ar("animationstart"),BE=Ar("transitionrun"),qE=Ar("transitionstart"),HE=Ar("transitioncancel"),Up=Ar("transitionend"),Bp=new Map,$h="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$h.push("scrollEnd");function Jn(t,n){Bp.set(t,n),pi(n,[t])}var kc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Dn=[],ya=0,Jh=0;function Oc(){for(var t=ya,n=Jh=ya=0;n<t;){var a=Dn[n];Dn[n++]=null;var o=Dn[n];Dn[n++]=null;var h=Dn[n];Dn[n++]=null;var f=Dn[n];if(Dn[n++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}f!==0&&qp(a,h,f)}}function Mc(t,n,a,o){Dn[ya++]=t,Dn[ya++]=n,Dn[ya++]=a,Dn[ya++]=o,Jh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Zh(t,n,a,o){return Mc(t,n,a,o),Vc(t)}function Rr(t,n){return Mc(t,null,null,n),Vc(t)}function qp(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-_t(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Vc(t){if(50<ml)throw ml=0,ld=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var _a={};function FE(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,n,a,o){return new FE(t,n,a,o)}function Wh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Bi(t,n){var a=t.alternate;return a===null?(a=vn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Hp(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function jc(t,n,a,o,h,f){var _=0;if(o=t,typeof t=="function")Wh(t)&&(_=1);else if(typeof t=="string")_=XT(t,a,se.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=vn(31,a,n,h),t.elementType=R,t.lanes=f,t;case ee:return Nr(a.children,h,f,n);case X:_=8,h|=24;break;case he:return t=vn(12,a,n,h|2),t.elementType=he,t.lanes=f,t;case Fe:return t=vn(13,a,n,h),t.elementType=Fe,t.lanes=f,t;case ue:return t=vn(19,a,n,h),t.elementType=ue,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ge:_=10;break e;case Ee:_=9;break e;case Oe:_=11;break e;case C:_=14;break e;case S:_=16,o=null;break e}_=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return n=vn(_,a,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Nr(t,n,a,o){return t=vn(7,t,o,n),t.lanes=a,t}function ef(t,n,a){return t=vn(6,t,null,n),t.lanes=a,t}function Fp(t){var n=vn(18,null,null,0);return n.stateNode=t,n}function tf(t,n,a){return n=vn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Gp=new WeakMap;function kn(t,n){if(typeof t=="object"&&t!==null){var a=Gp.get(t);return a!==void 0?a:(n={value:t,source:n,stack:xo(n)},Gp.set(t,n),n)}return{value:t,source:n,stack:xo(n)}}var va=[],ba=0,zc=null,Qo=0,On=[],Mn=0,ws=null,wi=1,Si="";function qi(t,n){va[ba++]=Qo,va[ba++]=zc,zc=t,Qo=n}function Kp(t,n,a){On[Mn++]=wi,On[Mn++]=Si,On[Mn++]=ws,ws=t;var o=wi;t=Si;var h=32-_t(o)-1;o&=~(1<<h),a+=1;var f=32-_t(n)+h;if(30<f){var _=h-h%5;f=(o&(1<<_)-1).toString(32),o>>=_,h-=_,wi=1<<32-_t(n)+h|a<<h|o,Si=f+t}else wi=1<<f|a<<h|o,Si=t}function nf(t){t.return!==null&&(qi(t,1),Kp(t,1,0))}function sf(t){for(;t===zc;)zc=va[--ba],va[ba]=null,Qo=va[--ba],va[ba]=null;for(;t===ws;)ws=On[--Mn],On[Mn]=null,Si=On[--Mn],On[Mn]=null,wi=On[--Mn],On[Mn]=null}function Qp(t,n){On[Mn++]=wi,On[Mn++]=Si,On[Mn++]=ws,wi=n.id,Si=n.overflow,ws=t}var Kt=null,ot=null,He=!1,Ss=null,Vn=!1,rf=Error(r(519));function As(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yo(kn(n,t)),rf}function Yp(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[St]=t,n[Pt]=o,a){case"dialog":Ve("cancel",n),Ve("close",n);break;case"iframe":case"object":case"embed":Ve("load",n);break;case"video":case"audio":for(a=0;a<gl.length;a++)Ve(gl[a],n);break;case"source":Ve("error",n);break;case"img":case"image":case"link":Ve("error",n),Ve("load",n);break;case"details":Ve("toggle",n);break;case"input":Ve("invalid",n),gc(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ve("invalid",n);break;case"textarea":Ve("invalid",n),ys(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||h0(n.textContent,a)?(o.popover!=null&&(Ve("beforetoggle",n),Ve("toggle",n)),o.onScroll!=null&&Ve("scroll",n),o.onScrollEnd!=null&&Ve("scrollend",n),o.onClick!=null&&(n.onclick=Kn),n=!0):n=!1,n||As(t,!0)}function Xp(t){for(Kt=t.return;Kt;)switch(Kt.tag){case 5:case 31:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:Kt=Kt.return}}function Ea(t){if(t!==Kt)return!1;if(!He)return Xp(t),He=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||xd(t.type,t.memoizedProps)),a=!a),a&&ot&&As(t),Xp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ot=b0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ot=b0(t)}else n===27?(n=ot,Us(t.type)?(t=Nd,Nd=null,ot=t):ot=n):ot=Kt?zn(t.stateNode.nextSibling):null;return!0}function Cr(){ot=Kt=null,He=!1}function af(){var t=Ss;return t!==null&&(dn===null?dn=t:dn.push.apply(dn,t),Ss=null),t}function Yo(t){Ss===null?Ss=[t]:Ss.push(t)}var of=D(null),Ir=null,Hi=null;function Rs(t,n,a){ne(of,n._currentValue),n._currentValue=a}function Fi(t){t._currentValue=of.current,K(of)}function lf(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function cf(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),lf(f.return,a,t),o||(_=null);break e}f=E.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),lf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ta(t,n,a,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var E=h.type;_n(h.pendingProps.value,_.value)||(t!==null?t.push(E):t=[E])}}else if(h===ye.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(El):t=[El])}h=h.return}t!==null&&cf(n,t,a,o),n.flags|=262144}function Lc(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Dr(t){Ir=t,Hi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qt(t){return $p(Ir,t)}function Pc(t,n){return Ir===null&&Dr(t),$p(t,n)}function $p(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Hi===null){if(t===null)throw Error(r(308));Hi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Hi=Hi.next=n;return a}var GE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},KE=s.unstable_scheduleCallback,QE=s.unstable_NormalPriority,Nt={$$typeof:ge,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uf(){return{controller:new GE,data:new Map,refCount:0}}function Xo(t){t.refCount--,t.refCount===0&&KE(QE,function(){t.controller.abort()})}var $o=null,hf=0,xa=0,wa=null;function YE(t,n){if($o===null){var a=$o=[];hf=0,xa=md(),wa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return hf++,n.then(Jp,Jp),n}function Jp(){if(--hf===0&&$o!==null){wa!==null&&(wa.status="fulfilled");var t=$o;$o=null,xa=0,wa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function XE(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Zp=U.S;U.S=function(t,n){Vy=rn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&YE(t,n),Zp!==null&&Zp(t,n)};var kr=D(null);function ff(){var t=kr.current;return t!==null?t:at.pooledCache}function Uc(t,n){n===null?ne(kr,kr.current):ne(kr,n.pool)}function Wp(){var t=ff();return t===null?null:{parent:Nt._currentValue,pool:t}}var Sa=Error(r(460)),df=Error(r(474)),Bc=Error(r(542)),qc={then:function(){}};function eg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function tg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Kn,Kn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ig(t),t;default:if(typeof n.status=="string")n.then(Kn,Kn);else{if(t=at,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ig(t),t}throw Mr=n,Sa}}function Or(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Mr=a,Sa):a}}var Mr=null;function ng(){if(Mr===null)throw Error(r(459));var t=Mr;return Mr=null,t}function ig(t){if(t===Sa||t===Bc)throw Error(r(483))}var Aa=null,Jo=0;function Hc(t){var n=Jo;return Jo+=1,Aa===null&&(Aa=[]),tg(Aa,t,n)}function Zo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Fc(t,n){throw n.$$typeof===A?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function sg(t){function n(j,O){if(t){var P=j.deletions;P===null?(j.deletions=[O],j.flags|=16):P.push(O)}}function a(j,O){if(!t)return null;for(;O!==null;)n(j,O),O=O.sibling;return null}function o(j){for(var O=new Map;j!==null;)j.key!==null?O.set(j.key,j):O.set(j.index,j),j=j.sibling;return O}function h(j,O){return j=Bi(j,O),j.index=0,j.sibling=null,j}function f(j,O,P){return j.index=P,t?(P=j.alternate,P!==null?(P=P.index,P<O?(j.flags|=67108866,O):P):(j.flags|=67108866,O)):(j.flags|=1048576,O)}function _(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function E(j,O,P,Y){return O===null||O.tag!==6?(O=ef(P,j.mode,Y),O.return=j,O):(O=h(O,P),O.return=j,O)}function I(j,O,P,Y){var pe=P.type;return pe===ee?G(j,O,P.props.children,Y,P.key):O!==null&&(O.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===S&&Or(pe)===O.type)?(O=h(O,P.props),Zo(O,P),O.return=j,O):(O=jc(P.type,P.key,P.props,null,j.mode,Y),Zo(O,P),O.return=j,O)}function B(j,O,P,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=tf(P,j.mode,Y),O.return=j,O):(O=h(O,P.children||[]),O.return=j,O)}function G(j,O,P,Y,pe){return O===null||O.tag!==7?(O=Nr(P,j.mode,Y,pe),O.return=j,O):(O=h(O,P),O.return=j,O)}function $(j,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=ef(""+O,j.mode,P),O.return=j,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case z:return P=jc(O.type,O.key,O.props,null,j.mode,P),Zo(P,O),P.return=j,P;case Q:return O=tf(O,j.mode,P),O.return=j,O;case S:return O=Or(O),$(j,O,P)}if(re(O)||V(O))return O=Nr(O,j.mode,P,null),O.return=j,O;if(typeof O.then=="function")return $(j,Hc(O),P);if(O.$$typeof===ge)return $(j,Pc(j,O),P);Fc(j,O)}return null}function q(j,O,P,Y){var pe=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return pe!==null?null:E(j,O,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case z:return P.key===pe?I(j,O,P,Y):null;case Q:return P.key===pe?B(j,O,P,Y):null;case S:return P=Or(P),q(j,O,P,Y)}if(re(P)||V(P))return pe!==null?null:G(j,O,P,Y,null);if(typeof P.then=="function")return q(j,O,Hc(P),Y);if(P.$$typeof===ge)return q(j,O,Pc(j,P),Y);Fc(j,P)}return null}function F(j,O,P,Y,pe){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return j=j.get(P)||null,E(O,j,""+Y,pe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case z:return j=j.get(Y.key===null?P:Y.key)||null,I(O,j,Y,pe);case Q:return j=j.get(Y.key===null?P:Y.key)||null,B(O,j,Y,pe);case S:return Y=Or(Y),F(j,O,P,Y,pe)}if(re(Y)||V(Y))return j=j.get(P)||null,G(O,j,Y,pe,null);if(typeof Y.then=="function")return F(j,O,P,Hc(Y),pe);if(Y.$$typeof===ge)return F(j,O,P,Pc(O,Y),pe);Fc(O,Y)}return null}function oe(j,O,P,Y){for(var pe=null,Qe=null,fe=O,De=O=0,Le=null;fe!==null&&De<P.length;De++){fe.index>De?(Le=fe,fe=null):Le=fe.sibling;var Ye=q(j,fe,P[De],Y);if(Ye===null){fe===null&&(fe=Le);break}t&&fe&&Ye.alternate===null&&n(j,fe),O=f(Ye,O,De),Qe===null?pe=Ye:Qe.sibling=Ye,Qe=Ye,fe=Le}if(De===P.length)return a(j,fe),He&&qi(j,De),pe;if(fe===null){for(;De<P.length;De++)fe=$(j,P[De],Y),fe!==null&&(O=f(fe,O,De),Qe===null?pe=fe:Qe.sibling=fe,Qe=fe);return He&&qi(j,De),pe}for(fe=o(fe);De<P.length;De++)Le=F(fe,j,De,P[De],Y),Le!==null&&(t&&Le.alternate!==null&&fe.delete(Le.key===null?De:Le.key),O=f(Le,O,De),Qe===null?pe=Le:Qe.sibling=Le,Qe=Le);return t&&fe.forEach(function(Gs){return n(j,Gs)}),He&&qi(j,De),pe}function be(j,O,P,Y){if(P==null)throw Error(r(151));for(var pe=null,Qe=null,fe=O,De=O=0,Le=null,Ye=P.next();fe!==null&&!Ye.done;De++,Ye=P.next()){fe.index>De?(Le=fe,fe=null):Le=fe.sibling;var Gs=q(j,fe,Ye.value,Y);if(Gs===null){fe===null&&(fe=Le);break}t&&fe&&Gs.alternate===null&&n(j,fe),O=f(Gs,O,De),Qe===null?pe=Gs:Qe.sibling=Gs,Qe=Gs,fe=Le}if(Ye.done)return a(j,fe),He&&qi(j,De),pe;if(fe===null){for(;!Ye.done;De++,Ye=P.next())Ye=$(j,Ye.value,Y),Ye!==null&&(O=f(Ye,O,De),Qe===null?pe=Ye:Qe.sibling=Ye,Qe=Ye);return He&&qi(j,De),pe}for(fe=o(fe);!Ye.done;De++,Ye=P.next())Ye=F(fe,j,De,Ye.value,Y),Ye!==null&&(t&&Ye.alternate!==null&&fe.delete(Ye.key===null?De:Ye.key),O=f(Ye,O,De),Qe===null?pe=Ye:Qe.sibling=Ye,Qe=Ye);return t&&fe.forEach(function(ax){return n(j,ax)}),He&&qi(j,De),pe}function rt(j,O,P,Y){if(typeof P=="object"&&P!==null&&P.type===ee&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case z:e:{for(var pe=P.key;O!==null;){if(O.key===pe){if(pe=P.type,pe===ee){if(O.tag===7){a(j,O.sibling),Y=h(O,P.props.children),Y.return=j,j=Y;break e}}else if(O.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===S&&Or(pe)===O.type){a(j,O.sibling),Y=h(O,P.props),Zo(Y,P),Y.return=j,j=Y;break e}a(j,O);break}else n(j,O);O=O.sibling}P.type===ee?(Y=Nr(P.props.children,j.mode,Y,P.key),Y.return=j,j=Y):(Y=jc(P.type,P.key,P.props,null,j.mode,Y),Zo(Y,P),Y.return=j,j=Y)}return _(j);case Q:e:{for(pe=P.key;O!==null;){if(O.key===pe)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){a(j,O.sibling),Y=h(O,P.children||[]),Y.return=j,j=Y;break e}else{a(j,O);break}else n(j,O);O=O.sibling}Y=tf(P,j.mode,Y),Y.return=j,j=Y}return _(j);case S:return P=Or(P),rt(j,O,P,Y)}if(re(P))return oe(j,O,P,Y);if(V(P)){if(pe=V(P),typeof pe!="function")throw Error(r(150));return P=pe.call(P),be(j,O,P,Y)}if(typeof P.then=="function")return rt(j,O,Hc(P),Y);if(P.$$typeof===ge)return rt(j,O,Pc(j,P),Y);Fc(j,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(a(j,O.sibling),Y=h(O,P),Y.return=j,j=Y):(a(j,O),Y=ef(P,j.mode,Y),Y.return=j,j=Y),_(j)):a(j,O)}return function(j,O,P,Y){try{Jo=0;var pe=rt(j,O,P,Y);return Aa=null,pe}catch(fe){if(fe===Sa||fe===Bc)throw fe;var Qe=vn(29,fe,null,j.mode);return Qe.lanes=Y,Qe.return=j,Qe}}}var Vr=sg(!0),rg=sg(!1),Ns=!1;function mf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Cs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Is(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,($e&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Vc(t),qp(t,null,a),n}return Mc(t,o,n,a),Vc(t)}function Wo(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Ao(t,a)}}function gf(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var yf=!1;function el(){if(yf){var t=wa;if(t!==null)throw t}}function tl(t,n,a,o){yf=!1;var h=t.updateQueue;Ns=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,B=I.next;I.next=null,_===null?f=B:_.next=B,_=I;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==_&&(E===null?G.firstBaseUpdate=B:E.next=B,G.lastBaseUpdate=I))}if(f!==null){var $=h.baseState;_=0,G=B=I=null,E=f;do{var q=E.lane&-536870913,F=q!==E.lane;if(F?(ze&q)===q:(o&q)===q){q!==0&&q===xa&&(yf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var oe=t,be=E;q=n;var rt=a;switch(be.tag){case 1:if(oe=be.payload,typeof oe=="function"){$=oe.call(rt,$,q);break e}$=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=be.payload,q=typeof oe=="function"?oe.call(rt,$,q):oe,q==null)break e;$=x({},$,q);break e;case 2:Ns=!0}}q=E.callback,q!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[q]:F.push(q))}else F={lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(B=G=F,I=$):G=G.next=F,_|=q;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;F=E,E=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);G===null&&(I=$),h.baseState=I,h.firstBaseUpdate=B,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Vs|=_,t.lanes=_,t.memoizedState=$}}function ag(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function og(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ag(a[t],n)}var Ra=D(null),Gc=D(0);function lg(t,n){t=Wi,ne(Gc,t),ne(Ra,n),Wi=t|n.baseLanes}function _f(){ne(Gc,Wi),ne(Ra,Ra.current)}function vf(){Wi=Gc.current,K(Ra),K(Gc)}var bn=D(null),jn=null;function Ds(t){var n=t.alternate;ne(bt,bt.current&1),ne(bn,t),jn===null&&(n===null||Ra.current!==null||n.memoizedState!==null)&&(jn=t)}function bf(t){ne(bt,bt.current),ne(bn,t),jn===null&&(jn=t)}function cg(t){t.tag===22?(ne(bt,bt.current),ne(bn,t),jn===null&&(jn=t)):ks()}function ks(){ne(bt,bt.current),ne(bn,bn.current)}function En(t){K(bn),jn===t&&(jn=null),K(bt)}var bt=D(0);function Kc(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ad(a)||Rd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Gi=0,Ie=null,it=null,Ct=null,Qc=!1,Na=!1,jr=!1,Yc=0,nl=0,Ca=null,$E=0;function gt(){throw Error(r(321))}function Ef(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!_n(t[a],n[a]))return!1;return!0}function Tf(t,n,a,o,h,f){return Gi=f,Ie=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,U.H=t===null||t.memoizedState===null?Kg:zf,jr=!1,f=a(o,h),jr=!1,Na&&(f=hg(n,a,o,h)),ug(t),f}function ug(t){U.H=rl;var n=it!==null&&it.next!==null;if(Gi=0,Ct=it=Ie=null,Qc=!1,nl=0,Ca=null,n)throw Error(r(300));t===null||It||(t=t.dependencies,t!==null&&Lc(t)&&(It=!0))}function hg(t,n,a,o){Ie=t;var h=0;do{if(Na&&(Ca=null),nl=0,Na=!1,25<=h)throw Error(r(301));if(h+=1,Ct=it=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}U.H=Qg,f=n(a,o)}while(Na);return f}function JE(){var t=U.H,n=t.useState()[0];return n=typeof n.then=="function"?il(n):n,t=t.useState()[0],(it!==null?it.memoizedState:null)!==t&&(Ie.flags|=1024),n}function xf(){var t=Yc!==0;return Yc=0,t}function wf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Sf(t){if(Qc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Qc=!1}Gi=0,Ct=it=Ie=null,Na=!1,nl=Yc=0,Ca=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Ie.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function Et(){if(it===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var n=Ct===null?Ie.memoizedState:Ct.next;if(n!==null)Ct=n,it=t;else{if(t===null)throw Ie.alternate===null?Error(r(467)):Error(r(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},Ct===null?Ie.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function Xc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function il(t){var n=nl;return nl+=1,Ca===null&&(Ca=[]),t=tg(Ca,t,n),n=Ie,(Ct===null?n.memoizedState:Ct.next)===null&&(n=n.alternate,U.H=n===null||n.memoizedState===null?Kg:zf),t}function $c(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return il(t);if(t.$$typeof===ge)return Qt(t)}throw Error(r(438,String(t)))}function Af(t){var n=null,a=Ie.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Ie.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Xc(),Ie.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=M;return n.index++,a}function Ki(t,n){return typeof n=="function"?n(t):n}function Jc(t){var n=Et();return Rf(n,it,t)}function Rf(t,n,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=_=null,I=null,B=n,G=!1;do{var $=B.lane&-536870913;if($!==B.lane?(ze&$)===$:(Gi&$)===$){var q=B.revertLane;if(q===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),$===xa&&(G=!0);else if((Gi&q)===q){B=B.next,q===xa&&(G=!0);continue}else $={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(E=I=$,_=f):I=I.next=$,Ie.lanes|=q,Vs|=q;$=B.action,jr&&a(f,$),f=B.hasEagerState?B.eagerState:a(f,$)}else q={lane:$,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(E=I=q,_=f):I=I.next=q,Ie.lanes|=$,Vs|=$;B=B.next}while(B!==null&&B!==n);if(I===null?_=f:I.next=E,!_n(f,t.memoizedState)&&(It=!0,G&&(a=wa,a!==null)))throw a;t.memoizedState=f,t.baseState=_,t.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Nf(t){var n=Et(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do f=t(f,_.action),_=_.next;while(_!==h);_n(f,n.memoizedState)||(It=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function fg(t,n,a){var o=Ie,h=Et(),f=He;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var _=!_n((it||h).memoizedState,a);if(_&&(h.memoizedState=a,It=!0),h=h.queue,Df(pg.bind(null,o,h,t),[t]),h.getSnapshot!==n||_||Ct!==null&&Ct.memoizedState.tag&1){if(o.flags|=2048,Ia(9,{destroy:void 0},mg.bind(null,o,h,a,n),null),at===null)throw Error(r(349));f||(Gi&127)!==0||dg(o,n,a)}return a}function dg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Ie.updateQueue,n===null?(n=Xc(),Ie.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function mg(t,n,a,o){n.value=a,n.getSnapshot=o,gg(n)&&yg(t)}function pg(t,n,a){return a(function(){gg(n)&&yg(t)})}function gg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!_n(t,a)}catch{return!0}}function yg(t){var n=Rr(t,2);n!==null&&mn(n,t,2)}function Cf(t){var n=on();if(typeof t=="function"){var a=t;if(t=a(),jr){An(!0);try{a()}finally{An(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:t},n}function _g(t,n,a,o){return t.baseState=a,Rf(t,it,typeof o=="function"?o:Ki)}function ZE(t,n,a,o,h){if(eu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};U.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,vg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function vg(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=U.T,_={};U.T=_;try{var E=a(h,o),I=U.S;I!==null&&I(_,E),bg(t,n,E)}catch(B){If(t,n,B)}finally{f!==null&&_.types!==null&&(f.types=_.types),U.T=f}}else try{f=a(h,o),bg(t,n,f)}catch(B){If(t,n,B)}}function bg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Eg(t,n,o)},function(o){return If(t,n,o)}):Eg(t,n,a)}function Eg(t,n,a){n.status="fulfilled",n.value=a,Tg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,vg(t,a)))}function If(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Tg(n),n=n.next;while(n!==o)}t.action=null}function Tg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function xg(t,n){return n}function wg(t,n){if(He){var a=at.formState;if(a!==null){e:{var o=Ie;if(He){if(ot){t:{for(var h=ot,f=Vn;h.nodeType!==8;){if(!f){h=null;break t}if(h=zn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ot=zn(h.nextSibling),o=h.data==="F!";break e}}As(o)}o=!1}o&&(n=a[0])}}return a=on(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xg,lastRenderedState:n},a.queue=o,a=Hg.bind(null,Ie,o),o.dispatch=a,o=Cf(!1),f=jf.bind(null,Ie,!1,o.queue),o=on(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=ZE.bind(null,Ie,h,f,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function Sg(t){var n=Et();return Ag(n,it,t)}function Ag(t,n,a){if(n=Rf(t,n,xg)[0],t=Jc(Ki)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=il(n)}catch(_){throw _===Sa?Bc:_}else o=n;n=Et();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Ie.flags|=2048,Ia(9,{destroy:void 0},WE.bind(null,h,a),null)),[o,f,t]}function WE(t,n){t.action=n}function Rg(t){var n=Et(),a=it;if(a!==null)return Ag(n,a,t);Et(),n=n.memoizedState,a=Et();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function Ia(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=Ie.updateQueue,n===null&&(n=Xc(),Ie.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function Ng(){return Et().memoizedState}function Zc(t,n,a,o){var h=on();Ie.flags|=t,h.memoizedState=Ia(1|n,{destroy:void 0},a,o===void 0?null:o)}function Wc(t,n,a,o){var h=Et();o=o===void 0?null:o;var f=h.memoizedState.inst;it!==null&&o!==null&&Ef(o,it.memoizedState.deps)?h.memoizedState=Ia(n,f,a,o):(Ie.flags|=t,h.memoizedState=Ia(1|n,f,a,o))}function Cg(t,n){Zc(8390656,8,t,n)}function Df(t,n){Wc(2048,8,t,n)}function eT(t){Ie.flags|=4;var n=Ie.updateQueue;if(n===null)n=Xc(),Ie.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Ig(t){var n=Et().memoizedState;return eT({ref:n,nextImpl:t}),function(){if(($e&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Dg(t,n){return Wc(4,2,t,n)}function kg(t,n){return Wc(4,4,t,n)}function Og(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Mg(t,n,a){a=a!=null?a.concat([t]):null,Wc(4,4,Og.bind(null,n,t),a)}function kf(){}function Vg(t,n){var a=Et();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Ef(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function jg(t,n){var a=Et();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Ef(n,o[1]))return o[0];if(o=t(),jr){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[o,n],o}function Of(t,n,a){return a===void 0||(Gi&1073741824)!==0&&(ze&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=zy(),Ie.lanes|=t,Vs|=t,a)}function zg(t,n,a,o){return _n(a,n)?a:Ra.current!==null?(t=Of(t,a,o),_n(t,n)||(It=!0),t):(Gi&42)===0||(Gi&1073741824)!==0&&(ze&261930)===0?(It=!0,t.memoizedState=a):(t=zy(),Ie.lanes|=t,Vs|=t,n)}function Lg(t,n,a,o,h){var f=W.p;W.p=f!==0&&8>f?f:8;var _=U.T,E={};U.T=E,jf(t,!1,n,a);try{var I=h(),B=U.S;if(B!==null&&B(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var G=XE(I,o);sl(t,n,G,wn(t))}else sl(t,n,o,wn(t))}catch($){sl(t,n,{then:function(){},status:"rejected",reason:$},wn())}finally{W.p=f,_!==null&&E.types!==null&&(_.types=E.types),U.T=_}}function tT(){}function Mf(t,n,a,o){if(t.tag!==5)throw Error(r(476));var h=Pg(t).queue;Lg(t,h,n,Z,a===null?tT:function(){return Ug(t),a(o)})}function Pg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:Z},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Ug(t){var n=Pg(t);n.next===null&&(n=t.alternate.memoizedState),sl(t,n.next.queue,{},wn())}function Vf(){return Qt(El)}function Bg(){return Et().memoizedState}function qg(){return Et().memoizedState}function nT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=wn();t=Cs(a);var o=Is(n,t,a);o!==null&&(mn(o,n,a),Wo(o,n,a)),n={cache:uf()},t.payload=n;return}n=n.return}}function iT(t,n,a){var o=wn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},eu(t)?Fg(n,a):(a=Zh(t,n,a,o),a!==null&&(mn(a,t,o),Gg(a,n,o)))}function Hg(t,n,a){var o=wn();sl(t,n,a,o)}function sl(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(eu(t))Fg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,E=f(_,a);if(h.hasEagerState=!0,h.eagerState=E,_n(E,_))return Mc(t,n,h,0),at===null&&Oc(),!1}catch{}if(a=Zh(t,n,h,o),a!==null)return mn(a,t,o),Gg(a,n,o),!0}return!1}function jf(t,n,a,o){if(o={lane:2,revertLane:md(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},eu(t)){if(n)throw Error(r(479))}else n=Zh(t,a,o,2),n!==null&&mn(n,t,2)}function eu(t){var n=t.alternate;return t===Ie||n!==null&&n===Ie}function Fg(t,n){Na=Qc=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Gg(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Ao(t,a)}}var rl={readContext:Qt,use:$c,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt};rl.useEffectEvent=gt;var Kg={readContext:Qt,use:$c,useCallback:function(t,n){return on().memoizedState=[t,n===void 0?null:n],t},useContext:Qt,useEffect:Cg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Zc(4194308,4,Og.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Zc(4194308,4,t,n)},useInsertionEffect:function(t,n){Zc(4,2,t,n)},useMemo:function(t,n){var a=on();n=n===void 0?null:n;var o=t();if(jr){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=on();if(a!==void 0){var h=a(n);if(jr){An(!0);try{a(n)}finally{An(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=iT.bind(null,Ie,t),[o.memoizedState,t]},useRef:function(t){var n=on();return t={current:t},n.memoizedState=t},useState:function(t){t=Cf(t);var n=t.queue,a=Hg.bind(null,Ie,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:kf,useDeferredValue:function(t,n){var a=on();return Of(a,t,n)},useTransition:function(){var t=Cf(!1);return t=Lg.bind(null,Ie,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=Ie,h=on();if(He){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),at===null)throw Error(r(349));(ze&127)!==0||dg(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Cg(pg.bind(null,o,f,t),[t]),o.flags|=2048,Ia(9,{destroy:void 0},mg.bind(null,o,f,a,n),null),a},useId:function(){var t=on(),n=at.identifierPrefix;if(He){var a=Si,o=wi;a=(o&~(1<<32-_t(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Yc++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=$E++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Vf,useFormState:wg,useActionState:wg,useOptimistic:function(t){var n=on();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=jf.bind(null,Ie,!0,a),a.dispatch=n,[t,n]},useMemoCache:Af,useCacheRefresh:function(){return on().memoizedState=nT.bind(null,Ie)},useEffectEvent:function(t){var n=on(),a={impl:t};return n.memoizedState=a,function(){if(($e&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},zf={readContext:Qt,use:$c,useCallback:Vg,useContext:Qt,useEffect:Df,useImperativeHandle:Mg,useInsertionEffect:Dg,useLayoutEffect:kg,useMemo:jg,useReducer:Jc,useRef:Ng,useState:function(){return Jc(Ki)},useDebugValue:kf,useDeferredValue:function(t,n){var a=Et();return zg(a,it.memoizedState,t,n)},useTransition:function(){var t=Jc(Ki)[0],n=Et().memoizedState;return[typeof t=="boolean"?t:il(t),n]},useSyncExternalStore:fg,useId:Bg,useHostTransitionStatus:Vf,useFormState:Sg,useActionState:Sg,useOptimistic:function(t,n){var a=Et();return _g(a,it,t,n)},useMemoCache:Af,useCacheRefresh:qg};zf.useEffectEvent=Ig;var Qg={readContext:Qt,use:$c,useCallback:Vg,useContext:Qt,useEffect:Df,useImperativeHandle:Mg,useInsertionEffect:Dg,useLayoutEffect:kg,useMemo:jg,useReducer:Nf,useRef:Ng,useState:function(){return Nf(Ki)},useDebugValue:kf,useDeferredValue:function(t,n){var a=Et();return it===null?Of(a,t,n):zg(a,it.memoizedState,t,n)},useTransition:function(){var t=Nf(Ki)[0],n=Et().memoizedState;return[typeof t=="boolean"?t:il(t),n]},useSyncExternalStore:fg,useId:Bg,useHostTransitionStatus:Vf,useFormState:Rg,useActionState:Rg,useOptimistic:function(t,n){var a=Et();return it!==null?_g(a,it,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Af,useCacheRefresh:qg};Qg.useEffectEvent=Ig;function Lf(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:x({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Pf={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=wn(),h=Cs(o);h.payload=n,a!=null&&(h.callback=a),n=Is(t,h,o),n!==null&&(mn(n,t,o),Wo(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=wn(),h=Cs(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Is(t,h,o),n!==null&&(mn(n,t,o),Wo(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=wn(),o=Cs(a);o.tag=2,n!=null&&(o.callback=n),n=Is(t,o,a),n!==null&&(mn(n,t,a),Wo(n,t,a))}};function Yg(t,n,a,o,h,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,_):n.prototype&&n.prototype.isPureReactComponent?!Go(a,o)||!Go(h,f):!0}function Xg(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&Pf.enqueueReplaceState(n,n.state,null)}function zr(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=x({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function $g(t){kc(t)}function Jg(t){console.error(t)}function Zg(t){kc(t)}function tu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Wg(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Uf(t,n,a){return a=Cs(a),a.tag=3,a.payload={element:null},a.callback=function(){tu(t,n)},a}function ey(t){return t=Cs(t),t.tag=3,t}function ty(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){Wg(n,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Wg(n,a,o),typeof h!="function"&&(js===null?js=new Set([this]):js.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function sT(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Ta(n,a,h,!0),a=bn.current,a!==null){switch(a.tag){case 31:case 13:return jn===null?du():a.alternate===null&&yt===0&&(yt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===qc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),hd(t,o,h)),!1;case 22:return a.flags|=65536,o===qc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),hd(t,o,h)),!1}throw Error(r(435,a.tag))}return hd(t,o,h),du(),!1}if(He)return n=bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==rf&&(t=Error(r(422),{cause:o}),Yo(kn(t,a)))):(o!==rf&&(n=Error(r(423),{cause:o}),Yo(kn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=kn(o,a),h=Uf(t.stateNode,o,h),gf(t,h),yt!==4&&(yt=2)),!1;var f=Error(r(520),{cause:o});if(f=kn(f,a),dl===null?dl=[f]:dl.push(f),yt!==4&&(yt=2),n===null)return!0;o=kn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Uf(a.stateNode,o,t),gf(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(js===null||!js.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ey(h),ty(h,t,a,o),gf(a,h),!1}a=a.return}while(a!==null);return!1}var Bf=Error(r(461)),It=!1;function Yt(t,n,a,o){n.child=t===null?rg(n,null,a,o):Vr(n,t.child,a,o)}function ny(t,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var _={};for(var E in o)E!=="ref"&&(_[E]=o[E])}else _=o;return Dr(n),o=Tf(t,n,a,_,f,h),E=xf(),t!==null&&!It?(wf(t,n,h),Qi(t,n,h)):(He&&E&&nf(n),n.flags|=1,Yt(t,n,o,h),n.child)}function iy(t,n,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!Wh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,sy(t,n,f,o,h)):(t=jc(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Xf(t,h)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:Go,a(_,o)&&t.ref===n.ref)return Qi(t,n,h)}return n.flags|=1,t=Bi(f,o),t.ref=n.ref,t.return=n,n.child=t}function sy(t,n,a,o,h){if(t!==null){var f=t.memoizedProps;if(Go(f,o)&&t.ref===n.ref)if(It=!1,n.pendingProps=o=f,Xf(t,h))(t.flags&131072)!==0&&(It=!0);else return n.lanes=t.lanes,Qi(t,n,h)}return qf(t,n,a,o,h)}function ry(t,n,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return ay(t,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Uc(n,f!==null?f.cachePool:null),f!==null?lg(n,f):_f(),cg(n);else return o=n.lanes=536870912,ay(t,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Uc(n,f.cachePool),lg(n,f),ks(),n.memoizedState=null):(t!==null&&Uc(n,null),_f(),ks());return Yt(t,n,h,a),n.child}function al(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ay(t,n,a,o,h){var f=ff();return f=f===null?null:{parent:Nt._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Uc(n,null),_f(),cg(n),t!==null&&Ta(t,n,o,!0),n.childLanes=h,null}function nu(t,n){return n=su({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function oy(t,n,a){return Vr(n,t.child,null,a),t=nu(n,n.pendingProps),t.flags|=2,En(n),n.memoizedState=null,t}function rT(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(He){if(o.mode==="hidden")return t=nu(n,o),n.lanes=536870912,al(null,t);if(bf(n),(t=ot)?(t=v0(t,Vn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ws!==null?{id:wi,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},a=Fp(t),a.return=n,n.child=a,Kt=n,ot=null)):t=null,t===null)throw As(n);return n.lanes=536870912,null}return nu(n,o)}var f=t.memoizedState;if(f!==null){var _=f.dehydrated;if(bf(n),h)if(n.flags&256)n.flags&=-257,n=oy(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(It||Ta(t,n,a,!1),h=(a&t.childLanes)!==0,It||h){if(o=at,o!==null&&(_=Ro(o,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,Rr(t,_),mn(o,t,_),Bf;du(),n=oy(t,n,a)}else t=f.treeContext,ot=zn(_.nextSibling),Kt=n,He=!0,Ss=null,Vn=!1,t!==null&&Qp(n,t),n=nu(n,o),n.flags|=4096;return n}return t=Bi(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function iu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function qf(t,n,a,o,h){return Dr(n),a=Tf(t,n,a,o,void 0,h),o=xf(),t!==null&&!It?(wf(t,n,h),Qi(t,n,h)):(He&&o&&nf(n),n.flags|=1,Yt(t,n,a,h),n.child)}function ly(t,n,a,o,h,f){return Dr(n),n.updateQueue=null,a=hg(n,o,a,h),ug(t),o=xf(),t!==null&&!It?(wf(t,n,f),Qi(t,n,f)):(He&&o&&nf(n),n.flags|=1,Yt(t,n,a,f),n.child)}function cy(t,n,a,o,h){if(Dr(n),n.stateNode===null){var f=_a,_=a.contextType;typeof _=="object"&&_!==null&&(f=Qt(_)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Pf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},mf(n),_=a.contextType,f.context=typeof _=="object"&&_!==null?Qt(_):_a,f.state=n.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Lf(n,a,_,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&Pf.enqueueReplaceState(f,f.state,null),tl(n,o,f,h),el(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,I=zr(a,E);f.props=I;var B=f.context,G=a.contextType;_=_a,typeof G=="object"&&G!==null&&(_=Qt(G));var $=a.getDerivedStateFromProps;G=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||B!==_)&&Xg(n,f,o,_),Ns=!1;var q=n.memoizedState;f.state=q,tl(n,o,f,h),el(),B=n.memoizedState,E||q!==B||Ns?(typeof $=="function"&&(Lf(n,a,$,o),B=n.memoizedState),(I=Ns||Yg(n,a,I,o,q,B,_))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=B),f.props=o,f.state=B,f.context=_,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,pf(t,n),_=n.memoizedProps,G=zr(a,_),f.props=G,$=n.pendingProps,q=f.context,B=a.contextType,I=_a,typeof B=="object"&&B!==null&&(I=Qt(B)),E=a.getDerivedStateFromProps,(B=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==$||q!==I)&&Xg(n,f,o,I),Ns=!1,q=n.memoizedState,f.state=q,tl(n,o,f,h),el();var F=n.memoizedState;_!==$||q!==F||Ns||t!==null&&t.dependencies!==null&&Lc(t.dependencies)?(typeof E=="function"&&(Lf(n,a,E,o),F=n.memoizedState),(G=Ns||Yg(n,a,G,o,q,F,I)||t!==null&&t.dependencies!==null&&Lc(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,F,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,F,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=F),f.props=o,f.state=F,f.context=I,o=G):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,iu(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Vr(n,t.child,null,h),n.child=Vr(n,null,a,h)):Yt(t,n,a,h),n.memoizedState=f.state,t=n.child):t=Qi(t,n,h),t}function uy(t,n,a,o){return Cr(),n.flags|=256,Yt(t,n,a,o),n.child}var Hf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ff(t){return{baseLanes:t,cachePool:Wp()}}function Gf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=xn),t}function hy(t,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(bt.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,t===null){if(He){if(h?Ds(n):ks(),(t=ot)?(t=v0(t,Vn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ws!==null?{id:wi,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},a=Fp(t),a.return=n,n.child=a,Kt=n,ot=null)):t=null,t===null)throw As(n);return Rd(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(ks(),h=n.mode,E=su({mode:"hidden",children:E},h),o=Nr(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Ff(a),o.childLanes=Gf(t,_,a),n.memoizedState=Hf,al(null,o)):(Ds(n),Kf(n,E))}var I=t.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(Ds(n),n.flags&=-257,n=Qf(t,n,a)):n.memoizedState!==null?(ks(),n.child=t.child,n.flags|=128,n=null):(ks(),E=o.fallback,h=n.mode,o=su({mode:"visible",children:o.children},h),E=Nr(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Vr(n,t.child,null,a),o=n.child,o.memoizedState=Ff(a),o.childLanes=Gf(t,_,a),n.memoizedState=Hf,n=al(null,o));else if(Ds(n),Rd(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var B=_.dgst;_=B,o=Error(r(419)),o.stack="",o.digest=_,Yo({value:o,source:null,stack:null}),n=Qf(t,n,a)}else if(It||Ta(t,n,a,!1),_=(a&t.childLanes)!==0,It||_){if(_=at,_!==null&&(o=Ro(_,a),o!==0&&o!==I.retryLane))throw I.retryLane=o,Rr(t,o),mn(_,t,o),Bf;Ad(E)||du(),n=Qf(t,n,a)}else Ad(E)?(n.flags|=192,n.child=t.child,n=null):(t=I.treeContext,ot=zn(E.nextSibling),Kt=n,He=!0,Ss=null,Vn=!1,t!==null&&Qp(n,t),n=Kf(n,o.children),n.flags|=4096);return n}return h?(ks(),E=o.fallback,h=n.mode,I=t.child,B=I.sibling,o=Bi(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,B!==null?E=Bi(B,E):(E=Nr(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,al(null,o),o=n.child,E=t.child.memoizedState,E===null?E=Ff(a):(h=E.cachePool,h!==null?(I=Nt._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Wp(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=Gf(t,_,a),n.memoizedState=Hf,al(t.child,o)):(Ds(n),a=t.child,t=a.sibling,a=Bi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(_=n.deletions,_===null?(n.deletions=[t],n.flags|=16):_.push(t)),n.child=a,n.memoizedState=null,a)}function Kf(t,n){return n=su({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function su(t,n){return t=vn(22,t,null,n),t.lanes=0,t}function Qf(t,n,a){return Vr(n,t.child,null,a),t=Kf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function fy(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),lf(t.return,n,a)}function Yf(t,n,a,o,h,f){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(_.isBackwards=n,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=a,_.tailMode=h,_.treeForkCount=f)}function dy(t,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var _=bt.current,E=(_&2)!==0;if(E?(_=_&1|2,n.flags|=128):_&=1,ne(bt,_),Yt(t,n,o,a),o=He?Qo:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fy(t,a,n);else if(t.tag===19)fy(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Kc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Yf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Kc(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Yf(n,!0,a,null,f,o);break;case"together":Yf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Qi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Vs|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Ta(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Bi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Bi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Xf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Lc(t)))}function aT(t,n,a){switch(n.tag){case 3:pt(n,n.stateNode.containerInfo),Rs(n,Nt,t.memoizedState.cache),Cr();break;case 27:case 5:Sn(n);break;case 4:pt(n,n.stateNode.containerInfo);break;case 10:Rs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,bf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ds(n),n.flags|=128,null):(a&n.child.childLanes)!==0?hy(t,n,a):(Ds(n),t=Qi(t,n,a),t!==null?t.sibling:null);Ds(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Ta(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return dy(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ne(bt,bt.current),o)break;return null;case 22:return n.lanes=0,ry(t,n,a,n.pendingProps);case 24:Rs(n,Nt,t.memoizedState.cache)}return Qi(t,n,a)}function my(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)It=!0;else{if(!Xf(t,a)&&(n.flags&128)===0)return It=!1,aT(t,n,a);It=(t.flags&131072)!==0}else It=!1,He&&(n.flags&1048576)!==0&&Kp(n,Qo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Or(n.elementType),n.type=t,typeof t=="function")Wh(t)?(o=zr(t,o),n.tag=1,n=cy(null,n,t,o,a)):(n.tag=0,n=qf(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===Oe){n.tag=11,n=ny(null,n,t,o,a);break e}else if(h===C){n.tag=14,n=iy(null,n,t,o,a);break e}}throw n=Ke(t)||t,Error(r(306,n,""))}}return n;case 0:return qf(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=zr(o,n.pendingProps),cy(t,n,o,h,a);case 3:e:{if(pt(n,n.stateNode.containerInfo),t===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,pf(t,n),tl(n,o,null,a);var _=n.memoizedState;if(o=_.cache,Rs(n,Nt,o),o!==f.cache&&cf(n,[Nt],a,!0),el(),o=_.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=uy(t,n,o,a);break e}else if(o!==h){h=kn(Error(r(424)),n),Yo(h),n=uy(t,n,o,a);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ot=zn(t.firstChild),Kt=n,He=!0,Ss=null,Vn=!0,a=rg(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Cr(),o===h){n=Qi(t,n,a);break e}Yt(t,n,o,a)}n=n.child}return n;case 26:return iu(t,n),t===null?(a=S0(n.type,null,n.pendingProps,null))?n.memoizedState=a:He||(a=n.type,t=n.pendingProps,o=bu(Ae.current).createElement(a),o[St]=n,o[Pt]=t,Xt(o,a,t),At(o),n.stateNode=o):n.memoizedState=S0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Sn(n),t===null&&He&&(o=n.stateNode=T0(n.type,n.pendingProps,Ae.current),Kt=n,Vn=!0,h=ot,Us(n.type)?(Nd=h,ot=zn(o.firstChild)):ot=h),Yt(t,n,n.pendingProps.children,a),iu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&He&&((h=o=ot)&&(o=jT(o,n.type,n.pendingProps,Vn),o!==null?(n.stateNode=o,Kt=n,ot=zn(o.firstChild),Vn=!1,h=!0):h=!1),h||As(n)),Sn(n),h=n.type,f=n.pendingProps,_=t!==null?t.memoizedProps:null,o=f.children,xd(h,f)?o=null:_!==null&&xd(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=Tf(t,n,JE,null,null,a),El._currentValue=h),iu(t,n),Yt(t,n,o,a),n.child;case 6:return t===null&&He&&((t=a=ot)&&(a=zT(a,n.pendingProps,Vn),a!==null?(n.stateNode=a,Kt=n,ot=null,t=!0):t=!1),t||As(n)),null;case 13:return hy(t,n,a);case 4:return pt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Vr(n,null,o,a):Yt(t,n,o,a),n.child;case 11:return ny(t,n,n.type,n.pendingProps,a);case 7:return Yt(t,n,n.pendingProps,a),n.child;case 8:return Yt(t,n,n.pendingProps.children,a),n.child;case 12:return Yt(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Rs(n,n.type,o.value),Yt(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Dr(n),h=Qt(h),o=o(h),n.flags|=1,Yt(t,n,o,a),n.child;case 14:return iy(t,n,n.type,n.pendingProps,a);case 15:return sy(t,n,n.type,n.pendingProps,a);case 19:return dy(t,n,a);case 31:return rT(t,n,a);case 22:return ry(t,n,a,n.pendingProps);case 24:return Dr(n),o=Qt(Nt),t===null?(h=ff(),h===null&&(h=at,f=uf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},mf(n),Rs(n,Nt,h)):((t.lanes&a)!==0&&(pf(t,n),tl(n,null,null,a),el()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Rs(n,Nt,o)):(o=f.cache,Rs(n,Nt,o),o!==h.cache&&cf(n,[Nt],a,!0))),Yt(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Yi(t){t.flags|=4}function $f(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(By())t.flags|=8192;else throw Mr=qc,df}else t.flags&=-16777217}function py(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!I0(n))if(By())t.flags|=8192;else throw Mr=qc,df}function ru(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?hc():536870912,t.lanes|=n,Ma|=n)}function ol(t,n){if(!He)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function lt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function oT(t,n,a){var o=n.pendingProps;switch(sf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(n),null;case 1:return lt(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Fi(Nt),Ze(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ea(n)?Yi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,af())),lt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(Yi(n),f!==null?(lt(n),py(n,f)):(lt(n),$f(n,h,null,o,a))):f?f!==t.memoizedState?(Yi(n),lt(n),py(n,f)):(lt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&Yi(n),lt(n),$f(n,h,t,o,a)),null;case 27:if(ri(n),a=Ae.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Yi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return lt(n),null}t=se.current,Ea(n)?Yp(n):(t=T0(h,o,a),n.stateNode=t,Yi(n))}return lt(n),null;case 5:if(ri(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Yi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return lt(n),null}if(f=se.current,Ea(n))Yp(n);else{var _=bu(Ae.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?_.createElement(h,{is:o.is}):_.createElement(h)}}f[St]=n,f[Pt]=o;e:for(_=n.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===n)break e;for(;_.sibling===null;){if(_.return===null||_.return===n)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}n.stateNode=f;e:switch(Xt(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Yi(n)}}return lt(n),$f(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&Yi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(t=Ae.current,Ea(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=Kt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[St]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||h0(t.nodeValue,a)),t||As(n,!0)}else t=bu(t).createTextNode(o),t[St]=n,n.stateNode=t}return lt(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=Ea(n),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[St]=n}else Cr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;lt(n),t=!1}else a=af(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(En(n),n):(En(n),null);if((n.flags&128)!==0)throw Error(r(558))}return lt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ea(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[St]=n}else Cr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;lt(n),h=!1}else h=af(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(En(n),n):(En(n),null)}return En(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),ru(n,n.updateQueue),lt(n),null);case 4:return Ze(),t===null&&_d(n.stateNode.containerInfo),lt(n),null;case 10:return Fi(n.type),lt(n),null;case 19:if(K(bt),o=n.memoizedState,o===null)return lt(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)ol(o,!1);else{if(yt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Kc(t),f!==null){for(n.flags|=128,ol(o,!1),t=f.updateQueue,n.updateQueue=t,ru(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Hp(a,t),a=a.sibling;return ne(bt,bt.current&1|2),He&&qi(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&rn()>uu&&(n.flags|=128,h=!0,ol(o,!1),n.lanes=4194304)}else{if(!h)if(t=Kc(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,ru(n,t),ol(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!He)return lt(n),null}else 2*rn()-o.renderingStartTime>uu&&a!==536870912&&(n.flags|=128,h=!0,ol(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=rn(),t.sibling=null,a=bt.current,ne(bt,h?a&1|2:a&1),He&&qi(n,o.treeForkCount),t):(lt(n),null);case 22:case 23:return En(n),vf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(lt(n),n.subtreeFlags&6&&(n.flags|=8192)):lt(n),a=n.updateQueue,a!==null&&ru(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&K(kr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Fi(Nt),lt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function lT(t,n){switch(sf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Fi(Nt),Ze(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ri(n),null;case 31:if(n.memoizedState!==null){if(En(n),n.alternate===null)throw Error(r(340));Cr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(En(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Cr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return K(bt),null;case 4:return Ze(),null;case 10:return Fi(n.type),null;case 22:case 23:return En(n),vf(),t!==null&&K(kr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Fi(Nt),null;case 25:return null;default:return null}}function gy(t,n){switch(sf(n),n.tag){case 3:Fi(Nt),Ze();break;case 26:case 27:case 5:ri(n);break;case 4:Ze();break;case 31:n.memoizedState!==null&&En(n);break;case 13:En(n);break;case 19:K(bt);break;case 10:Fi(n.type);break;case 22:case 23:En(n),vf(),t!==null&&K(kr);break;case 24:Fi(Nt)}}function ll(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,_=a.inst;o=f(),_.destroy=o}a=a.next}while(a!==h)}}catch(E){tt(n,n.return,E)}}function Os(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var _=o.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,h=n;var I=a,B=E;try{B()}catch(G){tt(h,I,G)}}}o=o.next}while(o!==f)}}catch(G){tt(n,n.return,G)}}function yy(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{og(n,a)}catch(o){tt(t,t.return,o)}}}function _y(t,n,a){a.props=zr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){tt(t,n,o)}}function cl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){tt(t,n,h)}}function Ai(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){tt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){tt(t,n,h)}else a.current=null}function vy(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){tt(t,t.return,h)}}function Jf(t,n,a){try{var o=t.stateNode;IT(o,t.type,a,n),o[Pt]=n}catch(h){tt(t,t.return,h)}}function by(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Us(t.type)||t.tag===4}function Zf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||by(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Us(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wf(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Kn));else if(o!==4&&(o===27&&Us(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Wf(t,n,a),t=t.sibling;t!==null;)Wf(t,n,a),t=t.sibling}function au(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&Us(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(au(t,n,a),t=t.sibling;t!==null;)au(t,n,a),t=t.sibling}function Ey(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Xt(n,o,a),n[St]=t,n[Pt]=a}catch(f){tt(t,t.return,f)}}var Xi=!1,Dt=!1,ed=!1,Ty=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function cT(t,n){if(t=t.containerInfo,Ed=Ru,t=Mp(t),Kh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var _=0,E=-1,I=-1,B=0,G=0,$=t,q=null;t:for(;;){for(var F;$!==a||h!==0&&$.nodeType!==3||(E=_+h),$!==f||o!==0&&$.nodeType!==3||(I=_+o),$.nodeType===3&&(_+=$.nodeValue.length),(F=$.firstChild)!==null;)q=$,$=F;for(;;){if($===t)break t;if(q===a&&++B===h&&(E=_),q===f&&++G===o&&(I=_),(F=$.nextSibling)!==null)break;$=q,q=$.parentNode}$=F}a=E===-1||I===-1?null:{start:E,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Td={focusedElem:t,selectionRange:a},Ru=!1,Bt=n;Bt!==null;)if(n=Bt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Bt=t;else for(;Bt!==null;){switch(n=Bt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var oe=zr(a.type,h);t=o.getSnapshotBeforeUpdate(oe,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(be){tt(a,a.return,be)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Sd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Sd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Bt=t;break}Bt=n.return}}function xy(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Ji(t,a),o&4&&ll(5,a);break;case 1:if(Ji(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(_){tt(a,a.return,_)}else{var h=zr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(_){tt(a,a.return,_)}}o&64&&yy(a),o&512&&cl(a,a.return);break;case 3:if(Ji(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{og(t,n)}catch(_){tt(a,a.return,_)}}break;case 27:n===null&&o&4&&Ey(a);case 26:case 5:Ji(t,a),n===null&&o&4&&vy(a),o&512&&cl(a,a.return);break;case 12:Ji(t,a);break;case 31:Ji(t,a),o&4&&Ay(t,a);break;case 13:Ji(t,a),o&4&&Ry(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=_T.bind(null,a),LT(t,a))));break;case 22:if(o=a.memoizedState!==null||Xi,!o){n=n!==null&&n.memoizedState!==null||Dt,h=Xi;var f=Dt;Xi=o,(Dt=n)&&!f?Zi(t,a,(a.subtreeFlags&8772)!==0):Ji(t,a),Xi=h,Dt=f}break;case 30:break;default:Ji(t,a)}}function wy(t){var n=t.alternate;n!==null&&(t.alternate=null,wy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&sa(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ft=null,un=!1;function $i(t,n,a){for(a=a.child;a!==null;)Sy(t,n,a),a=a.sibling}function Sy(t,n,a){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(qn,a)}catch{}switch(a.tag){case 26:Dt||Ai(a,n),$i(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Dt||Ai(a,n);var o=ft,h=un;Us(a.type)&&(ft=a.stateNode,un=!1),$i(t,n,a),_l(a.stateNode),ft=o,un=h;break;case 5:Dt||Ai(a,n);case 6:if(o=ft,h=un,ft=null,$i(t,n,a),ft=o,un=h,ft!==null)if(un)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(a.stateNode)}catch(f){tt(a,n,f)}else try{ft.removeChild(a.stateNode)}catch(f){tt(a,n,f)}break;case 18:ft!==null&&(un?(t=ft,y0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),qa(t)):y0(ft,a.stateNode));break;case 4:o=ft,h=un,ft=a.stateNode.containerInfo,un=!0,$i(t,n,a),ft=o,un=h;break;case 0:case 11:case 14:case 15:Os(2,a,n),Dt||Os(4,a,n),$i(t,n,a);break;case 1:Dt||(Ai(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&_y(a,n,o)),$i(t,n,a);break;case 21:$i(t,n,a);break;case 22:Dt=(o=Dt)||a.memoizedState!==null,$i(t,n,a),Dt=o;break;default:$i(t,n,a)}}function Ay(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{qa(t)}catch(a){tt(n,n.return,a)}}}function Ry(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{qa(t)}catch(a){tt(n,n.return,a)}}function uT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Ty),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Ty),n;default:throw Error(r(435,t.tag))}}function ou(t,n){var a=uT(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=vT.bind(null,t,o);o.then(h,h)}})}function hn(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,_=n,E=_;e:for(;E!==null;){switch(E.tag){case 27:if(Us(E.type)){ft=E.stateNode,un=!1;break e}break;case 5:ft=E.stateNode,un=!1;break e;case 3:case 4:ft=E.stateNode.containerInfo,un=!0;break e}E=E.return}if(ft===null)throw Error(r(160));Sy(f,_,h),ft=null,un=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ny(n,t),n=n.sibling}var Zn=null;function Ny(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:hn(n,t),fn(t),o&4&&(Os(3,t,t.return),ll(3,t),Os(5,t,t.return));break;case 1:hn(n,t),fn(t),o&512&&(Dt||a===null||Ai(a,a.return)),o&64&&Xi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Zn;if(hn(n,t),fn(t),o&512&&(Dt||a===null||Ai(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[fi]||f[St]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Xt(f,o,a),f[St]=t,At(f),o=f;break e;case"link":var _=N0("link","href",h).get(o+(a.href||""));if(_){for(var E=0;E<_.length;E++)if(f=_[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(E,1);break t}}f=h.createElement(o),Xt(f,o,a),h.head.appendChild(f);break;case"meta":if(_=N0("meta","content",h).get(o+(a.content||""))){for(E=0;E<_.length;E++)if(f=_[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(E,1);break t}}f=h.createElement(o),Xt(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[St]=t,At(f),o=f}t.stateNode=o}else C0(h,t.type,t.stateNode);else t.stateNode=R0(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?C0(h,t.type,t.stateNode):R0(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Jf(t,t.memoizedProps,a.memoizedProps)}break;case 27:hn(n,t),fn(t),o&512&&(Dt||a===null||Ai(a,a.return)),a!==null&&o&4&&Jf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(hn(n,t),fn(t),o&512&&(Dt||a===null||Ai(a,a.return)),t.flags&32){h=t.stateNode;try{cn(h,"")}catch(oe){tt(t,t.return,oe)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Jf(t,h,a!==null?a.memoizedProps:h)),o&1024&&(ed=!0);break;case 6:if(hn(n,t),fn(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(oe){tt(t,t.return,oe)}}break;case 3:if(xu=null,h=Zn,Zn=Eu(n.containerInfo),hn(n,t),Zn=h,fn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{qa(n.containerInfo)}catch(oe){tt(t,t.return,oe)}ed&&(ed=!1,Cy(t));break;case 4:o=Zn,Zn=Eu(t.stateNode.containerInfo),hn(n,t),fn(t),Zn=o;break;case 12:hn(n,t),fn(t);break;case 31:hn(n,t),fn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ou(t,o)));break;case 13:hn(n,t),fn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(cu=rn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ou(t,o)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,B=Xi,G=Dt;if(Xi=B||h,Dt=G||I,hn(n,t),Dt=G,Xi=B,fn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||I||Xi||Dt||Lr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){I=a=n;try{if(f=I.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=I.stateNode;var $=I.memoizedProps.style,q=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(oe){tt(I,I.return,oe)}}}else if(n.tag===6){if(a===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(oe){tt(I,I.return,oe)}}}else if(n.tag===18){if(a===null){I=n;try{var F=I.stateNode;h?_0(F,!0):_0(I.stateNode,!1)}catch(oe){tt(I,I.return,oe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,ou(t,a))));break;case 19:hn(n,t),fn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ou(t,o)));break;case 30:break;case 21:break;default:hn(n,t),fn(t)}}function fn(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(by(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Zf(t);au(t,f,h);break;case 5:var _=a.stateNode;a.flags&32&&(cn(_,""),a.flags&=-33);var E=Zf(t);au(t,E,_);break;case 3:case 4:var I=a.stateNode.containerInfo,B=Zf(t);Wf(t,B,I);break;default:throw Error(r(161))}}catch(G){tt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Cy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Cy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ji(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)xy(t,n.alternate,n),n=n.sibling}function Lr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Os(4,n,n.return),Lr(n);break;case 1:Ai(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&_y(n,n.return,a),Lr(n);break;case 27:_l(n.stateNode);case 26:case 5:Ai(n,n.return),Lr(n);break;case 22:n.memoizedState===null&&Lr(n);break;case 30:Lr(n);break;default:Lr(n)}t=t.sibling}}function Zi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:Zi(h,f,a),ll(4,f);break;case 1:if(Zi(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){tt(o,o.return,B)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)ag(I[h],E)}catch(B){tt(o,o.return,B)}}a&&_&64&&yy(f),cl(f,f.return);break;case 27:Ey(f);case 26:case 5:Zi(h,f,a),a&&o===null&&_&4&&vy(f),cl(f,f.return);break;case 12:Zi(h,f,a);break;case 31:Zi(h,f,a),a&&_&4&&Ay(h,f);break;case 13:Zi(h,f,a),a&&_&4&&Ry(h,f);break;case 22:f.memoizedState===null&&Zi(h,f,a),cl(f,f.return);break;case 30:break;default:Zi(h,f,a)}n=n.sibling}}function td(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Xo(a))}function nd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Xo(t))}function Wn(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Iy(t,n,a,o),n=n.sibling}function Iy(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Wn(t,n,a,o),h&2048&&ll(9,n);break;case 1:Wn(t,n,a,o);break;case 3:Wn(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Xo(t)));break;case 12:if(h&2048){Wn(t,n,a,o),t=n.stateNode;try{var f=n.memoizedProps,_=f.id,E=f.onPostCommit;typeof E=="function"&&E(_,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){tt(n,n.return,I)}}else Wn(t,n,a,o);break;case 31:Wn(t,n,a,o);break;case 13:Wn(t,n,a,o);break;case 23:break;case 22:f=n.stateNode,_=n.alternate,n.memoizedState!==null?f._visibility&2?Wn(t,n,a,o):ul(t,n):f._visibility&2?Wn(t,n,a,o):(f._visibility|=2,Da(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&td(_,n);break;case 24:Wn(t,n,a,o),h&2048&&nd(n.alternate,n);break;default:Wn(t,n,a,o)}}function Da(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,_=n,E=a,I=o,B=_.flags;switch(_.tag){case 0:case 11:case 15:Da(f,_,E,I,h),ll(8,_);break;case 23:break;case 22:var G=_.stateNode;_.memoizedState!==null?G._visibility&2?Da(f,_,E,I,h):ul(f,_):(G._visibility|=2,Da(f,_,E,I,h)),h&&B&2048&&td(_.alternate,_);break;case 24:Da(f,_,E,I,h),h&&B&2048&&nd(_.alternate,_);break;default:Da(f,_,E,I,h)}n=n.sibling}}function ul(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:ul(a,o),h&2048&&td(o.alternate,o);break;case 24:ul(a,o),h&2048&&nd(o.alternate,o);break;default:ul(a,o)}n=n.sibling}}var hl=8192;function ka(t,n,a){if(t.subtreeFlags&hl)for(t=t.child;t!==null;)Dy(t,n,a),t=t.sibling}function Dy(t,n,a){switch(t.tag){case 26:ka(t,n,a),t.flags&hl&&t.memoizedState!==null&&$T(a,Zn,t.memoizedState,t.memoizedProps);break;case 5:ka(t,n,a);break;case 3:case 4:var o=Zn;Zn=Eu(t.stateNode.containerInfo),ka(t,n,a),Zn=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=hl,hl=16777216,ka(t,n,a),hl=o):ka(t,n,a));break;default:ka(t,n,a)}}function ky(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function fl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Bt=o,My(o,t)}ky(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Oy(t),t=t.sibling}function Oy(t){switch(t.tag){case 0:case 11:case 15:fl(t),t.flags&2048&&Os(9,t,t.return);break;case 3:fl(t);break;case 12:fl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,lu(t)):fl(t);break;default:fl(t)}}function lu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Bt=o,My(o,t)}ky(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Os(8,n,n.return),lu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,lu(n));break;default:lu(n)}t=t.sibling}}function My(t,n){for(;Bt!==null;){var a=Bt;switch(a.tag){case 0:case 11:case 15:Os(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Xo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Bt=o;else e:for(a=t;Bt!==null;){o=Bt;var h=o.sibling,f=o.return;if(wy(o),o===a){Bt=null;break e}if(h!==null){h.return=f,Bt=h;break e}Bt=f}}}var hT={getCacheForType:function(t){var n=Qt(Nt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Qt(Nt).controller.signal}},fT=typeof WeakMap=="function"?WeakMap:Map,$e=0,at=null,Me=null,ze=0,et=0,Tn=null,Ms=!1,Oa=!1,id=!1,Wi=0,yt=0,Vs=0,Pr=0,sd=0,xn=0,Ma=0,dl=null,dn=null,rd=!1,cu=0,Vy=0,uu=1/0,hu=null,js=null,Vt=0,zs=null,Va=null,es=0,ad=0,od=null,jy=null,ml=0,ld=null;function wn(){return($e&2)!==0&&ze!==0?ze&-ze:U.T!==null?md():fc()}function zy(){if(xn===0)if((ze&536870912)===0||He){var t=fr;fr<<=1,(fr&3932160)===0&&(fr=262144),xn=t}else xn=536870912;return t=bn.current,t!==null&&(t.flags|=32),xn}function mn(t,n,a){(t===at&&(et===2||et===9)||t.cancelPendingCommit!==null)&&(ja(t,0),Ls(t,ze,xn,!1)),dr(t,a),(($e&2)===0||t!==at)&&(t===at&&(($e&2)===0&&(Pr|=a),yt===4&&Ls(t,ze,xn,!1)),Ri(t))}function Ly(t,n,a){if(($e&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Hn(t,n),h=o?pT(t,n):ud(t,n,!0),f=o;do{if(h===0){Oa&&!o&&Ls(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!dT(a)){h=ud(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;e:{var E=t;h=dl;var I=E.current.memoizedState.isDehydrated;if(I&&(ja(E,_).flags|=256),_=ud(E,_,!1),_!==2){if(id&&!I){E.errorRecoveryDisabledLanes|=f,Pr|=f,h=4;break e}f=dn,dn=h,f!==null&&(dn===null?dn=f:dn.push.apply(dn,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){ja(t,0),Ls(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Ls(o,n,xn,!Ms);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=cu+300-rn(),10<h)){if(Ls(o,n,xn,!Ms),ci(o,0,!0)!==0)break e;es=n,o.timeoutHandle=p0(Py.bind(null,o,a,dn,hu,rd,n,xn,Pr,Ma,Ms,f,"Throttled",-0,0),h);break e}Py(o,a,dn,hu,rd,n,xn,Pr,Ma,Ms,f,null,-0,0)}}break}while(!0);Ri(t)}function Py(t,n,a,o,h,f,_,E,I,B,G,$,q,F){if(t.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kn},Dy(n,f,$);var oe=(f&62914560)===f?cu-rn():(f&4194048)===f?Vy-rn():0;if(oe=JT($,oe),oe!==null){es=f,t.cancelPendingCommit=oe(Qy.bind(null,t,n,f,a,o,h,_,E,I,G,$,null,q,F)),Ls(t,f,_,!B);return}}Qy(t,n,f,a,o,h,_,E,I)}function dT(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!_n(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ls(t,n,a,o){n&=~sd,n&=~Pr,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-_t(h),_=1<<f;o[f]=-1,h&=~_}a!==0&&mr(t,a,n)}function fu(){return($e&6)===0?(pl(0),!1):!0}function cd(){if(Me!==null){if(et===0)var t=Me.return;else t=Me,Hi=Ir=null,Sf(t),Aa=null,Jo=0,t=Me;for(;t!==null;)gy(t.alternate,t),t=t.return;Me=null}}function ja(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,OT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),es=0,cd(),at=t,Me=a=Bi(t.current,null),ze=n,et=0,Tn=null,Ms=!1,Oa=Hn(t,n),id=!1,Ma=xn=sd=Pr=Vs=yt=0,dn=dl=null,rd=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-_t(o),f=1<<h;n|=t[h],o&=~f}return Wi=n,Oc(),a}function Uy(t,n){Ie=null,U.H=rl,n===Sa||n===Bc?(n=ng(),et=3):n===df?(n=ng(),et=4):et=n===Bf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Tn=n,Me===null&&(yt=1,tu(t,kn(n,t.current)))}function By(){var t=bn.current;return t===null?!0:(ze&4194048)===ze?jn===null:(ze&62914560)===ze||(ze&536870912)!==0?t===jn:!1}function qy(){var t=U.H;return U.H=rl,t===null?rl:t}function Hy(){var t=U.A;return U.A=hT,t}function du(){yt=4,Ms||(ze&4194048)!==ze&&bn.current!==null||(Oa=!0),(Vs&134217727)===0&&(Pr&134217727)===0||at===null||Ls(at,ze,xn,!1)}function ud(t,n,a){var o=$e;$e|=2;var h=qy(),f=Hy();(at!==t||ze!==n)&&(hu=null,ja(t,n)),n=!1;var _=yt;e:do try{if(et!==0&&Me!==null){var E=Me,I=Tn;switch(et){case 8:cd(),_=6;break e;case 3:case 2:case 9:case 6:bn.current===null&&(n=!0);var B=et;if(et=0,Tn=null,za(t,E,I,B),a&&Oa){_=0;break e}break;default:B=et,et=0,Tn=null,za(t,E,I,B)}}mT(),_=yt;break}catch(G){Uy(t,G)}while(!0);return n&&t.shellSuspendCounter++,Hi=Ir=null,$e=o,U.H=h,U.A=f,Me===null&&(at=null,ze=0,Oc()),_}function mT(){for(;Me!==null;)Fy(Me)}function pT(t,n){var a=$e;$e|=2;var o=qy(),h=Hy();at!==t||ze!==n?(hu=null,uu=rn()+500,ja(t,n)):Oa=Hn(t,n);e:do try{if(et!==0&&Me!==null){n=Me;var f=Tn;t:switch(et){case 1:et=0,Tn=null,za(t,n,f,1);break;case 2:case 9:if(eg(f)){et=0,Tn=null,Gy(n);break}n=function(){et!==2&&et!==9||at!==t||(et=7),Ri(t)},f.then(n,n);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:eg(f)?(et=0,Tn=null,Gy(n)):(et=0,Tn=null,za(t,n,f,7));break;case 5:var _=null;switch(Me.tag){case 26:_=Me.memoizedState;case 5:case 27:var E=Me;if(_?I0(_):E.stateNode.complete){et=0,Tn=null;var I=E.sibling;if(I!==null)Me=I;else{var B=E.return;B!==null?(Me=B,mu(B)):Me=null}break t}}et=0,Tn=null,za(t,n,f,5);break;case 6:et=0,Tn=null,za(t,n,f,6);break;case 8:cd(),yt=6;break e;default:throw Error(r(462))}}gT();break}catch(G){Uy(t,G)}while(!0);return Hi=Ir=null,U.H=o,U.A=h,$e=a,Me!==null?0:(at=null,ze=0,Oc(),yt)}function gT(){for(;Me!==null&&!Ph();)Fy(Me)}function Fy(t){var n=my(t.alternate,t,Wi);t.memoizedProps=t.pendingProps,n===null?mu(t):Me=n}function Gy(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=ly(a,n,n.pendingProps,n.type,void 0,ze);break;case 11:n=ly(a,n,n.pendingProps,n.type.render,n.ref,ze);break;case 5:Sf(n);default:gy(a,n),n=Me=Hp(n,Wi),n=my(a,n,Wi)}t.memoizedProps=t.pendingProps,n===null?mu(t):Me=n}function za(t,n,a,o){Hi=Ir=null,Sf(n),Aa=null,Jo=0;var h=n.return;try{if(sT(t,h,n,a,ze)){yt=1,tu(t,kn(a,t.current)),Me=null;return}}catch(f){if(h!==null)throw Me=h,f;yt=1,tu(t,kn(a,t.current)),Me=null;return}n.flags&32768?(He||o===1?t=!0:Oa||(ze&536870912)!==0?t=!1:(Ms=t=!0,(o===2||o===9||o===3||o===6)&&(o=bn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ky(n,t)):mu(n)}function mu(t){var n=t;do{if((n.flags&32768)!==0){Ky(n,Ms);return}t=n.return;var a=oT(n.alternate,n,Wi);if(a!==null){Me=a;return}if(n=n.sibling,n!==null){Me=n;return}Me=n=t}while(n!==null);yt===0&&(yt=5)}function Ky(t,n){do{var a=lT(t.alternate,t);if(a!==null){a.flags&=32767,Me=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Me=t;return}Me=t=a}while(t!==null);yt=6,Me=null}function Qy(t,n,a,o,h,f,_,E,I){t.cancelPendingCommit=null;do pu();while(Vt!==0);if(($e&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Jh,qh(t,a,f,_,E,I),t===at&&(Me=at=null,ze=0),Va=n,zs=t,es=a,ad=f,od=h,jy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,bT(ms,function(){return Zy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=U.T,U.T=null,h=W.p,W.p=2,_=$e,$e|=4;try{cT(t,n,a)}finally{$e=_,W.p=h,U.T=o}}Vt=1,Yy(),Xy(),$y()}}function Yy(){if(Vt===1){Vt=0;var t=zs,n=Va,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=U.T,U.T=null;var o=W.p;W.p=2;var h=$e;$e|=4;try{Ny(n,t);var f=Td,_=Mp(t.containerInfo),E=f.focusedElem,I=f.selectionRange;if(_!==E&&E&&E.ownerDocument&&Op(E.ownerDocument.documentElement,E)){if(I!==null&&Kh(E)){var B=I.start,G=I.end;if(G===void 0&&(G=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(G,E.value.length);else{var $=E.ownerDocument||document,q=$&&$.defaultView||window;if(q.getSelection){var F=q.getSelection(),oe=E.textContent.length,be=Math.min(I.start,oe),rt=I.end===void 0?be:Math.min(I.end,oe);!F.extend&&be>rt&&(_=rt,rt=be,be=_);var j=kp(E,be),O=kp(E,rt);if(j&&O&&(F.rangeCount!==1||F.anchorNode!==j.node||F.anchorOffset!==j.offset||F.focusNode!==O.node||F.focusOffset!==O.offset)){var P=$.createRange();P.setStart(j.node,j.offset),F.removeAllRanges(),be>rt?(F.addRange(P),F.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),F.addRange(P))}}}}for($=[],F=E;F=F.parentNode;)F.nodeType===1&&$.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var Y=$[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Ru=!!Ed,Td=Ed=null}finally{$e=h,W.p=o,U.T=a}}t.current=n,Vt=2}}function Xy(){if(Vt===2){Vt=0;var t=zs,n=Va,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=U.T,U.T=null;var o=W.p;W.p=2;var h=$e;$e|=4;try{xy(t,n.alternate,n)}finally{$e=h,W.p=o,U.T=a}}Vt=3}}function $y(){if(Vt===4||Vt===3){Vt=0,rc();var t=zs,n=Va,a=es,o=jy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Vt=5:(Vt=0,Va=zs=null,Jy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(js=null),zi(a),n=n.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(qn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=U.T,h=W.p,W.p=2,U.T=null;try{for(var f=t.onRecoverableError,_=0;_<o.length;_++){var E=o[_];f(E.value,{componentStack:E.stack})}}finally{U.T=n,W.p=h}}(es&3)!==0&&pu(),Ri(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===ld?ml++:(ml=0,ld=t):ml=0,pl(0)}}function Jy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Xo(n)))}function pu(){return Yy(),Xy(),$y(),Zy()}function Zy(){if(Vt!==5)return!1;var t=zs,n=ad;ad=0;var a=zi(es),o=U.T,h=W.p;try{W.p=32>a?32:a,U.T=null,a=od,od=null;var f=zs,_=es;if(Vt=0,Va=zs=null,es=0,($e&6)!==0)throw Error(r(331));var E=$e;if($e|=4,Oy(f.current),Iy(f,f.current,_,a),$e=E,pl(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(qn,f)}catch{}return!0}finally{W.p=h,U.T=o,Jy(t,n)}}function Wy(t,n,a){n=kn(a,n),n=Uf(t.stateNode,n,2),t=Is(t,n,2),t!==null&&(dr(t,2),Ri(t))}function tt(t,n,a){if(t.tag===3)Wy(t,t,a);else for(;n!==null;){if(n.tag===3){Wy(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(js===null||!js.has(o))){t=kn(a,t),a=ey(2),o=Is(n,a,2),o!==null&&(ty(a,o,n,t),dr(o,2),Ri(o));break}}n=n.return}}function hd(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new fT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(id=!0,h.add(a),t=yT.bind(null,t,n,a),n.then(t,t))}function yT(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,at===t&&(ze&a)===a&&(yt===4||yt===3&&(ze&62914560)===ze&&300>rn()-cu?($e&2)===0&&ja(t,0):sd|=a,Ma===ze&&(Ma=0)),Ri(t)}function e0(t,n){n===0&&(n=hc()),t=Rr(t,n),t!==null&&(dr(t,n),Ri(t))}function _T(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),e0(t,a)}function vT(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),e0(t,a)}function bT(t,n){return Mt(t,n)}var gu=null,La=null,fd=!1,yu=!1,dd=!1,Ps=0;function Ri(t){t!==La&&t.next===null&&(La===null?gu=La=t:La=La.next=t),yu=!0,fd||(fd=!0,TT())}function pl(t,n){if(!dd&&yu){dd=!0;do for(var a=!1,o=gu;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var _=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-_t(42|t)+1)-1,f&=h&~(_&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,s0(o,f))}else f=ze,f=ci(o,o===at?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Hn(o,f)||(a=!0,s0(o,f));o=o.next}while(a);dd=!1}}function ET(){t0()}function t0(){yu=fd=!1;var t=0;Ps!==0&&kT()&&(t=Ps);for(var n=rn(),a=null,o=gu;o!==null;){var h=o.next,f=n0(o,n);f===0?(o.next=null,a===null?gu=h:a.next=h,h===null&&(La=a)):(a=o,(t!==0||(f&3)!==0)&&(yu=!0)),o=h}Vt!==0&&Vt!==5||pl(t),Ps!==0&&(Ps=0)}function n0(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-_t(f),E=1<<_,I=h[_];I===-1?((E&a)===0||(E&o)!==0)&&(h[_]=Bh(E,n)):I<=n&&(t.expiredLanes|=E),f&=~E}if(n=at,a=ze,a=ci(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(et===2||et===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&ds(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Hn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&ds(o),zi(a)){case 2:case 8:a=So;break;case 32:a=ms;break;case 268435456:a=ac;break;default:a=ms}return o=i0.bind(null,t),a=Mt(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&ds(o),t.callbackPriority=2,t.callbackNode=null,2}function i0(t,n){if(Vt!==0&&Vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(pu()&&t.callbackNode!==a)return null;var o=ze;return o=ci(t,t===at?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Ly(t,o,n),n0(t,rn()),t.callbackNode!=null&&t.callbackNode===a?i0.bind(null,t):null)}function s0(t,n){if(pu())return null;Ly(t,n,!0)}function TT(){MT(function(){($e&6)!==0?Mt(wo,ET):t0()})}function md(){if(Ps===0){var t=xa;t===0&&(t=oi,oi<<=1,(oi&261888)===0&&(oi=256)),Ps=t}return Ps}function r0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:la(""+t)}function a0(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function xT(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=r0((h[Pt]||null).action),_=o.submitter;_&&(n=(n=_[Pt]||null)?r0(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var E=new bi("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ps!==0){var I=_?a0(h,_):new FormData(h);Mf(a,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=_?a0(h,_):new FormData(h),Mf(a,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var pd=0;pd<$h.length;pd++){var gd=$h[pd],wT=gd.toLowerCase(),ST=gd[0].toUpperCase()+gd.slice(1);Jn(wT,"on"+ST)}Jn(zp,"onAnimationEnd"),Jn(Lp,"onAnimationIteration"),Jn(Pp,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(BE,"onTransitionRun"),Jn(qE,"onTransitionStart"),Jn(HE,"onTransitionCancel"),Jn(Up,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gl));function o0(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var _=o.length-1;0<=_;_--){var E=o[_],I=E.instance,B=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=B;try{f(h)}catch(G){kc(G)}h.currentTarget=null,f=I}else for(_=0;_<o.length;_++){if(E=o[_],I=E.instance,B=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=B;try{f(h)}catch(G){kc(G)}h.currentTarget=null,f=I}}}}function Ve(t,n){var a=n[ia];a===void 0&&(a=n[ia]=new Set);var o=t+"__bubble";a.has(o)||(l0(n,t,2,!1),a.add(o))}function yd(t,n,a){var o=0;n&&(o|=4),l0(a,t,o,n)}var _u="_reactListening"+Math.random().toString(36).slice(2);function _d(t){if(!t[_u]){t[_u]=!0,No.forEach(function(a){a!=="selectionchange"&&(AT.has(a)||yd(a,!1,t),yd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[_u]||(n[_u]=!0,yd("selectionchange",!1,n))}}function l0(t,n,a,o){switch(z0(n)){case 2:var h=ex;break;case 8:h=tx;break;default:h=Od}a=h.bind(null,n,a,t),h=void 0,!vr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function vd(t,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var E=o.stateNode.containerInfo;if(E===h)break;if(_===4)for(_=o.return;_!==null;){var I=_.tag;if((I===3||I===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;E!==null;){if(_=di(E),_===null)return;if(I=_.tag,I===5||I===6||I===26||I===27){o=f=_;continue e}E=E.parentNode}}o=o.return}bs(function(){var B=f,G=Nn(a),$=[];e:{var q=Bp.get(t);if(q!==void 0){var F=bi,oe=t;switch(t){case"keypress":if(Er(a)===0)break e;case"keydown":case"keyup":F=Cc;break;case"focusin":oe="focus",F=xr;break;case"focusout":oe="blur",F=xr;break;case"beforeblur":case"afterblur":F=xr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Bo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=bc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case zp:case Lp:case Pp:F=Tc;break;case Up:F=w;break;case"scroll":case"scrollend":F=Uo;break;case"wheel":F=H;break;case"copy":case"cut":case"paste":F=xc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Ui;break;case"toggle":case"beforetoggle":F=Ce}var be=(n&4)!==0,rt=!be&&(t==="scroll"||t==="scrollend"),j=be?q!==null?q+"Capture":null:q;be=[];for(var O=B,P;O!==null;){var Y=O;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||j===null||(Y=Qn(O,j),Y!=null&&be.push(yl(O,Y,P))),rt)break;O=O.return}0<be.length&&(q=new F(q,oe,null,a,G),$.push({event:q,listeners:be}))}}if((n&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",q&&a!==zo&&(oe=a.relatedTarget||a.fromElement)&&(di(oe)||oe[hi]))break e;if((F||q)&&(q=G.window===G?G:(q=G.ownerDocument)?q.defaultView||q.parentWindow:window,F?(oe=a.relatedTarget||a.toElement,F=B,oe=oe?di(oe):null,oe!==null&&(rt=u(oe),be=oe.tag,oe!==rt||be!==5&&be!==27&&be!==6)&&(oe=null)):(F=null,oe=B),F!==oe)){if(be=Bo,Y="onMouseLeave",j="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(be=Ui,Y="onPointerLeave",j="onPointerEnter",O="pointer"),rt=F==null?q:gn(F),P=oe==null?q:gn(oe),q=new be(Y,O+"leave",F,a,G),q.target=rt,q.relatedTarget=P,Y=null,di(G)===B&&(be=new be(j,O+"enter",oe,a,G),be.target=P,be.relatedTarget=rt,Y=be),rt=Y,F&&oe)t:{for(be=RT,j=F,O=oe,P=0,Y=j;Y;Y=be(Y))P++;Y=0;for(var pe=O;pe;pe=be(pe))Y++;for(;0<P-Y;)j=be(j),P--;for(;0<Y-P;)O=be(O),Y--;for(;P--;){if(j===O||O!==null&&j===O.alternate){be=j;break t}j=be(j),O=be(O)}be=null}else be=null;F!==null&&c0($,q,F,be,!1),oe!==null&&rt!==null&&c0($,rt,oe,be,!0)}}e:{if(q=B?gn(B):window,F=q.nodeName&&q.nodeName.toLowerCase(),F==="select"||F==="input"&&q.type==="file")var Qe=Ap;else if(wp(q))if(Rp)Qe=LE;else{Qe=jE;var fe=VE}else F=q.nodeName,!F||F.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&oa(B.elementType)&&(Qe=Ap):Qe=zE;if(Qe&&(Qe=Qe(t,B))){Sp($,Qe,a,G);break e}fe&&fe(t,q,B),t==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&Mo(q,"number",q.value)}switch(fe=B?gn(B):window,t){case"focusin":(wp(fe)||fe.contentEditable==="true")&&(pa=fe,Qh=B,Ko=null);break;case"focusout":Ko=Qh=pa=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,Vp($,a,G);break;case"selectionchange":if(UE)break;case"keydown":case"keyup":Vp($,a,G)}var De;if(Xe)e:{switch(t){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else ma?wr(t,a)&&(Le="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Le="onCompositionStart");Le&&(xi&&a.locale!=="ko"&&(ma||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&ma&&(De=Po()):(vi=G,Lo="value"in vi?vi.value:vi.textContent,ma=!0)),fe=vu(B,Le),0<fe.length&&(Le=new Ti(Le,t,null,a,G),$.push({event:Le,listeners:fe}),De?Le.data=De:(De=da(a),De!==null&&(Le.data=De)))),(De=In?DE(t,a):kE(t,a))&&(Le=vu(B,"onBeforeInput"),0<Le.length&&(fe=new Ti("onBeforeInput","beforeinput",null,a,G),$.push({event:fe,listeners:Le}),fe.data=De)),xT($,t,B,a,G)}o0($,n)})}function yl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function vu(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Qn(t,a),h!=null&&o.unshift(yl(t,h,f)),h=Qn(t,n),h!=null&&o.push(yl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function RT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function c0(t,n,a,o,h){for(var f=n._reactName,_=[];a!==null&&a!==o;){var E=a,I=E.alternate,B=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||B===null||(I=B,h?(B=Qn(a,f),B!=null&&_.unshift(yl(a,B,I))):h||(B=Qn(a,f),B!=null&&_.push(yl(a,B,I)))),a=a.return}_.length!==0&&t.push({event:n,listeners:_})}var NT=/\r\n?/g,CT=/\u0000|\uFFFD/g;function u0(t){return(typeof t=="string"?t:""+t).replace(NT,`
`).replace(CT,"")}function h0(t,n){return n=u0(n),u0(t)===n}function st(t,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||cn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&cn(t,""+o);break;case"className":yn(t,"class",o);break;case"tabIndex":yn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(t,a,o);break;case"style":jo(t,o,f);break;case"data":if(n!=="object"){yn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=la(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&st(t,n,"name",h.name,h,null),st(t,n,"formEncType",h.formEncType,h,null),st(t,n,"formMethod",h.formMethod,h,null),st(t,n,"formTarget",h.formTarget,h,null)):(st(t,n,"encType",h.encType,h,null),st(t,n,"method",h.method,h,null),st(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=la(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Kn);break;case"onScroll":o!=null&&Ve("scroll",t);break;case"onScrollEnd":o!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=la(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),ra(t,"popover",o);break;case"xlinkActuate":Rt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Rt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Rt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Rt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Rt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Rt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ra(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=vc.get(a)||a,ra(t,a,o))}}function bd(t,n,a,o,h,f){switch(a){case"style":jo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?cn(t,o):(typeof o=="number"||typeof o=="bigint")&&cn(t,""+o);break;case"onScroll":o!=null&&Ve("scroll",t);break;case"onScrollEnd":o!=null&&Ve("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Co.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[Pt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):ra(t,a,o)}}}function Xt(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:st(t,n,f,_,a,null)}}h&&st(t,n,"srcSet",a.srcSet,a,null),o&&st(t,n,"src",a.src,a,null);return;case"input":Ve("invalid",t);var E=f=_=h=null,I=null,B=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":_=G;break;case"checked":I=G;break;case"defaultChecked":B=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:st(t,n,o,G,a,null)}}gc(t,f,E,I,B,_,h,!1);return;case"select":Ve("invalid",t),o=_=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":_=E;break;case"multiple":o=E;default:st(t,n,h,E,a,null)}n=f,a=_,t.multiple=!!o,n!=null?gs(t,!!o,n,!1):a!=null&&gs(t,!!o,a,!0);return;case"textarea":Ve("invalid",t),f=h=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(E=a[_],E!=null))switch(_){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:st(t,n,_,E,a,null)}ys(t,o,h,f);return;case"option":for(I in a)a.hasOwnProperty(I)&&(o=a[I],o!=null)&&(I==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":st(t,n,I,o,a,null));return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(o=0;o<gl.length;o++)Ve(gl[o],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(o=a[B],o!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:st(t,n,B,o,a,null)}return;default:if(oa(n)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&bd(t,n,G,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&st(t,n,E,o,a,null))}function IT(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,E=null,I=null,B=null,G=null;for(F in a){var $=a[F];if(a.hasOwnProperty(F)&&$!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":I=$;default:o.hasOwnProperty(F)||st(t,n,F,null,o,$)}}for(var q in o){var F=o[q];if($=a[q],o.hasOwnProperty(q)&&(F!=null||$!=null))switch(q){case"type":f=F;break;case"name":h=F;break;case"checked":B=F;break;case"defaultChecked":G=F;break;case"value":_=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:F!==$&&st(t,n,q,F,o,$)}}aa(t,_,E,I,B,G,f,h);return;case"select":F=_=E=q=null;for(f in a)if(I=a[f],a.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":F=I;default:o.hasOwnProperty(f)||st(t,n,f,null,o,I)}for(h in o)if(f=o[h],I=a[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":q=f;break;case"defaultValue":E=f;break;case"multiple":_=f;default:f!==I&&st(t,n,h,f,o,I)}n=E,a=_,o=F,q!=null?gs(t,!!a,q,!1):!!o!=!!a&&(n!=null?gs(t,!!a,n,!0):gs(t,!!a,a?[]:"",!1));return;case"textarea":F=q=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:st(t,n,E,null,o,h)}for(_ in o)if(h=o[_],f=a[_],o.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":q=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&st(t,n,_,h,o,f)}yc(t,q,F);return;case"option":for(var oe in a)q=a[oe],a.hasOwnProperty(oe)&&q!=null&&!o.hasOwnProperty(oe)&&(oe==="selected"?t.selected=!1:st(t,n,oe,null,o,q));for(I in o)q=o[I],F=a[I],o.hasOwnProperty(I)&&q!==F&&(q!=null||F!=null)&&(I==="selected"?t.selected=q&&typeof q!="function"&&typeof q!="symbol":st(t,n,I,q,o,F));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)q=a[be],a.hasOwnProperty(be)&&q!=null&&!o.hasOwnProperty(be)&&st(t,n,be,null,o,q);for(B in o)if(q=o[B],F=a[B],o.hasOwnProperty(B)&&q!==F&&(q!=null||F!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:st(t,n,B,q,o,F)}return;default:if(oa(n)){for(var rt in a)q=a[rt],a.hasOwnProperty(rt)&&q!==void 0&&!o.hasOwnProperty(rt)&&bd(t,n,rt,void 0,o,q);for(G in o)q=o[G],F=a[G],!o.hasOwnProperty(G)||q===F||q===void 0&&F===void 0||bd(t,n,G,q,o,F);return}}for(var j in a)q=a[j],a.hasOwnProperty(j)&&q!=null&&!o.hasOwnProperty(j)&&st(t,n,j,null,o,q);for($ in o)q=o[$],F=a[$],!o.hasOwnProperty($)||q===F||q==null&&F==null||st(t,n,$,q,o,F)}function f0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function DT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,_=h.initiatorType,E=h.duration;if(f&&E&&f0(_)){for(_=0,E=h.responseEnd,o+=1;o<a.length;o++){var I=a[o],B=I.startTime;if(B>E)break;var G=I.transferSize,$=I.initiatorType;G&&f0($)&&(I=I.responseEnd,_+=G*(I<E?1:(E-B)/(I-B)))}if(--o,n+=8*(f+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Ed=null,Td=null;function bu(t){return t.nodeType===9?t:t.ownerDocument}function d0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function m0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function xd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var wd=null;function kT(){var t=window.event;return t&&t.type==="popstate"?t===wd?!1:(wd=t,!0):(wd=null,!1)}var p0=typeof setTimeout=="function"?setTimeout:void 0,OT=typeof clearTimeout=="function"?clearTimeout:void 0,g0=typeof Promise=="function"?Promise:void 0,MT=typeof queueMicrotask=="function"?queueMicrotask:typeof g0<"u"?function(t){return g0.resolve(null).then(t).catch(VT)}:p0;function VT(t){setTimeout(function(){throw t})}function Us(t){return t==="head"}function y0(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),qa(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")_l(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,_l(a);for(var f=a.firstChild;f;){var _=f.nextSibling,E=f.nodeName;f[fi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&_l(t.ownerDocument.body);a=h}while(a);qa(n)}function _0(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Sd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Sd(a),sa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function jT(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[fi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function zT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=zn(t.nextSibling),t===null))return null;return t}function v0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=zn(t.nextSibling),t===null))return null;return t}function Ad(t){return t.data==="$?"||t.data==="$~"}function Rd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function LT(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function zn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Nd=null;function b0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return zn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function E0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function T0(t,n,a){switch(n=bu(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function _l(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);sa(t)}var Ln=new Map,x0=new Set;function Eu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ts=W.d;W.d={f:PT,r:UT,D:BT,C:qT,L:HT,m:FT,X:KT,S:GT,M:QT};function PT(){var t=ts.f(),n=fu();return t||n}function UT(t){var n=Rn(t);n!==null&&n.tag===5&&n.type==="form"?Ug(n):ts.r(t)}var Pa=typeof document>"u"?null:document;function w0(t,n,a){var o=Pa;if(o&&typeof n=="string"&&n){var h=ln(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),x0.has(h)||(x0.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Xt(n,"link",t),At(n),o.head.appendChild(n)))}}function BT(t){ts.D(t),w0("dns-prefetch",t,null)}function qT(t,n){ts.C(t,n),w0("preconnect",t,n)}function HT(t,n,a){ts.L(t,n,a);var o=Pa;if(o&&t&&n){var h='link[rel="preload"][as="'+ln(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ln(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ln(a.imageSizes)+'"]')):h+='[href="'+ln(t)+'"]';var f=h;switch(n){case"style":f=Ua(t);break;case"script":f=Ba(t)}Ln.has(f)||(t=x({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Ln.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(vl(f))||n==="script"&&o.querySelector(bl(f))||(n=o.createElement("link"),Xt(n,"link",t),At(n),o.head.appendChild(n)))}}function FT(t,n){ts.m(t,n);var a=Pa;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+ln(o)+'"][href="'+ln(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ba(t)}if(!Ln.has(f)&&(t=x({rel:"modulepreload",href:t},n),Ln.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(bl(f)))return}o=a.createElement("link"),Xt(o,"link",t),At(o),a.head.appendChild(o)}}}function GT(t,n,a){ts.S(t,n,a);var o=Pa;if(o&&t){var h=mi(o).hoistableStyles,f=Ua(t);n=n||"default";var _=h.get(f);if(!_){var E={loading:0,preload:null};if(_=o.querySelector(vl(f)))E.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Ln.get(f))&&Cd(t,a);var I=_=o.createElement("link");At(I),Xt(I,"link",t),I._p=new Promise(function(B,G){I.onload=B,I.onerror=G}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Tu(_,n,o)}_={type:"stylesheet",instance:_,count:1,state:E},h.set(f,_)}}}function KT(t,n){ts.X(t,n);var a=Pa;if(a&&t){var o=mi(a).hoistableScripts,h=Ba(t),f=o.get(h);f||(f=a.querySelector(bl(h)),f||(t=x({src:t,async:!0},n),(n=Ln.get(h))&&Id(t,n),f=a.createElement("script"),At(f),Xt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function QT(t,n){ts.M(t,n);var a=Pa;if(a&&t){var o=mi(a).hoistableScripts,h=Ba(t),f=o.get(h);f||(f=a.querySelector(bl(h)),f||(t=x({src:t,async:!0,type:"module"},n),(n=Ln.get(h))&&Id(t,n),f=a.createElement("script"),At(f),Xt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function S0(t,n,a,o){var h=(h=Ae.current)?Eu(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ua(a.href),a=mi(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ua(a.href);var f=mi(h).hoistableStyles,_=f.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=h.querySelector(vl(t)))&&!f._p&&(_.instance=f,_.state.loading=5),Ln.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(t,a),f||YT(h,t,a,_.state))),n&&o===null)throw Error(r(528,""));return _}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ba(a),a=mi(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ua(t){return'href="'+ln(t)+'"'}function vl(t){return'link[rel="stylesheet"]['+t+"]"}function A0(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function YT(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Xt(n,"link",a),At(n),t.head.appendChild(n))}function Ba(t){return'[src="'+ln(t)+'"]'}function bl(t){return"script[async]"+t}function R0(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+ln(a.href)+'"]');if(o)return n.instance=o,At(o),o;var h=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),At(o),Xt(o,"style",h),Tu(o,a.precedence,t),n.instance=o;case"stylesheet":h=Ua(a.href);var f=t.querySelector(vl(h));if(f)return n.state.loading|=4,n.instance=f,At(f),f;o=A0(a),(h=Ln.get(h))&&Cd(o,h),f=(t.ownerDocument||t).createElement("link"),At(f);var _=f;return _._p=new Promise(function(E,I){_.onload=E,_.onerror=I}),Xt(f,"link",o),n.state.loading|=4,Tu(f,a.precedence,t),n.instance=f;case"script":return f=Ba(a.src),(h=t.querySelector(bl(f)))?(n.instance=h,At(h),h):(o=a,(h=Ln.get(f))&&(o=x({},a),Id(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),At(h),Xt(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Tu(o,a.precedence,t));return n.instance}function Tu(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,_=0;_<o.length;_++){var E=o[_];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Cd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Id(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var xu=null;function N0(t,n,a){if(xu===null){var o=new Map,h=xu=new Map;h.set(a,o)}else h=xu,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[fi]||f[St]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=t+_;var E=o.get(_);E?E.push(f):o.set(_,[f])}}return o}function C0(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function XT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function I0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function $T(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ua(o.href),f=n.querySelector(vl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=wu.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,At(f);return}f=n.ownerDocument||n,o=A0(o),(h=Ln.get(h))&&Cd(o,h),f=f.createElement("link"),At(f);var _=f;_._p=new Promise(function(E,I){_.onload=E,_.onerror=I}),Xt(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=wu.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Dd=0;function JT(t,n){return t.stylesheets&&t.count===0&&Au(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Au(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Dd===0&&(Dd=62500*DT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Au(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Dd?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function wu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Au(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Su=null;function Au(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Su=new Map,n.forEach(ZT,t),Su=null,wu.call(t))}function ZT(t,n){if(!(n.state.loading&4)){var a=Su.get(t);if(a)var o=a.get(null);else{a=new Map,Su.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}h=n.instance,_=h.getAttribute("data-precedence"),f=a.get(_)||o,f===o&&a.set(null,h),a.set(_,h),this.count++,o=wu.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var El={$$typeof:ge,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function WT(t,n,a,o,h,f,_,E,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function D0(t,n,a,o,h,f,_,E,I,B,G,$){return t=new WT(t,n,a,_,I,B,G,$,E),n=1,f===!0&&(n|=24),f=vn(3,null,null,n),t.current=f,f.stateNode=t,n=uf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},mf(f),t}function k0(t){return t?(t=_a,t):_a}function O0(t,n,a,o,h,f){h=k0(h),o.context===null?o.context=h:o.pendingContext=h,o=Cs(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Is(t,o,n),a!==null&&(mn(a,t,n),Wo(a,t,n))}function M0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function kd(t,n){M0(t,n),(t=t.alternate)&&M0(t,n)}function V0(t){if(t.tag===13||t.tag===31){var n=Rr(t,67108864);n!==null&&mn(n,t,67108864),kd(t,67108864)}}function j0(t){if(t.tag===13||t.tag===31){var n=wn();n=pr(n);var a=Rr(t,n);a!==null&&mn(a,t,n),kd(t,n)}}var Ru=!0;function ex(t,n,a,o){var h=U.T;U.T=null;var f=W.p;try{W.p=2,Od(t,n,a,o)}finally{W.p=f,U.T=h}}function tx(t,n,a,o){var h=U.T;U.T=null;var f=W.p;try{W.p=8,Od(t,n,a,o)}finally{W.p=f,U.T=h}}function Od(t,n,a,o){if(Ru){var h=Md(o);if(h===null)vd(t,n,o,Nu,a),L0(t,o);else if(ix(h,t,n,a,o))o.stopPropagation();else if(L0(t,o),n&4&&-1<nx.indexOf(t)){for(;h!==null;){var f=Rn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=li(f.pendingLanes);if(_!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var I=1<<31-_t(_);E.entanglements[1]|=I,_&=~I}Ri(f),($e&6)===0&&(uu=rn()+500,pl(0))}}break;case 31:case 13:E=Rr(f,2),E!==null&&mn(E,f,2),fu(),kd(f,2)}if(f=Md(o),f===null&&vd(t,n,o,Nu,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else vd(t,n,o,null,a)}}function Md(t){return t=Nn(t),Vd(t)}var Nu=null;function Vd(t){if(Nu=null,t=di(t),t!==null){var n=u(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=p(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Nu=t,null}function z0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hr()){case wo:return 2;case So:return 8;case ms:case Uh:return 32;case ac:return 268435456;default:return 32}default:return 32}}var jd=!1,Bs=null,qs=null,Hs=null,Tl=new Map,xl=new Map,Fs=[],nx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function L0(t,n){switch(t){case"focusin":case"focusout":Bs=null;break;case"dragenter":case"dragleave":qs=null;break;case"mouseover":case"mouseout":Hs=null;break;case"pointerover":case"pointerout":Tl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(n.pointerId)}}function wl(t,n,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Rn(n),n!==null&&V0(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function ix(t,n,a,o,h){switch(n){case"focusin":return Bs=wl(Bs,t,n,a,o,h),!0;case"dragenter":return qs=wl(qs,t,n,a,o,h),!0;case"mouseover":return Hs=wl(Hs,t,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return Tl.set(f,wl(Tl.get(f)||null,t,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,xl.set(f,wl(xl.get(f)||null,t,n,a,o,h)),!0}return!1}function P0(t){var n=di(t.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Fn(t.priority,function(){j0(a)});return}}else if(n===31){if(n=p(a),n!==null){t.blockedOn=n,Fn(t.priority,function(){j0(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Md(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);zo=o,a.target.dispatchEvent(o),zo=null}else return n=Rn(a),n!==null&&V0(n),t.blockedOn=a,!1;n.shift()}return!0}function U0(t,n,a){Cu(t)&&a.delete(n)}function sx(){jd=!1,Bs!==null&&Cu(Bs)&&(Bs=null),qs!==null&&Cu(qs)&&(qs=null),Hs!==null&&Cu(Hs)&&(Hs=null),Tl.forEach(U0),xl.forEach(U0)}function Iu(t,n){t.blockedOn===n&&(t.blockedOn=null,jd||(jd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,sx)))}var Du=null;function B0(t){Du!==t&&(Du=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Du===t&&(Du=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Vd(o||a)===null)continue;break}var f=Rn(a);f!==null&&(t.splice(n,3),n-=3,Mf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function qa(t){function n(I){return Iu(I,t)}Bs!==null&&Iu(Bs,t),qs!==null&&Iu(qs,t),Hs!==null&&Iu(Hs,t),Tl.forEach(n),xl.forEach(n);for(var a=0;a<Fs.length;a++){var o=Fs[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Fs.length&&(a=Fs[0],a.blockedOn===null);)P0(a),a.blockedOn===null&&Fs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],_=h[Pt]||null;if(typeof f=="function")_||B0(a);else if(_){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[Pt]||null)E=_.formAction;else if(Vd(h)!==null)continue}else E=_.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),B0(a)}}}function q0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function zd(t){this._internalRoot=t}ku.prototype.render=zd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=wn();O0(a,o,t,n,null,null)},ku.prototype.unmount=zd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;O0(t.current,2,null,t,null,null),fu(),n[hi]=null}};function ku(t){this._internalRoot=t}ku.prototype.unstable_scheduleHydration=function(t){if(t){var n=fc();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Fs.length&&n!==0&&n<Fs[a].priority;a++);Fs.splice(a,0,t),a===0&&P0(t)}};var H0=e.version;if(H0!=="19.2.4")throw Error(r(527,H0,"19.2.4"));W.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(n),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var rx={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ou.isDisabled&&Ou.supportsFiber)try{qn=Ou.inject(rx),Ft=Ou}catch{}}return Al.createRoot=function(t,n){if(!l(t))throw Error(r(299));var a=!1,o="",h=$g,f=Jg,_=Zg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError)),n=D0(t,1,!1,null,null,a,o,null,h,f,_,q0),t[hi]=n.current,_d(t),new zd(n)},Al.hydrateRoot=function(t,n,a){if(!l(t))throw Error(r(299));var o=!1,h="",f=$g,_=Jg,E=Zg,I=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),n=D0(t,1,!0,n,a??null,o,h,I,f,_,E,q0),n.context=k0(null),a=n.current,o=wn(),o=pr(o),h=Cs(o),h.callback=null,Is(a,h,o),a=o,n.current.lanes=a,dr(n,a),Ri(n),t[hi]=n.current,_d(t),new ku(n)},Al.version="19.2.4",Al}var W0;function px(){if(W0)return Ud.exports;W0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ud.exports=mx(),Ud.exports}var gx=px();const lm={name:"",address:"",city:"",dni:"",phone:"",email:"",date:new Date().toISOString().split("T")[0],project:""},Fv={name:"DLKom",address:"Garaizar n 4 - 1",phone:"944 15 66 77",email:"bilbao@dlkom.com",cif:"B95123456",logo:"/DLKomPresupuesto/logo.png",signature:"/DLKomPresupuesto/SELLO.jpg"},Gv=[{id:"1",percentage:30,label:"A la firma del contrato"},{id:"2",percentage:40,label:"Al comienzo de la obra"},{id:"3",percentage:30,label:"A la finalizacin"}],Kv=`1. VALIDEZ DEL PRESUPUESTO
El presente presupuesto tiene una validez de 30 das naturales a partir de su fecha de emisin.

2. FORMA DE PAGO
- 30% A la aceptacin del presupuesto.
- 40% Al inicio de las obras y recepcin de materiales.
- 30% A la finalizacin y entrega de la obra.

3. EJECUCIN Y PLAZOS
El plazo estimado de ejecucin se acordar de mutuo acuerdo tras la firma. Retrasos ajenos a DLKom (falta de suministro, inclemencias o cambios del cliente) no sern responsabilidad de la empresa.

4. GARANTAS
DLKom garantiza sus trabajos segn la legislacin vigente (LOE). La garanta no cubre desperfectos debidos a un uso inadecuado o falta de mantenimiento.

5. DATOS BANCARIOS
CUENTA: ES23 2100 3771 2022 0013 7681

6. CONFIDENCIALIDAD
Los datos facilitados sern tratados con estricta confidencialidad de acuerdo con la LOPD.`;function Qv(s){var e,i,r="";if(typeof s=="string"||typeof s=="number")r+=s;else if(typeof s=="object")if(Array.isArray(s)){var l=s.length;for(e=0;e<l;e++)s[e]&&(i=Qv(s[e]))&&(r&&(r+=" "),r+=i)}else for(i in s)s[i]&&(r&&(r+=" "),r+=i);return r}function yx(){for(var s,e,i=0,r="",l=arguments.length;i<l;i++)(s=arguments[i])&&(e=Qv(s))&&(r&&(r+=" "),r+=e);return r}const _x=(s,e)=>{const i=new Array(s.length+e.length);for(let r=0;r<s.length;r++)i[r]=s[r];for(let r=0;r<e.length;r++)i[s.length+r]=e[r];return i},vx=(s,e)=>({classGroupId:s,validator:e}),Yv=(s=new Map,e=null,i)=>({nextPart:s,validators:e,classGroupId:i}),Wu="-",e_=[],bx="arbitrary..",Ex=s=>{const e=xx(s),{conflictingClassGroups:i,conflictingClassGroupModifiers:r}=s;return{getClassGroupId:d=>{if(d.startsWith("[")&&d.endsWith("]"))return Tx(d);const p=d.split(Wu),g=p[0]===""&&p.length>1?1:0;return Xv(p,g,e)},getConflictingClassGroupIds:(d,p)=>{if(p){const g=r[d],y=i[d];return g?y?_x(y,g):g:y||e_}return i[d]||e_}}},Xv=(s,e,i)=>{if(s.length-e===0)return i.classGroupId;const l=s[e],u=i.nextPart.get(l);if(u){const y=Xv(s,e+1,u);if(y)return y}const d=i.validators;if(d===null)return;const p=e===0?s.join(Wu):s.slice(e).join(Wu),g=d.length;for(let y=0;y<g;y++){const T=d[y];if(T.validator(p))return T.classGroupId}},Tx=s=>s.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=s.slice(1,-1),i=e.indexOf(":"),r=e.slice(0,i);return r?bx+r:void 0})(),xx=s=>{const{theme:e,classGroups:i}=s;return wx(i,e)},wx=(s,e)=>{const i=Yv();for(const r in s){const l=s[r];jm(l,i,r,e)}return i},jm=(s,e,i,r)=>{const l=s.length;for(let u=0;u<l;u++){const d=s[u];Sx(d,e,i,r)}},Sx=(s,e,i,r)=>{if(typeof s=="string"){Ax(s,e,i);return}if(typeof s=="function"){Rx(s,e,i,r);return}Nx(s,e,i,r)},Ax=(s,e,i)=>{const r=s===""?e:$v(e,s);r.classGroupId=i},Rx=(s,e,i,r)=>{if(Cx(s)){jm(s(r),e,i,r);return}e.validators===null&&(e.validators=[]),e.validators.push(vx(i,s))},Nx=(s,e,i,r)=>{const l=Object.entries(s),u=l.length;for(let d=0;d<u;d++){const[p,g]=l[d];jm(g,$v(e,p),i,r)}},$v=(s,e)=>{let i=s;const r=e.split(Wu),l=r.length;for(let u=0;u<l;u++){const d=r[u];let p=i.nextPart.get(d);p||(p=Yv(),i.nextPart.set(d,p)),i=p}return i},Cx=s=>"isThemeGetter"in s&&s.isThemeGetter===!0,Ix=s=>{if(s<1)return{get:()=>{},set:()=>{}};let e=0,i=Object.create(null),r=Object.create(null);const l=(u,d)=>{i[u]=d,e++,e>s&&(e=0,r=i,i=Object.create(null))};return{get(u){let d=i[u];if(d!==void 0)return d;if((d=r[u])!==void 0)return l(u,d),d},set(u,d){u in i?i[u]=d:l(u,d)}}},cm="!",t_=":",Dx=[],n_=(s,e,i,r,l)=>({modifiers:s,hasImportantModifier:e,baseClassName:i,maybePostfixModifierPosition:r,isExternal:l}),kx=s=>{const{prefix:e,experimentalParseClassName:i}=s;let r=l=>{const u=[];let d=0,p=0,g=0,y;const T=l.length;for(let ee=0;ee<T;ee++){const X=l[ee];if(d===0&&p===0){if(X===t_){u.push(l.slice(g,ee)),g=ee+1;continue}if(X==="/"){y=ee;continue}}X==="["?d++:X==="]"?d--:X==="("?p++:X===")"&&p--}const x=u.length===0?l:l.slice(g);let A=x,z=!1;x.endsWith(cm)?(A=x.slice(0,-1),z=!0):x.startsWith(cm)&&(A=x.slice(1),z=!0);const Q=y&&y>g?y-g:void 0;return n_(u,z,A,Q)};if(e){const l=e+t_,u=r;r=d=>d.startsWith(l)?u(d.slice(l.length)):n_(Dx,!1,d,void 0,!0)}if(i){const l=r;r=u=>i({className:u,parseClassName:l})}return r},Ox=s=>{const e=new Map;return s.orderSensitiveModifiers.forEach((i,r)=>{e.set(i,1e6+r)}),i=>{const r=[];let l=[];for(let u=0;u<i.length;u++){const d=i[u],p=d[0]==="[",g=e.has(d);p||g?(l.length>0&&(l.sort(),r.push(...l),l=[]),r.push(d)):l.push(d)}return l.length>0&&(l.sort(),r.push(...l)),r}},Mx=s=>({cache:Ix(s.cacheSize),parseClassName:kx(s),sortModifiers:Ox(s),...Ex(s)}),Vx=/\s+/,jx=(s,e)=>{const{parseClassName:i,getClassGroupId:r,getConflictingClassGroupIds:l,sortModifiers:u}=e,d=[],p=s.trim().split(Vx);let g="";for(let y=p.length-1;y>=0;y-=1){const T=p[y],{isExternal:x,modifiers:A,hasImportantModifier:z,baseClassName:Q,maybePostfixModifierPosition:ee}=i(T);if(x){g=T+(g.length>0?" "+g:g);continue}let X=!!ee,he=r(X?Q.substring(0,ee):Q);if(!he){if(!X){g=T+(g.length>0?" "+g:g);continue}if(he=r(Q),!he){g=T+(g.length>0?" "+g:g);continue}X=!1}const Ee=A.length===0?"":A.length===1?A[0]:u(A).join(":"),ge=z?Ee+cm:Ee,Oe=ge+he;if(d.indexOf(Oe)>-1)continue;d.push(Oe);const Fe=l(he,X);for(let ue=0;ue<Fe.length;++ue){const C=Fe[ue];d.push(ge+C)}g=T+(g.length>0?" "+g:g)}return g},zx=(...s)=>{let e=0,i,r,l="";for(;e<s.length;)(i=s[e++])&&(r=Jv(i))&&(l&&(l+=" "),l+=r);return l},Jv=s=>{if(typeof s=="string")return s;let e,i="";for(let r=0;r<s.length;r++)s[r]&&(e=Jv(s[r]))&&(i&&(i+=" "),i+=e);return i},Lx=(s,...e)=>{let i,r,l,u;const d=g=>{const y=e.reduce((T,x)=>x(T),s());return i=Mx(y),r=i.cache.get,l=i.cache.set,u=p,p(g)},p=g=>{const y=r(g);if(y)return y;const T=jx(g,i);return l(g,T),T};return u=d,(...g)=>u(zx(...g))},Px=[],jt=s=>{const e=i=>i[s]||Px;return e.isThemeGetter=!0,e},Zv=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Wv=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Ux=/^\d+\/\d+$/,Bx=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,qx=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Hx=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Fx=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Gx=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ha=s=>Ux.test(s),ke=s=>!!s&&!Number.isNaN(Number(s)),Ks=s=>!!s&&Number.isInteger(Number(s)),Fd=s=>s.endsWith("%")&&ke(s.slice(0,-1)),ns=s=>Bx.test(s),Kx=()=>!0,Qx=s=>qx.test(s)&&!Hx.test(s),eb=()=>!1,Yx=s=>Fx.test(s),Xx=s=>Gx.test(s),$x=s=>!le(s)&&!ce(s),Jx=s=>uo(s,ib,eb),le=s=>Zv.test(s),Ur=s=>uo(s,sb,Qx),Gd=s=>uo(s,nw,ke),i_=s=>uo(s,tb,eb),Zx=s=>uo(s,nb,Xx),Mu=s=>uo(s,rb,Yx),ce=s=>Wv.test(s),Rl=s=>ho(s,sb),Wx=s=>ho(s,iw),s_=s=>ho(s,tb),ew=s=>ho(s,ib),tw=s=>ho(s,nb),Vu=s=>ho(s,rb,!0),uo=(s,e,i)=>{const r=Zv.exec(s);return r?r[1]?e(r[1]):i(r[2]):!1},ho=(s,e,i=!1)=>{const r=Wv.exec(s);return r?r[1]?e(r[1]):i:!1},tb=s=>s==="position"||s==="percentage",nb=s=>s==="image"||s==="url",ib=s=>s==="length"||s==="size"||s==="bg-size",sb=s=>s==="length",nw=s=>s==="number",iw=s=>s==="family-name",rb=s=>s==="shadow",sw=()=>{const s=jt("color"),e=jt("font"),i=jt("text"),r=jt("font-weight"),l=jt("tracking"),u=jt("leading"),d=jt("breakpoint"),p=jt("container"),g=jt("spacing"),y=jt("radius"),T=jt("shadow"),x=jt("inset-shadow"),A=jt("text-shadow"),z=jt("drop-shadow"),Q=jt("blur"),ee=jt("perspective"),X=jt("aspect"),he=jt("ease"),Ee=jt("animate"),ge=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Oe=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],Fe=()=>[...Oe(),ce,le],ue=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto","contain","none"],S=()=>[ce,le,g],R=()=>[Ha,"full","auto",...S()],M=()=>[Ks,"none","subgrid",ce,le],k=()=>["auto",{span:["full",Ks,ce,le]},Ks,ce,le],V=()=>[Ks,"auto",ce,le],N=()=>["auto","min","max","fr",ce,le],Ke=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],re=()=>["start","end","center","stretch","center-safe","end-safe"],U=()=>["auto",...S()],W=()=>[Ha,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],Z=()=>[s,ce,le],de=()=>[...Oe(),s_,i_,{position:[ce,le]}],xe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],D=()=>["auto","cover","contain",ew,Jx,{size:[ce,le]}],K=()=>[Fd,Rl,Ur],ne=()=>["","none","full",y,ce,le],se=()=>["",ke,Rl,Ur],ve=()=>["solid","dashed","dotted","double"],Ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ye=()=>[ke,Fd,s_,i_],pt=()=>["","none",Q,ce,le],Ze=()=>["none",ke,ce,le],Sn=()=>["none",ke,ce,le],ri=()=>[ke,ce,le],Bn=()=>[Ha,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ns],breakpoint:[ns],color:[Kx],container:[ns],"drop-shadow":[ns],ease:["in","out","in-out"],font:[$x],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ns],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ns],shadow:[ns],spacing:["px",ke],text:[ns],"text-shadow":[ns],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ha,le,ce,X]}],container:["container"],columns:[{columns:[ke,le,ce,p]}],"break-after":[{"break-after":ge()}],"break-before":[{"break-before":ge()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:Fe()}],overflow:[{overflow:ue()}],"overflow-x":[{"overflow-x":ue()}],"overflow-y":[{"overflow-y":ue()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[Ks,"auto",ce,le]}],basis:[{basis:[Ha,"full","auto",p,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ke,Ha,"auto","initial","none",le]}],grow:[{grow:["",ke,ce,le]}],shrink:[{shrink:["",ke,ce,le]}],order:[{order:[Ks,"first","last","none",ce,le]}],"grid-cols":[{"grid-cols":M()}],"col-start-end":[{col:k()}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":M()}],"row-start-end":[{row:k()}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":N()}],"auto-rows":[{"auto-rows":N()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...Ke(),"normal"]}],"justify-items":[{"justify-items":[...re(),"normal"]}],"justify-self":[{"justify-self":["auto",...re()]}],"align-content":[{content:["normal",...Ke()]}],"align-items":[{items:[...re(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...re(),{baseline:["","last"]}]}],"place-content":[{"place-content":Ke()}],"place-items":[{"place-items":[...re(),"baseline"]}],"place-self":[{"place-self":["auto",...re()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:U()}],mx:[{mx:U()}],my:[{my:U()}],ms:[{ms:U()}],me:[{me:U()}],mt:[{mt:U()}],mr:[{mr:U()}],mb:[{mb:U()}],ml:[{ml:U()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:W()}],w:[{w:[p,"screen",...W()]}],"min-w":[{"min-w":[p,"screen","none",...W()]}],"max-w":[{"max-w":[p,"screen","none","prose",{screen:[d]},...W()]}],h:[{h:["screen","lh",...W()]}],"min-h":[{"min-h":["screen","lh","none",...W()]}],"max-h":[{"max-h":["screen","lh",...W()]}],"font-size":[{text:["base",i,Rl,Ur]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ce,Gd]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Fd,le]}],"font-family":[{font:[Wx,le,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[l,ce,le]}],"line-clamp":[{"line-clamp":[ke,"none",ce,Gd]}],leading:[{leading:[u,...S()]}],"list-image":[{"list-image":["none",ce,le]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ce,le]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Z()}],"text-color":[{text:Z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ve(),"wavy"]}],"text-decoration-thickness":[{decoration:[ke,"from-font","auto",ce,Ur]}],"text-decoration-color":[{decoration:Z()}],"underline-offset":[{"underline-offset":[ke,"auto",ce,le]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ce,le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ce,le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:de()}],"bg-repeat":[{bg:xe()}],"bg-size":[{bg:D()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ks,ce,le],radial:["",ce,le],conic:[Ks,ce,le]},tw,Zx]}],"bg-color":[{bg:Z()}],"gradient-from-pos":[{from:K()}],"gradient-via-pos":[{via:K()}],"gradient-to-pos":[{to:K()}],"gradient-from":[{from:Z()}],"gradient-via":[{via:Z()}],"gradient-to":[{to:Z()}],rounded:[{rounded:ne()}],"rounded-s":[{"rounded-s":ne()}],"rounded-e":[{"rounded-e":ne()}],"rounded-t":[{"rounded-t":ne()}],"rounded-r":[{"rounded-r":ne()}],"rounded-b":[{"rounded-b":ne()}],"rounded-l":[{"rounded-l":ne()}],"rounded-ss":[{"rounded-ss":ne()}],"rounded-se":[{"rounded-se":ne()}],"rounded-ee":[{"rounded-ee":ne()}],"rounded-es":[{"rounded-es":ne()}],"rounded-tl":[{"rounded-tl":ne()}],"rounded-tr":[{"rounded-tr":ne()}],"rounded-br":[{"rounded-br":ne()}],"rounded-bl":[{"rounded-bl":ne()}],"border-w":[{border:se()}],"border-w-x":[{"border-x":se()}],"border-w-y":[{"border-y":se()}],"border-w-s":[{"border-s":se()}],"border-w-e":[{"border-e":se()}],"border-w-t":[{"border-t":se()}],"border-w-r":[{"border-r":se()}],"border-w-b":[{"border-b":se()}],"border-w-l":[{"border-l":se()}],"divide-x":[{"divide-x":se()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":se()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ve(),"hidden","none"]}],"divide-style":[{divide:[...ve(),"hidden","none"]}],"border-color":[{border:Z()}],"border-color-x":[{"border-x":Z()}],"border-color-y":[{"border-y":Z()}],"border-color-s":[{"border-s":Z()}],"border-color-e":[{"border-e":Z()}],"border-color-t":[{"border-t":Z()}],"border-color-r":[{"border-r":Z()}],"border-color-b":[{"border-b":Z()}],"border-color-l":[{"border-l":Z()}],"divide-color":[{divide:Z()}],"outline-style":[{outline:[...ve(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ke,ce,le]}],"outline-w":[{outline:["",ke,Rl,Ur]}],"outline-color":[{outline:Z()}],shadow:[{shadow:["","none",T,Vu,Mu]}],"shadow-color":[{shadow:Z()}],"inset-shadow":[{"inset-shadow":["none",x,Vu,Mu]}],"inset-shadow-color":[{"inset-shadow":Z()}],"ring-w":[{ring:se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Z()}],"ring-offset-w":[{"ring-offset":[ke,Ur]}],"ring-offset-color":[{"ring-offset":Z()}],"inset-ring-w":[{"inset-ring":se()}],"inset-ring-color":[{"inset-ring":Z()}],"text-shadow":[{"text-shadow":["none",A,Vu,Mu]}],"text-shadow-color":[{"text-shadow":Z()}],opacity:[{opacity:[ke,ce,le]}],"mix-blend":[{"mix-blend":[...Ae(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ae()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ke]}],"mask-image-linear-from-pos":[{"mask-linear-from":ye()}],"mask-image-linear-to-pos":[{"mask-linear-to":ye()}],"mask-image-linear-from-color":[{"mask-linear-from":Z()}],"mask-image-linear-to-color":[{"mask-linear-to":Z()}],"mask-image-t-from-pos":[{"mask-t-from":ye()}],"mask-image-t-to-pos":[{"mask-t-to":ye()}],"mask-image-t-from-color":[{"mask-t-from":Z()}],"mask-image-t-to-color":[{"mask-t-to":Z()}],"mask-image-r-from-pos":[{"mask-r-from":ye()}],"mask-image-r-to-pos":[{"mask-r-to":ye()}],"mask-image-r-from-color":[{"mask-r-from":Z()}],"mask-image-r-to-color":[{"mask-r-to":Z()}],"mask-image-b-from-pos":[{"mask-b-from":ye()}],"mask-image-b-to-pos":[{"mask-b-to":ye()}],"mask-image-b-from-color":[{"mask-b-from":Z()}],"mask-image-b-to-color":[{"mask-b-to":Z()}],"mask-image-l-from-pos":[{"mask-l-from":ye()}],"mask-image-l-to-pos":[{"mask-l-to":ye()}],"mask-image-l-from-color":[{"mask-l-from":Z()}],"mask-image-l-to-color":[{"mask-l-to":Z()}],"mask-image-x-from-pos":[{"mask-x-from":ye()}],"mask-image-x-to-pos":[{"mask-x-to":ye()}],"mask-image-x-from-color":[{"mask-x-from":Z()}],"mask-image-x-to-color":[{"mask-x-to":Z()}],"mask-image-y-from-pos":[{"mask-y-from":ye()}],"mask-image-y-to-pos":[{"mask-y-to":ye()}],"mask-image-y-from-color":[{"mask-y-from":Z()}],"mask-image-y-to-color":[{"mask-y-to":Z()}],"mask-image-radial":[{"mask-radial":[ce,le]}],"mask-image-radial-from-pos":[{"mask-radial-from":ye()}],"mask-image-radial-to-pos":[{"mask-radial-to":ye()}],"mask-image-radial-from-color":[{"mask-radial-from":Z()}],"mask-image-radial-to-color":[{"mask-radial-to":Z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":Oe()}],"mask-image-conic-pos":[{"mask-conic":[ke]}],"mask-image-conic-from-pos":[{"mask-conic-from":ye()}],"mask-image-conic-to-pos":[{"mask-conic-to":ye()}],"mask-image-conic-from-color":[{"mask-conic-from":Z()}],"mask-image-conic-to-color":[{"mask-conic-to":Z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:de()}],"mask-repeat":[{mask:xe()}],"mask-size":[{mask:D()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ce,le]}],filter:[{filter:["","none",ce,le]}],blur:[{blur:pt()}],brightness:[{brightness:[ke,ce,le]}],contrast:[{contrast:[ke,ce,le]}],"drop-shadow":[{"drop-shadow":["","none",z,Vu,Mu]}],"drop-shadow-color":[{"drop-shadow":Z()}],grayscale:[{grayscale:["",ke,ce,le]}],"hue-rotate":[{"hue-rotate":[ke,ce,le]}],invert:[{invert:["",ke,ce,le]}],saturate:[{saturate:[ke,ce,le]}],sepia:[{sepia:["",ke,ce,le]}],"backdrop-filter":[{"backdrop-filter":["","none",ce,le]}],"backdrop-blur":[{"backdrop-blur":pt()}],"backdrop-brightness":[{"backdrop-brightness":[ke,ce,le]}],"backdrop-contrast":[{"backdrop-contrast":[ke,ce,le]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ke,ce,le]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ke,ce,le]}],"backdrop-invert":[{"backdrop-invert":["",ke,ce,le]}],"backdrop-opacity":[{"backdrop-opacity":[ke,ce,le]}],"backdrop-saturate":[{"backdrop-saturate":[ke,ce,le]}],"backdrop-sepia":[{"backdrop-sepia":["",ke,ce,le]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ce,le]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ke,"initial",ce,le]}],ease:[{ease:["linear","initial",he,ce,le]}],delay:[{delay:[ke,ce,le]}],animate:[{animate:["none",Ee,ce,le]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[ee,ce,le]}],"perspective-origin":[{"perspective-origin":Fe()}],rotate:[{rotate:Ze()}],"rotate-x":[{"rotate-x":Ze()}],"rotate-y":[{"rotate-y":Ze()}],"rotate-z":[{"rotate-z":Ze()}],scale:[{scale:Sn()}],"scale-x":[{"scale-x":Sn()}],"scale-y":[{"scale-y":Sn()}],"scale-z":[{"scale-z":Sn()}],"scale-3d":["scale-3d"],skew:[{skew:ri()}],"skew-x":[{"skew-x":ri()}],"skew-y":[{"skew-y":ri()}],transform:[{transform:[ce,le,"","none","gpu","cpu"]}],"transform-origin":[{origin:Fe()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Bn()}],"translate-x":[{"translate-x":Bn()}],"translate-y":[{"translate-y":Bn()}],"translate-z":[{"translate-z":Bn()}],"translate-none":["translate-none"],accent:[{accent:Z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ce,le]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ce,le]}],fill:[{fill:["none",...Z()]}],"stroke-w":[{stroke:[ke,Rl,Ur,Gd]}],stroke:[{stroke:["none",...Z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},rw=Lx(sw);function ei(...s){return rw(yx(s))}function ab({className:s,...e}){return v.jsx("div",{className:ei("bg-white/80 backdrop-blur-md rounded-xl shadow-lg border border-slate-100/50 p-6",s),...e})}function Qs({className:s,...e}){return v.jsx("input",{className:ei("w-full px-4 py-2 rounded-lg border border-slate-200 bg-white/50 focus:bg-white focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all outline-none",s),...e})}function Ys({className:s,...e}){return v.jsx("label",{className:ei("block text-xs font-semibold text-slate-500 uppercase tracking-wider mb-1",s),...e})}function ct({className:s,variant:e="primary",size:i="md",...r}){const l={primary:"bg-primary-600 hover:bg-primary-700 text-white shadow-md hover:shadow-lg",secondary:"bg-white border border-slate-200 text-slate-700 hover:bg-slate-50",danger:"bg-red-500 hover:bg-red-600 text-white",ghost:"hover:bg-slate-100 text-slate-600"},u={sm:"px-3 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"};return v.jsx("button",{className:ei("rounded-lg font-medium transition-all duration-200 flex items-center justify-center gap-2 active:scale-95 disabled:opacity-50 disabled:pointer-events-none",l[e],u[i],s),...r})}const ob=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim();const aw=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const ow=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase());const r_=s=>{const e=ow(s);return e.charAt(0).toUpperCase()+e.slice(1)};var lw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const cw=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const uw=je.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:u,iconNode:d,...p},g)=>je.createElement("svg",{ref:g,...lw,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:ob("lucide",l),...!u&&!cw(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,T])=>je.createElement(y,T)),...Array.isArray(u)?u:[u]]));const qe=(s,e)=>{const i=je.forwardRef(({className:r,...l},u)=>je.createElement(uw,{ref:u,iconNode:e,className:ob(`lucide-${aw(r_(s))}`,`lucide-${s}`,r),...l}));return i.displayName=r_(s),i};const hw=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["line",{x1:"12",x2:"12",y1:"16",y2:"12",key:"1y1yb1"}],["line",{x1:"12",x2:"12.01",y1:"8",y2:"8",key:"110wyk"}]],fw=qe("badge-info",hw);const dw=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],mw=qe("bold",dw);const pw=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],gw=qe("briefcase",pw);const yw=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],a_=qe("building-2",yw);const _w=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],eh=qe("calculator",_w);const vw=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],bw=qe("check",vw);const Ew=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],um=qe("chevron-down",Ew);const Tw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],o_=qe("circle-check",Tw);const xw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],l_=qe("circle-x",xw);const ww=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],c_=qe("cloud",ww);const Sw=[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]],u_=qe("euro",Sw);const Aw=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Rw=qe("eye-off",Aw);const Nw=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Cw=qe("eye",Nw);const Iw=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],lb=qe("file-text",Iw);const Dw=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],kw=qe("italic",Dw);const Ow=[["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"M3 10a2 2 0 0 0 2 2h3",key:"1npucw"}],["path",{d:"M3 5v12a2 2 0 0 0 2 2h3",key:"x1gjn2"}]],cb=qe("list-tree",Ow);const Mw=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],h_=qe("loader-circle",Mw);const Vw=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],jw=qe("lock-open",Vw);const zw=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Lw=qe("lock",zw);const Pw=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Uw=qe("mail",Pw);const Bw=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],qw=qe("map-pin",Bw);const Hw=[["path",{d:"M18 8c0 3.613-3.869 7.429-5.393 8.795a1 1 0 0 1-1.214 0C9.87 15.429 6 11.613 6 8a6 6 0 0 1 12 0",key:"11u0oz"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.714 14h-3.71a1 1 0 0 0-.948.683l-2.004 6A1 1 0 0 0 3 22h18a1 1 0 0 0 .948-1.316l-2-6a1 1 0 0 0-.949-.684h-3.712",key:"q8zwxj"}]],Fw=qe("map-pinned",Hw);const Gw=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],Kw=qe("maximize",Gw);const Qw=[["path",{d:"M5 12h14",key:"1ays0h"}]],Yw=qe("minus",Qw);const Xw=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],$w=qe("phone",Xw);const Jw=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],fo=qe("plus",Jw);const Zw=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Ww=qe("printer",Zw);const eS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],f_=qe("save",eS);const tS=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],d_=qe("settings",tS);const nS=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],iS=qe("square",nS);const sS=[["path",{d:"M13.172 2a2 2 0 0 1 1.414.586l6.71 6.71a2.4 2.4 0 0 1 0 3.408l-4.592 4.592a2.4 2.4 0 0 1-3.408 0l-6.71-6.71A2 2 0 0 1 6 9.172V3a1 1 0 0 1 1-1z",key:"16rjxf"}],["path",{d:"M2 7v6.172a2 2 0 0 0 .586 1.414l6.71 6.71a2.4 2.4 0 0 0 3.191.193",key:"178nd4"}],["circle",{cx:"10.5",cy:"6.5",r:".5",fill:"currentColor",key:"12ikhr"}]],ub=qe("tags",sS);const rS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Yl=qe("trash-2",rS);const aS=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],Kd=qe("type",aS);const oS=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Qd=qe("upload",oS);const lS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],m_=qe("user",lS);const cS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Th=qe("x",cS);function uS(s){if(!s)return!0;const e=s.replace(/\s/g,"").toUpperCase();if(!/^[0-9]{8}[A-Z]$/.test(e))return!1;const r="TRWAGMYFPDXBNJZSQVHLCKE",l=parseInt(e.substring(0,8),10),u=e.charAt(8);return r.charAt(l%23)===u}function hS(s){if(!s)return!0;const e=s.replace(/\s/g,"").toUpperCase();return/^[ABCDEFGHJNPQRSUVW][0-9]{7}[0-9A-J]$/.test(e)}function Yd(s){return s?uS(s)||hS(s):!0}function Xd(s){if(!s)return!0;const e=s.replace(/\s/g,"");return/^(\+34|0034|34)?[6-9][0-9]{8}$/.test(e)}function fS({client:s,onChange:e}){return v.jsxs(ab,{className:"mb-8 overflow-hidden border-none shadow-2xl shadow-slate-200/50 animate-in fade-in slide-in-from-bottom-6 duration-700",children:[v.jsxs("div",{className:"relative bg-slate-900 px-8 py-5 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"p-2 bg-primary-600 text-white rounded-lg shadow-lg shadow-primary-500/20",children:v.jsx(m_,{size:20})}),v.jsxs("div",{children:[v.jsx("h2",{className:"text-lg font-black text-white uppercase tracking-widest leading-none",children:"Datos del Cliente"}),v.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-[0.2em] mt-1",children:"Informacin de Facturacin"})]})]}),v.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-slate-800 rounded-full border border-slate-700",children:[v.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"}),v.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"En Edicin"})]})]}),v.jsx("div",{className:"p-8",children:v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-10 gap-y-8",children:[v.jsxs("div",{className:"space-y-2 group",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(m_,{size:14,className:"text-primary-500"}),v.jsx(Ys,{className:"uppercase text-[10px] font-bold tracking-widest text-slate-400 group-focus-within:text-primary-600 transition-colors",children:"Nombre Completo"})]}),v.jsx(Qs,{value:s.name,onChange:i=>e("name",i.target.value),placeholder:"Ej. Juan Prez",className:"border-transparent bg-slate-50 border-b-slate-200 rounded-none focus:ring-0 focus:border-b-primary-500 px-0 text-slate-900 font-bold placeholder:text-slate-300 placeholder:font-medium text-base transition-all h-auto py-1"})]}),v.jsxs("div",{className:"space-y-2 group",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(qw,{size:14,className:"text-primary-500"}),v.jsx(Ys,{className:"uppercase text-[10px] font-bold tracking-widest text-slate-400 group-focus-within:text-primary-600 transition-colors",children:"Direccin"})]}),v.jsx(Qs,{value:s.address,onChange:i=>e("address",i.target.value),placeholder:"Ej. Av. Libertad 123",className:"border-transparent bg-slate-50 border-b-slate-200 rounded-none focus:ring-0 focus:border-b-primary-500 px-0 text-slate-900 font-bold placeholder:text-slate-300 placeholder:font-medium text-base transition-all h-auto py-1"})]}),v.jsxs("div",{className:"space-y-2 group",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(Fw,{size:14,className:"text-primary-500"}),v.jsx(Ys,{className:"uppercase text-[10px] font-bold tracking-widest text-slate-400 group-focus-within:text-primary-600 transition-colors",children:"Poblacin"})]}),v.jsx(Qs,{value:s.city,onChange:i=>e("city",i.target.value),placeholder:"Ej. Bilbao",className:"border-transparent bg-slate-50 border-b-slate-200 rounded-none focus:ring-0 focus:border-b-primary-500 px-0 text-slate-900 font-bold placeholder:text-slate-300 placeholder:font-medium text-base transition-all h-auto py-1"})]}),v.jsxs("div",{className:"space-y-2 group",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(fw,{size:14,className:"text-primary-500"}),v.jsx(Ys,{className:"uppercase text-[10px] font-bold tracking-widest text-slate-400 group-focus-within:text-primary-600 transition-colors",children:"D.N.I. / C.I.F."}),s.dni&&(Yd(s.dni)?v.jsx(o_,{size:14,className:"text-emerald-500 ml-auto"}):v.jsx(l_,{size:14,className:"text-red-500 ml-auto"}))]}),v.jsx(Qs,{value:s.dni,onChange:i=>e("dni",i.target.value.toUpperCase()),placeholder:"12345678A o B12345678",className:`border-transparent bg-slate-50 border-b-2 rounded-none focus:ring-0 px-0 text-slate-900 font-bold placeholder:text-slate-300 placeholder:font-medium text-base transition-all h-auto py-1 ${s.dni?Yd(s.dni)?"border-b-emerald-500 focus:border-b-emerald-600":"border-b-red-500 focus:border-b-red-600":"border-b-slate-200 focus:border-b-primary-500"}`}),s.dni&&!Yd(s.dni)&&v.jsx("p",{className:"text-[10px] text-red-500 font-medium mt-1",children:"Formato invlido. Ej: 12345678Z o B12345678"})]}),v.jsxs("div",{className:"space-y-2 group",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx($w,{size:14,className:"text-primary-500"}),v.jsx(Ys,{className:"uppercase text-[10px] font-bold tracking-widest text-slate-400 group-focus-within:text-primary-600 transition-colors",children:"Telfono"}),s.phone&&(Xd(s.phone)?v.jsx(o_,{size:14,className:"text-emerald-500 ml-auto"}):v.jsx(l_,{size:14,className:"text-red-500 ml-auto"}))]}),v.jsx(Qs,{value:s.phone,onChange:i=>{let r=i.target.value;r.startsWith("+34 ")||(r=r.replace(/^\+?34\s?/,""),r="+34 "+r),e("phone",r)},onFocus:i=>{i.target.value||e("phone","+34 ")},placeholder:"+34 600 000 000",type:"tel",className:`border-transparent bg-slate-50 border-b-2 rounded-none focus:ring-0 px-0 text-slate-900 font-bold placeholder:text-slate-300 placeholder:font-medium text-base transition-all h-auto py-1 ${s.phone?Xd(s.phone)?"border-b-emerald-500 focus:border-b-emerald-600":"border-b-red-500 focus:border-b-red-600":"border-b-slate-200 focus:border-b-primary-500"}`}),s.phone&&!Xd(s.phone)&&v.jsx("p",{className:"text-[10px] text-red-500 font-medium mt-1",children:"Formato invlido. Ej: +34 600 000 000 o 600000000"})]}),v.jsxs("div",{className:"space-y-2 group",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(Uw,{size:14,className:"text-primary-500"}),v.jsx(Ys,{className:"uppercase text-[10px] font-bold tracking-widest text-slate-400 group-focus-within:text-primary-600 transition-colors",children:"Email"})]}),v.jsx(Qs,{value:s.email,onChange:i=>e("email",i.target.value),placeholder:"cliente@email.com",className:"border-transparent bg-slate-50 border-b-slate-200 rounded-none focus:ring-0 focus:border-b-primary-500 px-0 text-slate-900 font-bold placeholder:text-slate-300 placeholder:font-medium text-base transition-all h-auto py-1"})]}),v.jsxs("div",{className:"space-y-2 group",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(lb,{size:14,className:"text-primary-500"}),v.jsx(Ys,{className:"uppercase text-[10px] font-bold tracking-widest text-slate-400 group-focus-within:text-primary-600 transition-colors",children:"Fecha"})]}),v.jsx(Qs,{type:"date",value:s.date,onChange:i=>e("date",i.target.value),className:"border-transparent bg-slate-50 border-b-slate-200 rounded-none focus:ring-0 focus:border-b-primary-500 px-0 text-slate-900 font-bold text-base transition-all h-auto py-1"})]}),v.jsxs("div",{className:"space-y-2 group",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(gw,{size:14,className:"text-primary-500"}),v.jsx(Ys,{className:"uppercase text-[10px] font-bold tracking-widest text-slate-400 group-focus-within:text-primary-600 transition-colors",children:"Proyecto"})]}),v.jsx(Qs,{value:s.project,onChange:i=>e("project",i.target.value),placeholder:"Ej. ARRIGORRIAGA_LUCIDO",className:"border-transparent bg-slate-50 border-b-slate-200 rounded-none focus:ring-0 focus:border-b-primary-500 px-0 text-slate-900 font-bold placeholder:text-slate-300 placeholder:font-medium text-base transition-all h-auto py-1"})]})]})})]})}function dS({groups:s,onUpdateGroups:e,onClose:i}){const[r,l]=je.useState(""),u=()=>{if(!r.trim())return;if(s.find(g=>g.name.toLowerCase()===r.trim().toLowerCase())){alert("Este grupo ya existe");return}const p={name:r.trim(),categories:[{name:"General"}]};e([...s,p]),l("")},d=p=>{if(s.length<=1){alert("Debe haber al menos un grupo");return}confirm(`Ests seguro de que quieres eliminar el grupo "${p}" y todas sus categoras?`)&&e(s.filter(g=>g.name!==p))};return v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:v.jsxs("div",{className:"bg-white w-full max-w-md rounded-3xl shadow-2xl border border-slate-100 overflow-hidden animate-in zoom-in-95 duration-300",children:[v.jsxs("div",{className:"p-6 bg-slate-50 border-b border-slate-100 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"p-2 bg-sky-600 text-white rounded-xl shadow-lg shadow-sky-500/20",children:v.jsx(cb,{size:20})}),v.jsxs("div",{children:[v.jsx("h2",{className:"text-lg font-black text-slate-900 tracking-tight",children:"Gestin de Grupos"}),v.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:"Organiza las secciones del presupuesto"})]})]}),v.jsx("button",{onClick:i,className:"p-2 hover:bg-slate-200 rounded-full transition-colors text-slate-400",children:v.jsx(Th,{size:20})})]}),v.jsxs("div",{className:"p-6 space-y-6",children:[v.jsxs("div",{className:"flex gap-2",children:[v.jsx("input",{type:"text",value:r,onChange:p=>l(p.target.value),className:"flex-1 bg-slate-50 border border-slate-100 rounded-xl p-3 outline-none focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 transition-all font-bold text-slate-900 text-sm",placeholder:"Nombre del nuevo grupo...",onKeyDown:p=>p.key==="Enter"&&u()}),v.jsx(ct,{onClick:u,className:"rounded-xl shadow-lg bg-slate-900",children:v.jsx(fo,{size:20})})]}),v.jsx("div",{className:"space-y-2 max-h-[300px] overflow-y-auto",children:s.map(p=>v.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-slate-100 group",children:[v.jsx("span",{className:"font-bold text-slate-700",children:p.name}),v.jsx("button",{onClick:()=>d(p.name),className:"p-2 text-slate-300 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all",children:v.jsx(Yl,{size:16})})]},p.name))})]}),v.jsx("div",{className:"p-6 bg-slate-50 border-t border-slate-100",children:v.jsx(ct,{variant:"ghost",className:"w-full rounded-xl text-slate-400 hover:text-slate-900",onClick:i,children:"Cerrar"})})]})})}function mS({groups:s,onUpdateGroups:e,onClose:i}){const[r,l]=je.useState(s[0]?.name||""),[u,d]=je.useState(""),p=s.find(T=>T.name===r),g=()=>{if(!u.trim()||!p)return;if(p.categories.find(x=>x.name.toLowerCase()===u.trim().toLowerCase())){alert("Esta categora ya existe en este grupo");return}const T=s.map(x=>x.name===r?{...x,categories:[...x.categories,{name:u.trim()}]}:x);e(T),d("")},y=T=>{if(!p||p.categories.length<=1){alert("Debe haber al menos una categora por grupo");return}const x=s.map(A=>A.name===r?{...A,categories:A.categories.filter(z=>z.name!==T)}:A);e(x)};return v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:v.jsxs("div",{className:"bg-white w-full max-w-md rounded-3xl shadow-2xl border border-slate-100 overflow-hidden animate-in zoom-in-95 duration-300",children:[v.jsxs("div",{className:"p-6 bg-slate-50 border-b border-slate-100 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"p-2 bg-emerald-600 text-white rounded-xl shadow-lg shadow-emerald-500/20",children:v.jsx(ub,{size:20})}),v.jsxs("div",{children:[v.jsx("h2",{className:"text-lg font-black text-slate-900 tracking-tight",children:"Gestin de Categoras"}),v.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:"Aade o quita conceptos de cada grupo"})]})]}),v.jsx("button",{onClick:i,className:"p-2 hover:bg-slate-200 rounded-full transition-colors text-slate-400",children:v.jsx(Th,{size:20})})]}),v.jsxs("div",{className:"p-6 space-y-6",children:[v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Seleccionar Grupo"}),v.jsxs("div",{className:"relative",children:[v.jsx("select",{value:r,onChange:T=>l(T.target.value),className:"w-full appearance-none bg-slate-50 border border-slate-100 rounded-xl p-3 outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all font-bold text-slate-900 text-sm cursor-pointer",children:s.map(T=>v.jsx("option",{value:T.name,children:T.name},T.name))}),v.jsx(um,{size:16,className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"})]})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("input",{type:"text",value:u,onChange:T=>d(T.target.value),className:"flex-1 bg-slate-50 border border-slate-100 rounded-xl p-3 outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all font-bold text-slate-900 text-sm",placeholder:"Nueva categora...",onKeyDown:T=>T.key==="Enter"&&g()}),v.jsx(ct,{onClick:g,className:"rounded-xl shadow-lg bg-slate-900",children:v.jsx(fo,{size:20})})]}),v.jsx("div",{className:"space-y-2 max-h-[250px] overflow-y-auto",children:p?.categories.map(T=>v.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-2xl border border-slate-50 shadow-sm group hover:border-emerald-100 transition-colors",children:[v.jsx("span",{className:"font-bold text-slate-700",children:T.name}),v.jsx("button",{onClick:()=>y(T.name),className:"p-2 text-slate-300 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all",children:v.jsx(Yl,{size:16})})]},T.name))})]}),v.jsx("div",{className:"p-6 bg-slate-50 border-t border-slate-100",children:v.jsx(ct,{variant:"ghost",className:"w-full rounded-xl text-slate-400 hover:text-slate-900",onClick:i,children:"Cerrar"})})]})})}function pS({items:s,onAddItem:e,onUpdateItem:i,onRemoveItem:r,groups:l,onUpdateGroups:u}){const[d,p]=je.useState(!1),[g,y]=je.useState(!1),T=x=>{const A=x.salePrice-x.costPrice,z=x.salePrice*x.quantity,Q=A*x.quantity,ee=x.salePrice>0?(A/x.salePrice*100).toFixed(1):"0";return{benefit:A,total:z,benefitTotal:Q,margin:ee}};return v.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-8 duration-700 delay-100",children:[v.jsxs("div",{className:"flex items-center justify-between no-print sticky top-20 z-20 bg-slate-50/95 backdrop-blur-sm py-4 -mx-6 px-6 border-b border-slate-100 transition-all duration-300 shadow-sm",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"p-2.5 bg-slate-900 text-primary-500 rounded-xl shadow-xl shadow-slate-200",children:v.jsx(eh,{size:22})}),v.jsxs("div",{children:[v.jsx("h2",{className:"text-xl font-black text-slate-800 tracking-tight leading-none",children:"Partidas del Presupuesto"}),v.jsxs("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-[0.2em] mt-1.5 flex items-center gap-2",children:[v.jsx("div",{className:"w-1 h-1 rounded-full bg-slate-300"}),s.length," Conceptos Aadidos"]})]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs(ct,{variant:"secondary",size:"sm",className:"bg-sky-50 border-sky-100 text-sky-700 hover:bg-sky-100 rounded-xl h-11 px-4 font-bold transition-all flex items-center gap-2",onClick:()=>p(!0),children:[v.jsx(cb,{size:16}),"Gestin Grupos"]}),v.jsxs(ct,{variant:"secondary",size:"sm",className:"bg-sky-50 border-sky-100 text-sky-700 hover:bg-sky-100 rounded-xl h-11 px-4 font-bold transition-all flex items-center gap-2",onClick:()=>y(!0),children:[v.jsx(ub,{size:16}),"Gestin Categoras"]}),v.jsx("div",{className:"w-px h-6 bg-slate-100 mx-2"}),v.jsxs(ct,{onClick:e,className:"bg-slate-900 hover:bg-slate-800 text-white rounded-xl h-11 px-6 shadow-xl shadow-slate-200 font-bold transition-all hover:scale-[1.02] active:scale-95 group",children:[v.jsx(fo,{size:18,className:"group-hover:rotate-90 transition-transform duration-300"}),v.jsx("span",{className:"ml-2",children:"Aadir Concepto"})]})]})]}),v.jsx("div",{className:"overflow-hidden rounded-2xl border border-slate-100 bg-white shadow-2xl shadow-slate-200/50",children:v.jsxs("table",{className:"w-full text-left text-[11px]",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"bg-slate-50 border-b border-slate-100 text-slate-400 uppercase tracking-widest font-black",children:[v.jsx("th",{className:"px-6 py-5 min-w-[140px]",children:"Grupo"}),v.jsx("th",{className:"px-6 py-5 min-w-[140px]",children:"Categora"}),v.jsx("th",{className:"px-6 py-5 min-w-[200px]",children:"Descripcin"}),v.jsx("th",{className:"px-6 py-5 w-24 text-center",children:"Metros 2"}),v.jsx("th",{className:"px-6 py-5 w-32 text-right",children:"Precio de Costo"}),v.jsx("th",{className:"px-6 py-5 w-32 text-right",children:"Precio de Venta"}),v.jsx("th",{className:"px-6 py-5 w-32 text-right bg-slate-100/30",children:"Total"}),v.jsx("th",{className:"px-6 py-5 w-16 no-print"})]})}),v.jsxs("tbody",{className:"divide-y divide-slate-50",children:[s.length===0&&v.jsx("tr",{children:v.jsx("td",{colSpan:8,className:"px-6 py-20 text-center",children:v.jsxs("div",{className:"flex flex-col items-center gap-3 opacity-20",children:[v.jsx(eh,{size:48,className:"text-slate-400"}),v.jsx("p",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest",children:"El presupuesto est vaco"})]})})}),s.map(x=>{const{total:A,margin:z,benefit:Q}=T(x),ee=l.find(X=>X.name===x.group);return v.jsxs("tr",{className:"group hover:bg-slate-50/50 transition-all duration-300",children:[v.jsx("td",{className:"px-6 py-5 align-top",children:v.jsxs("div",{className:"relative",children:[v.jsxs("select",{className:"w-full appearance-none bg-transparent border-b-2 border-transparent group-hover:border-slate-100 focus:border-primary-500 outline-none pb-1.5 text-slate-900 font-bold cursor-pointer transition-colors",value:x.group,onChange:X=>i(x.id,"group",X.target.value),children:[v.jsx("option",{value:"",disabled:!0,children:"Seleccionar..."}),l.map(X=>v.jsx("option",{value:X.name,children:X.name},X.name))]}),v.jsx(um,{size:12,className:"absolute right-0 top-1 text-slate-300 pointer-events-none group-hover:text-primary-500 transition-colors"})]})}),v.jsx("td",{className:"px-6 py-5 align-top",children:v.jsxs("div",{className:"relative",children:[v.jsxs("select",{className:"w-full appearance-none bg-transparent border-b-2 border-transparent group-hover:border-slate-100 focus:border-primary-500 outline-none pb-1.5 text-slate-900 font-bold cursor-pointer transition-colors",value:x.category,onChange:X=>i(x.id,"category",X.target.value),children:[v.jsx("option",{value:"",disabled:!0,children:"-"}),ee?.categories.map(X=>v.jsx("option",{value:X.name,children:X.name},X.name))]}),v.jsx(um,{size:12,className:"absolute right-0 top-1 text-slate-300 pointer-events-none group-hover:text-primary-500 transition-colors"})]})}),v.jsx("td",{className:"px-6 py-5 align-top min-w-[320px]",children:v.jsx("textarea",{className:"w-full bg-slate-50 border border-transparent hover:border-slate-200 focus:border-primary-500 focus:bg-white rounded-xl p-3 resize-y min-h-[5rem] outline-none text-slate-700 leading-snug font-medium transition-all",value:x.description,onChange:X=>i(x.id,"description",X.target.value),placeholder:"Descripcin detallada del trabajo..."})}),v.jsx("td",{className:"px-6 py-5 align-top",children:v.jsx("input",{type:"number",className:"w-full text-center bg-transparent border-b-2 border-transparent focus:border-primary-500 outline-none pb-1.5 font-black text-slate-900 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",value:x.quantity,onChange:X=>i(x.id,"quantity",parseFloat(X.target.value)||0)})}),v.jsx("td",{className:"px-6 py-5 align-top",children:v.jsx("input",{type:"number",className:"w-full text-right bg-transparent border-b-2 border-transparent focus:border-primary-500 outline-none pb-1.5 text-slate-400 font-medium [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",value:x.costPrice,onChange:X=>i(x.id,"costPrice",parseFloat(X.target.value)||0)})}),v.jsx("td",{className:"px-6 py-5 align-top",children:v.jsxs("div",{className:"flex flex-col gap-1.5",children:[v.jsx("input",{type:"number",className:"w-full text-right bg-transparent border-b-2 border-transparent focus:border-primary-500 outline-none pb-1.5 font-black text-slate-900 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",value:x.salePrice,onChange:X=>i(x.id,"salePrice",parseFloat(X.target.value)||0)}),x.salePrice>0&&v.jsx("div",{className:"flex justify-end",children:v.jsxs("span",{className:`text-[9px] px-1.5 py-0.5 rounded font-black border tracking-wider inline-flex items-center gap-1 ${Q>=0?"bg-emerald-50 text-emerald-600 border-emerald-100":"bg-red-50 text-red-600 border-red-100"}`,children:[v.jsx("div",{className:`w-1 h-1 rounded-full ${Q>=0?"bg-emerald-500":"bg-red-500"}`}),z,"%"]})})]})}),v.jsx("td",{className:"px-6 py-5 align-top text-right font-black text-slate-900 bg-slate-50/30 text-sm",children:A.toLocaleString("es-ES",{style:"currency",currency:"EUR"})}),v.jsx("td",{className:"px-6 py-5 align-top text-center no-print",children:v.jsx("button",{onClick:()=>r(x.id),className:"p-2 text-slate-300 hover:text-red-500 hover:bg-red-50 rounded-xl transition-all duration-300 hover:scale-110 active:scale-90",children:v.jsx(Yl,{size:18})})})]},x.id)})]})]})}),d&&v.jsx(dS,{groups:l,onUpdateGroups:u,onClose:()=>p(!1)}),g&&v.jsx(mS,{groups:l,onUpdateGroups:u,onClose:()=>y(!1)})]})}function gS({items:s,ivaRate:e,onIvaChange:i}){const r=s.reduce((p,g)=>{const y=g.salePrice*g.quantity;return{baseImponible:p.baseImponible+y}},{baseImponible:0}),l=r.baseImponible*e,u=r.baseImponible+l,d=p=>p.toLocaleString("es-ES",{style:"currency",currency:"EUR"});return v.jsx("div",{className:"space-y-4 sticky top-12",children:v.jsxs(ab,{className:"bg-sky-50 border border-sky-100 shadow-xl shadow-sky-900/5 p-5 animate-in fade-in duration-700 overflow-hidden relative",children:[v.jsxs("h3",{className:"text-[9px] font-black mb-4 flex items-center gap-2 text-primary-600 uppercase tracking-[0.3em]",children:[v.jsx(u_,{size:16}),"Resumen Final"]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex justify-between items-end pb-2 border-b border-slate-50",children:[v.jsx("span",{className:"text-slate-400 text-[9px] uppercase font-bold tracking-widest",children:"Base Imponible"}),v.jsx("span",{className:"text-base font-bold tracking-tight text-slate-800",children:d(r.baseImponible)})]}),v.jsxs("div",{className:"flex justify-between items-center py-1",children:[v.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-xl border border-slate-200",children:[v.jsx("button",{onClick:()=>i(.1),className:ei("px-3 py-1.5 text-[10px] font-black rounded-lg transition-all uppercase tracking-widest",e===.1?"bg-white text-primary-600 shadow-sm border border-slate-200":"text-slate-500 hover:text-slate-800"),children:"10%"}),v.jsx("button",{onClick:()=>i(.21),className:ei("px-3 py-1.5 text-[10px] font-black rounded-lg transition-all uppercase tracking-widest",e===.21?"bg-white text-primary-600 shadow-sm border border-slate-200":"text-slate-500 hover:text-slate-800"),children:"21%"})]}),v.jsxs("div",{className:"text-right",children:[v.jsxs("p",{className:"text-[7px] font-bold text-slate-400 uppercase tracking-widest mb-0.5",children:["IVA (",(e*100).toFixed(0),"%)"]}),v.jsx("span",{className:"text-xs font-bold text-slate-600 tracking-tight",children:d(l)})]})]}),v.jsx("div",{className:"pt-4 border-t border-slate-100 relative",children:v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("div",{children:[v.jsx("span",{className:"text-[9px] font-black text-primary-600 uppercase tracking-[0.25em] block mb-0.5",children:"Total Final"}),v.jsx("span",{className:"text-2xl font-black tracking-tighter leading-none text-slate-900",children:d(u)})]}),v.jsx("div",{className:"bg-primary-50 p-2 rounded-2xl border border-primary-100",children:v.jsx(u_,{size:20,className:"text-primary-600"})})]})})]})]})})}function yS({onClose:s}){const[e,i]=je.useState("walls"),[r,l]=je.useState(""),[u,d]=je.useState(""),[p,g]=je.useState(""),[y,T]=je.useState(""),[x,A]=je.useState(""),[z,Q]=je.useState(""),[ee,X]=je.useState(""),he=()=>{const ue=parseFloat(r)+parseFloat(u)+parseFloat(p)+parseFloat(y),C=parseFloat(x);return(ue*C).toFixed(2)},Ee=()=>(parseFloat(z)*parseFloat(ee)).toFixed(2),ge=r&&u&&p&&y&&x,Oe=z&&ee,Fe=ue=>{navigator.clipboard.writeText(ue),alert("Resultado copiado al portapapeles: "+ue+" m")};return v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:v.jsxs("div",{className:"bg-white w-full max-w-md rounded-3xl shadow-2xl border border-slate-100 overflow-hidden animate-in zoom-in-95 duration-300",children:[v.jsxs("div",{className:"p-6 bg-slate-50 border-b border-slate-100 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"p-2 bg-primary-600 text-white rounded-xl shadow-lg shadow-primary-500/20",children:v.jsx(eh,{size:20})}),v.jsxs("div",{children:[v.jsx("h2",{className:"text-lg font-black text-slate-900 tracking-tight",children:"Calculadora de Superficie"}),v.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:"Metros Cuadrados (m)"})]})]}),v.jsx("button",{onClick:s,className:"p-2 hover:bg-slate-200 rounded-full transition-colors text-slate-400",children:v.jsx(Th,{size:20})})]}),v.jsxs("div",{className:"p-2 bg-slate-100 mx-6 mt-6 rounded-2xl flex gap-1 border border-slate-200",children:[v.jsxs("button",{onClick:()=>i("walls"),className:`flex-1 flex items-center justify-center gap-2 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${e==="walls"?"bg-white text-primary-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[v.jsx(Kw,{size:14}),"Paredes"]}),v.jsxs("button",{onClick:()=>i("surface"),className:`flex-1 flex items-center justify-center gap-2 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${e==="surface"?"bg-white text-primary-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[v.jsx(iS,{size:14}),"Suelo / Techo"]})]}),v.jsx("div",{className:"p-6",children:e==="walls"?v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-tighter",children:"Largo Derecha (m)"}),v.jsx("input",{type:"number",value:r,onChange:ue=>l(ue.target.value),className:"w-full bg-slate-50 border border-slate-100 rounded-xl p-3 outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all font-bold text-slate-900",placeholder:"0.00"})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-tighter",children:"Largo Izquierda (m)"}),v.jsx("input",{type:"number",value:u,onChange:ue=>d(ue.target.value),className:"w-full bg-slate-50 border border-slate-100 rounded-xl p-3 outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all font-bold text-slate-900",placeholder:"0.00"})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-tighter",children:"Ancho Derecha (m)"}),v.jsx("input",{type:"number",value:p,onChange:ue=>g(ue.target.value),className:"w-full bg-slate-50 border border-slate-100 rounded-xl p-3 outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all font-bold text-slate-900",placeholder:"0.00"})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-tighter",children:"Ancho Izquierda (m)"}),v.jsx("input",{type:"number",value:y,onChange:ue=>T(ue.target.value),className:"w-full bg-slate-50 border border-slate-100 rounded-xl p-3 outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all font-bold text-slate-900",placeholder:"0.00"})]})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-tighter",children:"Altura (m)"}),v.jsx("input",{type:"number",value:x,onChange:ue=>A(ue.target.value),className:"w-full bg-slate-50 border border-slate-100 rounded-xl p-3 outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all font-bold text-slate-900",placeholder:"0.00"})]}),ge&&v.jsxs("div",{className:"bg-primary-50 p-4 rounded-2xl border border-primary-100 flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-[8px] font-black text-primary-400 uppercase tracking-widest block",children:"Total Paredes"}),v.jsxs("span",{className:"text-2xl font-black text-primary-700",children:[he()," m"]})]}),v.jsx(ct,{onClick:()=>Fe(he()),size:"sm",className:"rounded-xl shadow-lg shadow-primary-500/20",children:"Copiar"})]})]}):v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-tighter",children:"Ancho (m)"}),v.jsx("input",{type:"number",value:z,onChange:ue=>Q(ue.target.value),className:"w-full bg-slate-50 border border-slate-100 rounded-xl p-3 outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all font-bold text-slate-900",placeholder:"0.00"})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-tighter",children:"Largo (m)"}),v.jsx("input",{type:"number",value:ee,onChange:ue=>X(ue.target.value),className:"w-full bg-slate-50 border border-slate-100 rounded-xl p-3 outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all font-bold text-slate-900",placeholder:"0.00"})]})]}),Oe&&v.jsxs("div",{className:"bg-primary-50 p-4 rounded-2xl border border-primary-100 flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-[8px] font-black text-primary-400 uppercase tracking-widest block",children:"Total Superficie"}),v.jsxs("span",{className:"text-2xl font-black text-primary-700",children:[Ee()," m"]})]}),v.jsx(ct,{onClick:()=>Fe(Ee()),size:"sm",className:"rounded-xl shadow-lg shadow-primary-500/20",children:"Copiar"})]})]})}),v.jsx("div",{className:"p-6 bg-slate-50 border-t border-slate-100 flex gap-3",children:v.jsx(ct,{variant:"ghost",className:"flex-1 rounded-xl text-slate-400 hover:text-slate-900",onClick:s,children:"Cerrar"})})]})})}function _S({value:s,onChange:e,placeholder:i,className:r=""}){const l=je.useRef(null),[u,d]=je.useState(!1);je.useEffect(()=>{l.current&&l.current.innerHTML!==s&&(u||(l.current.innerHTML=s))},[s,u]);const p=()=>{l.current&&e(l.current.innerHTML)},g=(y,T=void 0)=>{document.execCommand(y,!1,T),l.current&&(l.current.focus(),p())};return v.jsxs("div",{className:`overflow-hidden rounded-lg border bg-slate-50 transition-colors ${u?"border-primary-500 ring-1 ring-primary-500/20":"border-slate-200"} ${r}`,children:[v.jsxs("div",{className:"flex items-center gap-1 p-2 border-b border-slate-200 bg-slate-100/50",children:[v.jsx(ct,{variant:"ghost",size:"sm",onMouseDown:y=>{y.preventDefault(),g("bold")},className:"h-8 w-8 p-0 text-slate-600 hover:text-slate-900 hover:bg-slate-200/50",title:"Negrita (Ctrl+B)",children:v.jsx(mw,{size:16})}),v.jsx(ct,{variant:"ghost",size:"sm",onMouseDown:y=>{y.preventDefault(),g("italic")},className:"h-8 w-8 p-0 text-slate-600 hover:text-slate-900 hover:bg-slate-200/50",title:"Cursiva (Ctrl+I)",children:v.jsx(kw,{size:16})}),v.jsx("div",{className:"w-px h-5 bg-slate-300 mx-1"}),v.jsxs(ct,{variant:"ghost",size:"sm",onMouseDown:y=>{y.preventDefault(),g("fontSize","1")},className:"h-8 w-8 p-0 text-slate-600 hover:text-slate-900 hover:bg-slate-200/50",title:"Texto Pequeo",children:[v.jsx(Yw,{size:14}),v.jsx(Kd,{size:10,className:"ml-0.5"})]}),v.jsx(ct,{variant:"ghost",size:"sm",onMouseDown:y=>{y.preventDefault(),g("fontSize","3")},className:"h-8 w-8 p-0 text-slate-600 hover:text-slate-900 hover:bg-slate-200/50",title:"Texto Normal",children:v.jsx(Kd,{size:14})}),v.jsxs(ct,{variant:"ghost",size:"sm",onMouseDown:y=>{y.preventDefault(),g("fontSize","5")},className:"h-8 w-8 p-0 text-slate-600 hover:text-slate-900 hover:bg-slate-200/50",title:"Texto Grande",children:[v.jsx(fo,{size:10,className:"mr-0.5"}),v.jsx(Kd,{size:16})]})]}),v.jsx("div",{ref:l,contentEditable:!0,onInput:p,onFocus:()=>d(!0),onBlur:()=>d(!1),className:"min-h-[300px] p-4 outline-none font-serif text-sm leading-relaxed text-slate-700 editor-content",style:{overflowY:"auto"}}),!s&&!u&&v.jsx("div",{className:"absolute top-[3.5rem] left-4 text-slate-400 pointer-events-none text-sm font-serif italic",children:i}),v.jsx("style",{children:`
                .editor-content font[size="1"] { font-size: 0.75rem !important; }
                .editor-content font[size="2"] { font-size: 0.875rem !important; }
                .editor-content font[size="3"] { font-size: 1rem !important; } /* Default */
                .editor-content font[size="4"] { font-size: 1.125rem !important; }
                .editor-content font[size="5"] { font-size: 1.25rem !important; }
                .editor-content font[size="6"] { font-size: 1.5rem !important; }
                .editor-content font[size="7"] { font-size: 2rem !important; }
                
                .editor-content b, .editor-content strong { font-weight: 800; }
                .editor-content i, .editor-content em { font-style: italic; }
            `})]})}const qu=[{name:"Obra Civil",categories:[{name:"Albailera"},{name:"Carpintera"},{name:"Fontanera"},{name:"Electricidad"},{name:"Lucidor"},{name:"Pladur"},{name:"Pintura"},{name:"Metalistera"},{name:"Ebanistera"},{name:"Barnizador"},{name:"Lacador"},{name:"Acuchillador"}]},{name:"Decoracion",categories:[{name:"Mob. Cocina"},{name:"Mob. Bao"},{name:"Gress"},{name:"Accesorios cocina"},{name:"Accesorios Bao"},{name:"Mob. Salon"},{name:"Mob. General"}]},{name:"Varios",categories:[{name:"Transporte"},{name:"Desescombro"},{name:"Otras instalaciones"},{name:"Varios"}]},{name:"Formas de Pago",categories:[{name:"Transferencia"},{name:"A la vista"}]}];function vS({terms:s,onChange:e,isOpen:i,onClose:r}){const[l,u]=je.useState(""),[d,p]=je.useState("");if(!i)return null;const g=()=>{if(!l||!d)return;const A=parseFloat(d);if(isNaN(A))return;const z={id:crypto.randomUUID(),label:l,percentage:A};e([...s,z]),u(""),p("")},y=A=>{e(s.filter(z=>z.id!==A))},T=(A,z,Q)=>{e(s.map(ee=>{if(ee.id!==A)return ee;if(z==="percentage"){const X=parseFloat(Q);return{...ee,percentage:isNaN(X)?0:X}}return{...ee,label:Q}}))},x=s.reduce((A,z)=>A+z.percentage,0);return v.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:v.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md overflow-hidden",children:[v.jsxs("div",{className:"p-4 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[v.jsx("h3",{className:"font-bold text-slate-800",children:"Configurar Formas de Pago"}),v.jsx("button",{onClick:r,className:"text-slate-400 hover:text-slate-600",children:v.jsx(Th,{size:20})})]}),v.jsxs("div",{className:"p-4 space-y-4",children:[v.jsx("div",{className:"space-y-2",children:s.map(A=>v.jsxs("div",{className:"flex gap-2 items-center",children:[v.jsx("input",{type:"number",value:A.percentage,onChange:z=>T(A.id,"percentage",z.target.value),className:"w-20 px-2 py-1 border border-slate-200 rounded text-sm text-center",placeholder:"%"}),v.jsx("span",{className:"text-slate-400 text-sm",children:"%"}),v.jsx("input",{type:"text",value:A.label,onChange:z=>T(A.id,"label",z.target.value),className:"flex-1 px-2 py-1 border border-slate-200 rounded text-sm",placeholder:"Descripcin"}),v.jsx("button",{onClick:()=>y(A.id),className:"text-red-400 hover:text-red-600 p-1",children:v.jsx(Yl,{size:16})})]},A.id))}),v.jsxs("div",{className:"pt-2 border-t border-slate-100",children:[v.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase mb-2",children:"Aadir Nuevo Plazo"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("input",{type:"number",value:d,onChange:A=>p(A.target.value),className:"w-20 px-2 py-1.5 border border-slate-200 rounded text-sm",placeholder:"%"}),v.jsx("input",{type:"text",value:l,onChange:A=>u(A.target.value),className:"flex-1 px-2 py-1.5 border border-slate-200 rounded text-sm",placeholder:"Ej. A la firma..."}),v.jsx(ct,{onClick:g,size:"sm",className:"bg-slate-900 text-white shrink-0",children:v.jsx(fo,{size:16})})]})]}),v.jsxs("div",{className:ei("p-3 rounded-lg text-sm font-bold flex justify-between items-center",x===100?"bg-green-50 text-green-700":"bg-orange-50 text-orange-700"),children:[v.jsx("span",{children:"Total Porcentaje:"}),v.jsxs("span",{children:[x,"%"]})]}),v.jsx("div",{className:"flex justify-end pt-2",children:v.jsx(ct,{onClick:r,variant:"ghost",children:"Cerrar"})})]})]})})}const bS=()=>{};var p_={};const hb=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},ES=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=s[i++];e[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=s[i++],d=s[i++],p=s[i++],g=((l&7)<<18|(u&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const u=s[i++],d=s[i++];e[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return e.join("")},fb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const u=s[l],d=l+1<s.length,p=d?s[l+1]:0,g=l+2<s.length,y=g?s[l+2]:0,T=u>>2,x=(u&3)<<4|p>>4;let A=(p&15)<<2|y>>6,z=y&63;g||(z=64,d||(A=64)),r.push(i[T],i[x],i[A],i[z])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(hb(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):ES(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const u=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const x=l<s.length?i[s.charAt(l)]:64;if(++l,u==null||p==null||y==null||x==null)throw new TS;const A=u<<2|p>>4;if(r.push(A),y!==64){const z=p<<4&240|y>>2;if(r.push(z),x!==64){const Q=y<<6&192|x;r.push(Q)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class TS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xS=function(s){const e=hb(s);return fb.encodeByteArray(e,!0)},th=function(s){return xS(s).replace(/\./g,"")},db=function(s){try{return fb.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function wS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const SS=()=>wS().__FIREBASE_DEFAULTS__,AS=()=>{if(typeof process>"u"||typeof p_>"u")return;const s=p_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},RS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&db(s[1]);return e&&JSON.parse(e)},xh=()=>{try{return bS()||SS()||AS()||RS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},mb=s=>xh()?.emulatorHosts?.[s],NS=s=>{const e=mb(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},pb=()=>xh()?.config,gb=s=>xh()?.[`_${s}`];class CS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function mo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function yb(s){return(await fetch(s,{credentials:"include"})).ok}function IS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[th(JSON.stringify(i)),th(JSON.stringify(d)),""].join(".")}const Ol={};function DS(){const s={prod:[],emulator:[]};for(const e of Object.keys(Ol))Ol[e]?s.emulator.push(e):s.prod.push(e);return s}function kS(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let g_=!1;function _b(s,e){if(typeof window>"u"||typeof document>"u"||!mo(window.location.host)||Ol[s]===e||Ol[s]||g_)return;Ol[s]=e;function i(A){return`__firebase__banner__${A}`}const r="__firebase__banner",u=DS().prod.length>0;function d(){const A=document.getElementById(r);A&&A.remove()}function p(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function g(A,z){A.setAttribute("width","24"),A.setAttribute("id",z),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function y(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{g_=!0,d()},A}function T(A,z){A.setAttribute("id",z),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function x(){const A=kS(r),z=i("text"),Q=document.getElementById(z)||document.createElement("span"),ee=i("learnmore"),X=document.getElementById(ee)||document.createElement("a"),he=i("preprendIcon"),Ee=document.getElementById(he)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const ge=A.element;p(ge),T(X,ee);const Oe=y();g(Ee,he),ge.append(Ee,Q,X,Oe),document.body.appendChild(ge)}u?(Q.innerText="Preview backend disconnected.",Ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Q.innerText="Preview backend running in this workspace."),Q.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function MS(){const s=xh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function zS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LS(){const s=sn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function PS(){return!MS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function US(){try{return typeof indexedDB=="object"}catch{return!1}}function BS(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const qS="FirebaseError";class fs extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=qS,Object.setPrototypeOf(this,fs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xl.prototype.create)}}class Xl{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},l=`${this.service}/${e}`,u=this.errors[e],d=u?HS(u,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new fs(l,p,r)}}function HS(s,e){return s.replace(FS,(i,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const FS=/\{\$([^}]+)}/g;function GS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Kr(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const l of i){if(!r.includes(l))return!1;const u=s[l],d=e[l];if(y_(u)&&y_(d)){if(!Kr(u,d))return!1}else if(u!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function y_(s){return s!==null&&typeof s=="object"}function $l(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function KS(s,e){const i=new QS(s,e);return i.subscribe.bind(i)}class QS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let l;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");YS(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:r},l.next===void 0&&(l.next=$d),l.error===void 0&&(l.error=$d),l.complete===void 0&&(l.complete=$d);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YS(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function $d(){}function si(s){return s&&s._delegate?s._delegate:s}class Qr{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Br="[DEFAULT]";class XS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new CS;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JS(e))try{this.getOrInitializeService({instanceIdentifier:Br})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(e=Br){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Br){return this.instances.has(e)}getOptions(e=Br){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);r===p&&d.resolve(l)}return l}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const u=this.instances.get(r);return u&&e(u,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$S(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Br){return this.component?this.component.multipleInstances?e:Br:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $S(s){return s===Br?void 0:s}function JS(s){return s.instantiationMode==="EAGER"}class ZS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new XS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Pe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Pe||(Pe={}));const WS={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},e2=Pe.INFO,t2={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},n2=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=t2[e];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zm{constructor(e){this.name=e,this._logLevel=e2,this._logHandler=n2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const i2=(s,e)=>e.some(i=>s instanceof i);let __,v_;function s2(){return __||(__=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function r2(){return v_||(v_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vb=new WeakMap,hm=new WeakMap,bb=new WeakMap,Jd=new WeakMap,Lm=new WeakMap;function a2(s){const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",u),s.removeEventListener("error",d)},u=()=>{i(er(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",u),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&vb.set(i,s)}).catch(()=>{}),Lm.set(e,s),e}function o2(s){if(hm.has(s))return;const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",d),s.removeEventListener("abort",d)},u=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",u),s.addEventListener("error",d),s.addEventListener("abort",d)});hm.set(s,e)}let fm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return hm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||bb.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return er(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function l2(s){fm=s(fm)}function c2(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(Zd(this),e,...i);return bb.set(r,e.sort?e.sort():[e]),er(r)}:r2().includes(s)?function(...e){return s.apply(Zd(this),e),er(vb.get(this))}:function(...e){return er(s.apply(Zd(this),e))}}function u2(s){return typeof s=="function"?c2(s):(s instanceof IDBTransaction&&o2(s),i2(s,s2())?new Proxy(s,fm):s)}function er(s){if(s instanceof IDBRequest)return a2(s);if(Jd.has(s))return Jd.get(s);const e=u2(s);return e!==s&&(Jd.set(s,e),Lm.set(e,s)),e}const Zd=s=>Lm.get(s);function h2(s,e,{blocked:i,upgrade:r,blocking:l,terminated:u}={}){const d=indexedDB.open(s,e),p=er(d);return r&&d.addEventListener("upgradeneeded",g=>{r(er(d.result),g.oldVersion,g.newVersion,er(d.transaction),g)}),i&&d.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),l&&g.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const f2=["get","getKey","getAll","getAllKeys","count"],d2=["put","add","delete","clear"],Wd=new Map;function b_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Wd.get(e))return Wd.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,l=d2.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||f2.includes(i)))return;const u=async function(d,...p){const g=this.transaction(d,l?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&g.done]))[0]};return Wd.set(e,u),u}l2(s=>({...s,get:(e,i,r)=>b_(e,i)||s.get(e,i,r),has:(e,i)=>!!b_(e,i)||s.has(e,i)}));class m2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(p2(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function p2(s){return s.getComponent()?.type==="VERSION"}const dm="@firebase/app",E_="0.14.7";const os=new zm("@firebase/app"),g2="@firebase/app-compat",y2="@firebase/analytics-compat",_2="@firebase/analytics",v2="@firebase/app-check-compat",b2="@firebase/app-check",E2="@firebase/auth",T2="@firebase/auth-compat",x2="@firebase/database",w2="@firebase/data-connect",S2="@firebase/database-compat",A2="@firebase/functions",R2="@firebase/functions-compat",N2="@firebase/installations",C2="@firebase/installations-compat",I2="@firebase/messaging",D2="@firebase/messaging-compat",k2="@firebase/performance",O2="@firebase/performance-compat",M2="@firebase/remote-config",V2="@firebase/remote-config-compat",j2="@firebase/storage",z2="@firebase/storage-compat",L2="@firebase/firestore",P2="@firebase/ai",U2="@firebase/firestore-compat",B2="firebase",q2="12.8.0";const mm="[DEFAULT]",H2={[dm]:"fire-core",[g2]:"fire-core-compat",[_2]:"fire-analytics",[y2]:"fire-analytics-compat",[b2]:"fire-app-check",[v2]:"fire-app-check-compat",[E2]:"fire-auth",[T2]:"fire-auth-compat",[x2]:"fire-rtdb",[w2]:"fire-data-connect",[S2]:"fire-rtdb-compat",[A2]:"fire-fn",[R2]:"fire-fn-compat",[N2]:"fire-iid",[C2]:"fire-iid-compat",[I2]:"fire-fcm",[D2]:"fire-fcm-compat",[k2]:"fire-perf",[O2]:"fire-perf-compat",[M2]:"fire-rc",[V2]:"fire-rc-compat",[j2]:"fire-gcs",[z2]:"fire-gcs-compat",[L2]:"fire-fst",[U2]:"fire-fst-compat",[P2]:"fire-vertex","fire-js":"fire-js",[B2]:"fire-js-all"};const nh=new Map,F2=new Map,pm=new Map;function T_(s,e){try{s.container.addComponent(e)}catch(i){os.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function no(s){const e=s.name;if(pm.has(e))return os.debug(`There were multiple attempts to register component ${e}.`),!1;pm.set(e,s);for(const i of nh.values())T_(i,s);for(const i of F2.values())T_(i,s);return!0}function Pm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Ci(s){return s==null?!1:s.settings!==void 0}const G2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},tr=new Xl("app","Firebase",G2);class K2{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw tr.create("app-deleted",{appName:this._name})}}const po=q2;function Eb(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:mm,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw tr.create("bad-app-name",{appName:String(l)});if(i||(i=pb()),!i)throw tr.create("no-options");const u=nh.get(l);if(u){if(Kr(i,u.options)&&Kr(r,u.config))return u;throw tr.create("duplicate-app",{appName:l})}const d=new ZS(l);for(const g of pm.values())d.addComponent(g);const p=new K2(i,r,d);return nh.set(l,p),p}function Tb(s=mm){const e=nh.get(s);if(!e&&s===mm&&pb())return Eb();if(!e)throw tr.create("no-app",{appName:s});return e}function nr(s,e,i){let r=H2[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),os.warn(d.join(" "));return}no(new Qr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Q2="firebase-heartbeat-database",Y2=1,Pl="firebase-heartbeat-store";let em=null;function xb(){return em||(em=h2(Q2,Y2,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Pl)}catch(i){console.warn(i)}}}}).catch(s=>{throw tr.create("idb-open",{originalErrorMessage:s.message})})),em}async function X2(s){try{const i=(await xb()).transaction(Pl),r=await i.objectStore(Pl).get(wb(s));return await i.done,r}catch(e){if(e instanceof fs)os.warn(e.message);else{const i=tr.create("idb-get",{originalErrorMessage:e?.message});os.warn(i.message)}}}async function x_(s,e){try{const r=(await xb()).transaction(Pl,"readwrite");await r.objectStore(Pl).put(e,wb(s)),await r.done}catch(i){if(i instanceof fs)os.warn(i.message);else{const r=tr.create("idb-set",{originalErrorMessage:i?.message});os.warn(r.message)}}}function wb(s){return`${s.name}!${s.options.appId}`}const $2=1024,J2=30;class Z2{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new eA(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=w_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>J2){const l=tA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){os.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=w_(),{heartbeatsToSend:i,unsentEntries:r}=W2(this._heartbeatsCache.heartbeats),l=th(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return os.warn(e),""}}}function w_(){return new Date().toISOString().substring(0,10)}function W2(s,e=$2){const i=[];let r=s.slice();for(const l of s){const u=i.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),S_(i)>e){u.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),S_(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class eA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return US()?BS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await X2(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return x_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return x_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function S_(s){return th(JSON.stringify({version:2,heartbeats:s})).length}function tA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function nA(s){no(new Qr("platform-logger",e=>new m2(e),"PRIVATE")),no(new Qr("heartbeat",e=>new Z2(e),"PRIVATE")),nr(dm,E_,s),nr(dm,E_,"esm2020"),nr("fire-js","")}nA("");var iA="firebase",sA="12.8.0";nr(iA,sA,"app");function Sb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rA=Sb,Ab=new Xl("auth","Firebase",Sb());const ih=new zm("@firebase/auth");function aA(s,...e){ih.logLevel<=Pe.WARN&&ih.warn(`Auth (${po}): ${s}`,...e)}function Hu(s,...e){ih.logLevel<=Pe.ERROR&&ih.error(`Auth (${po}): ${s}`,...e)}function ls(s,...e){throw Um(s,...e)}function Ii(s,...e){return Um(s,...e)}function Rb(s,e,i){const r={...rA(),[e]:i};return new Xl("auth","Firebase",r).create(e,{appName:s.name})}function Hr(s){return Rb(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Um(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return Ab.create(s,...e)}function we(s,e,...i){if(!s)throw Um(e,...i)}function ss(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Hu(e),new Error(e)}function cs(s,e){s||ss(e)}function gm(){return typeof self<"u"&&self.location?.href||""}function oA(){return A_()==="http:"||A_()==="https:"}function A_(){return typeof self<"u"&&self.location?.protocol||null}function lA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(oA()||jS()||"connection"in navigator)?navigator.onLine:!0}function cA(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Jl{constructor(e,i){this.shortDelay=e,this.longDelay=i,cs(i>e,"Short delay should be less than long delay!"),this.isMobile=OS()||zS()}get(){return lA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Bm(s,e){cs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Nb{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const uA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const hA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],fA=new Jl(3e4,6e4);function qm(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function go(s,e,i,r,l={}){return Cb(s,l,async()=>{let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});const p=$l({key:s.config.apiKey,...d}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:g,...u};return VS()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&mo(s.emulatorConfig.host)&&(y.credentials="include"),Nb.fetch()(await Ib(s,s.config.apiHost,i,p),y)})}async function Cb(s,e,i){s._canInitEmulator=!1;const r={...uA,...e};try{const l=new mA(s),u=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw ju(s,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const p=u.ok?d.errorMessage:d.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw ju(s,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw ju(s,"email-already-in-use",d);if(g==="USER_DISABLED")throw ju(s,"user-disabled",d);const T=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Rb(s,T,y);ls(s,T)}}catch(l){if(l instanceof fs)throw l;ls(s,"network-request-failed",{message:String(l)})}}async function dA(s,e,i,r,l={}){const u=await go(s,e,i,r,l);return"mfaPendingCredential"in u&&ls(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function Ib(s,e,i,r){const l=`${e}${i}?${r}`,u=s,d=u.config.emulator?Bm(s.config,l):`${s.config.apiScheme}://${l}`;return hA.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}class mA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Ii(this.auth,"network-request-failed")),fA.get())})}}function ju(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=Ii(s,e,r);return l.customData._tokenResponse=i,l}async function pA(s,e){return go(s,"POST","/v1/accounts:delete",e)}async function sh(s,e){return go(s,"POST","/v1/accounts:lookup",e)}function Ml(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gA(s,e=!1){const i=si(s),r=await i.getIdToken(e),l=Hm(r);we(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u?.sign_in_provider;return{claims:l,token:r,authTime:Ml(tm(l.auth_time)),issuedAtTime:Ml(tm(l.iat)),expirationTime:Ml(tm(l.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function tm(s){return Number(s)*1e3}function Hm(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return Hu("JWT malformed, contained fewer than 3 sections"),null;try{const l=db(i);return l?JSON.parse(l):(Hu("Failed to decode base64 JWT payload"),null)}catch(l){return Hu("Caught error parsing JWT payload as JSON",l?.toString()),null}}function R_(s){const e=Hm(s);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ul(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof fs&&yA(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function yA({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class _A{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ym{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ml(this.lastLoginAt),this.creationTime=Ml(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function rh(s){const e=s.auth,i=await s.getIdToken(),r=await Ul(s,sh(e,{idToken:i}));we(r?.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const u=l.providerUserInfo?.length?Db(l.providerUserInfo):[],d=bA(s.providerData,u),p=s.isAnonymous,g=!(s.email&&l.passwordHash)&&!d?.length,y=p?g:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new ym(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,T)}async function vA(s){const e=si(s);await rh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function bA(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function Db(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function EA(s,e){const i=await Cb(s,{},async()=>{const r=$l({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=s.config,d=await Ib(s,l,"/v1/token",`key=${u}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:r};return s.emulatorConfig&&mo(s.emulatorConfig.host)&&(g.credentials="include"),Nb.fetch()(d,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function TA(s,e){return go(s,"POST","/v2/accounts:revokeToken",qm(s,e))}class Xa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):R_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){we(e.length!==0,"internal-error");const i=R_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:l,expiresIn:u}=await EA(e,i);this.updateTokensAndExpiration(r,l,Number(u))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:l,expirationTime:u}=i,d=new Xa;return r&&(we(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(we(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),u&&(we(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xa,this.toJSON())}_performRefresh(){return ss("not implemented")}}function Xs(s,e){we(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class ti{constructor({uid:e,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new _A(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new ym(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Ul(this,this.stsTokenManager.getToken(this.auth,e));return we(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return gA(this,e)}reload(){return vA(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new ti({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await rh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ci(this.auth.app))return Promise.reject(Hr(this.auth));const e=await this.getIdToken();return await Ul(this,pA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,l=i.email??void 0,u=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,g=i._redirectEventId??void 0,y=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:x,emailVerified:A,isAnonymous:z,providerData:Q,stsTokenManager:ee}=i;we(x&&ee,e,"internal-error");const X=Xa.fromJSON(this.name,ee);we(typeof x=="string",e,"internal-error"),Xs(r,e.name),Xs(l,e.name),we(typeof A=="boolean",e,"internal-error"),we(typeof z=="boolean",e,"internal-error"),Xs(u,e.name),Xs(d,e.name),Xs(p,e.name),Xs(g,e.name),Xs(y,e.name),Xs(T,e.name);const he=new ti({uid:x,auth:e,email:l,emailVerified:A,displayName:r,isAnonymous:z,photoURL:d,phoneNumber:u,tenantId:p,stsTokenManager:X,createdAt:y,lastLoginAt:T});return Q&&Array.isArray(Q)&&(he.providerData=Q.map(Ee=>({...Ee}))),g&&(he._redirectEventId=g),he}static async _fromIdTokenResponse(e,i,r=!1){const l=new Xa;l.updateFromServerResponse(i);const u=new ti({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await rh(u),u}static async _fromGetAccountInfoResponse(e,i,r){const l=i.users[0];we(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?Db(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!u?.length,p=new Xa;p.updateFromIdToken(r);const g=new ti({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new ym(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(g,y),g}}const N_=new Map;function rs(s){cs(s instanceof Function,"Expected a class definition");let e=N_.get(s);return e?(cs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,N_.set(s,e),e)}class kb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}kb.type="NONE";const C_=kb;function Fu(s,e,i){return`firebase:${s}:${e}:${i}`}class $a{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:l,name:u}=this.auth;this.fullUserKey=Fu(this.userKey,l.apiKey,u),this.fullPersistenceKey=Fu("persistence",l.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await sh(this.auth,{idToken:e}).catch(()=>{});return i?ti._fromGetAccountInfoResponse(this.auth,i,e):null}return ti._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new $a(rs(C_),e,r);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=l[0]||rs(C_);const d=Fu(r,e.config.apiKey,e.name);let p=null;for(const y of i)try{const T=await y._get(d);if(T){let x;if(typeof T=="string"){const A=await sh(e,{idToken:T}).catch(()=>{});if(!A)break;x=await ti._fromGetAccountInfoResponse(e,A,T)}else x=ti._fromJSON(e,T);y!==u&&(p=x),u=y;break}}catch{}const g=l.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new $a(u,e,r):(u=g[0],p&&await u._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==u)try{await y._remove(d)}catch{}})),new $a(u,e,r))}}function I_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ob(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Lb(e))return"Blackberry";if(Pb(e))return"Webos";if(Mb(e))return"Safari";if((e.includes("chrome/")||Vb(e))&&!e.includes("edge/"))return"Chrome";if(zb(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function Ob(s=sn()){return/firefox\//i.test(s)}function Mb(s=sn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Vb(s=sn()){return/crios\//i.test(s)}function jb(s=sn()){return/iemobile/i.test(s)}function zb(s=sn()){return/android/i.test(s)}function Lb(s=sn()){return/blackberry/i.test(s)}function Pb(s=sn()){return/webos/i.test(s)}function Fm(s=sn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function xA(s=sn()){return Fm(s)&&!!window.navigator?.standalone}function wA(){return LS()&&document.documentMode===10}function Ub(s=sn()){return Fm(s)||zb(s)||Pb(s)||Lb(s)||/windows phone/i.test(s)||jb(s)}function Bb(s,e=[]){let i;switch(s){case"Browser":i=I_(sn());break;case"Worker":i=`${I_(sn())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${po}/${r}`}class SA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=u=>new Promise((d,p)=>{try{const g=e(u);d(g)}catch(g){p(g)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function AA(s,e={}){return go(s,"GET","/v2/passwordPolicy",qm(s,e))}const RA=6;class NA{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??RA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class CA{constructor(e,i,r,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new D_(this),this.idTokenSubscription=new D_(this),this.beforeStateQueue=new SA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ab,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=rs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await $a.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await sh(this,{idToken:e}),r=await ti._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ci(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await rh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=cA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ci(this.app))return Promise.reject(Hr(this));const i=e?si(e):null;return i&&we(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ci(this.app)?Promise.reject(Hr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ci(this.app)?Promise.reject(Hr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await AA(this),i=new NA(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xl("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await TA(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&rs(e)||this._popupRedirectResolver;we(i,this,"argument-error"),this.redirectPersistenceManager=await $a.create(this,[rs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,l){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(p,this,"internal-error"),p.then(()=>{d||u(this.currentUser)}),typeof i=="function"){const g=e.addObserver(i,r,l);return()=>{d=!0,g()}}else{const g=e.addObserver(i);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Bb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Ci(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&aA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Gm(s){return si(s)}class D_{constructor(e){this.auth=e,this.observer=null,this.addObserver=KS(i=>this.observer=i)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Km={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function IA(s){Km=s}function DA(s){return Km.loadJS(s)}function kA(){return Km.gapiScript}function OA(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function MA(s,e){const i=Pm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),u=i.getOptions();if(Kr(u,e??{}))return l;ls(l,"already-initialized")}return i.initialize({options:e})}function VA(s,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(rs);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function jA(s,e,i){const r=Gm(s);we(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,u=qb(e),{host:d,port:p}=zA(e),g=p===null?"":`:${p}`,y={url:`${u}//${d}${g}/`},T=Object.freeze({host:d,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){we(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),we(Kr(y,r.config.emulator)&&Kr(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,mo(d)?(yb(`${u}//${d}${g}`),_b("Auth",!0)):LA()}function qb(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function zA(s){const e=qb(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const u=l[1];return{host:u,port:k_(r.substr(u.length+1))}}else{const[u,d]=r.split(":");return{host:u,port:k_(d)}}}function k_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function LA(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Hb{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ss("not implemented")}_getIdTokenResponse(e){return ss("not implemented")}_linkToIdToken(e,i){return ss("not implemented")}_getReauthenticationResolver(e){return ss("not implemented")}}async function Ja(s,e){return dA(s,"POST","/v1/accounts:signInWithIdp",qm(s,e))}const PA="http://localhost";class Yr extends Hb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Yr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):ls("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...u}=i;if(!r||!l)return null;const d=new Yr(r,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return Ja(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,Ja(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Ja(e,i)}buildRequest(){const e={requestUri:PA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=$l(i)}return e}}class Fb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Zl extends Fb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class $s extends Zl{constructor(){super("facebook.com")}static credential(e){return Yr._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $s.credential(e.oauthAccessToken)}catch{return null}}}$s.FACEBOOK_SIGN_IN_METHOD="facebook.com";$s.PROVIDER_ID="facebook.com";class is extends Zl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Yr._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return is.credential(i,r)}catch{return null}}}is.GOOGLE_SIGN_IN_METHOD="google.com";is.PROVIDER_ID="google.com";class Js extends Zl{constructor(){super("github.com")}static credential(e){return Yr._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Js.credential(e.oauthAccessToken)}catch{return null}}}Js.GITHUB_SIGN_IN_METHOD="github.com";Js.PROVIDER_ID="github.com";class Zs extends Zl{constructor(){super("twitter.com")}static credential(e,i){return Yr._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return Zs.credential(i,r)}catch{return null}}}Zs.TWITTER_SIGN_IN_METHOD="twitter.com";Zs.PROVIDER_ID="twitter.com";class io{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,l=!1){const u=await ti._fromIdTokenResponse(e,r,l),d=O_(r);return new io({user:u,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const l=O_(r);return new io({user:e,providerId:l,_tokenResponse:r,operationType:i})}}function O_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class ah extends fs{constructor(e,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,ah.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,l){return new ah(e,i,r,l)}}function Gb(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ah._fromErrorAndOperation(s,u,e,r):u})}async function UA(s,e,i=!1){const r=await Ul(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return io._forOperation(s,"link",r)}async function BA(s,e,i=!1){const{auth:r}=s;if(Ci(r.app))return Promise.reject(Hr(r));const l="reauthenticate";try{const u=await Ul(s,Gb(r,l,e,s),i);we(u.idToken,r,"internal-error");const d=Hm(u.idToken);we(d,r,"internal-error");const{sub:p}=d;return we(s.uid===p,r,"user-mismatch"),io._forOperation(s,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&ls(r,"user-mismatch"),u}}async function qA(s,e,i=!1){if(Ci(s.app))return Promise.reject(Hr(s));const r="signIn",l=await Gb(s,r,e),u=await io._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(u.user),u}function HA(s,e,i,r){return si(s).onIdTokenChanged(e,i,r)}function FA(s,e,i){return si(s).beforeAuthStateChanged(e,i)}const oh="__sak";class Kb{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(oh,"1"),this.storage.removeItem(oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const GA=1e3,KA=10;class Qb extends Kb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ub(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&e(i,l,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,g)=>{this.notifyListeners(d,g)});return}const r=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},u=this.storage.getItem(r);wA()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,KA):l()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},GA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}Qb.type="LOCAL";const QA=Qb;class Yb extends Kb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}Yb.type="SESSION";const Xb=Yb;function YA(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class wh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const r=new wh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:l,data:u}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,u)),g=await YA(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:g})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wh.receivers=[];function Qm(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}class XA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((p,g)=>{const y=Qm("",20);l.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(x){const A=x;if(A.data.eventId===y)switch(A.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(A.data.response);break;default:clearTimeout(T),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Di(){return window}function $A(s){Di().location.href=s}function $b(){return typeof Di().WorkerGlobalScope<"u"&&typeof Di().importScripts=="function"}async function JA(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ZA(){return navigator?.serviceWorker?.controller||null}function WA(){return $b()?self:null}const Jb="firebaseLocalStorageDb",eR=1,lh="firebaseLocalStorage",Zb="fbase_key";class Wl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Sh(s,e){return s.transaction([lh],e?"readwrite":"readonly").objectStore(lh)}function tR(){const s=indexedDB.deleteDatabase(Jb);return new Wl(s).toPromise()}function _m(){const s=indexedDB.open(Jb,eR);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(lh,{keyPath:Zb})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(lh)?e(r):(r.close(),await tR(),e(await _m()))})})}async function M_(s,e,i){const r=Sh(s,!0).put({[Zb]:e,value:i});return new Wl(r).toPromise()}async function nR(s,e){const i=Sh(s,!1).get(e),r=await new Wl(i).toPromise();return r===void 0?null:r.value}function V_(s,e){const i=Sh(s,!0).delete(e);return new Wl(i).toPromise()}const iR=800,sR=3;class Wb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _m(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>sR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $b()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wh._getInstance(WA()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await JA(),!this.activeServiceWorker)return;this.sender=new XA(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ZA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _m();return await M_(e,oh,"1"),await V_(e,oh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>M_(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>nR(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>V_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=Sh(l,!1).getAll();return new Wl(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Wb.type="LOCAL";const rR=Wb;new Jl(3e4,6e4);function aR(s,e){return e?rs(e):(we(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Ym extends Hb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ja(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Ja(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Ja(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function oR(s){return qA(s.auth,new Ym(s),s.bypassAuthState)}function lR(s){const{auth:e,user:i}=s;return we(i,e,"internal-error"),BA(i,new Ym(s),s.bypassAuthState)}async function cR(s){const{auth:e,user:i}=s;return we(i,e,"internal-error"),UA(i,new Ym(s),s.bypassAuthState)}class e1{constructor(e,i,r,l,u=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:l,tenantId:u,error:d,type:p}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:i,sessionId:r,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oR;case"linkViaPopup":case"linkViaRedirect":return cR;case"reauthViaPopup":case"reauthViaRedirect":return lR;default:ls(this.auth,"internal-error")}}resolve(e){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const uR=new Jl(2e3,1e4);class Ya extends e1{constructor(e,i,r,l,u){super(e,i,l,u),this.provider=r,this.authWindow=null,this.pollId=null,Ya.currentPopupAction&&Ya.currentPopupAction.cancel(),Ya.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){cs(this.filter.length===1,"Popup operations only handle one event");const e=Qm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ya.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uR.get())};e()}}Ya.currentPopupAction=null;const hR="pendingRedirect",Gu=new Map;class fR extends e1{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=Gu.get(this.auth._key());if(!e){try{const r=await dR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}Gu.set(this.auth._key(),e)}return this.bypassAuthState||Gu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dR(s,e){const i=gR(e),r=pR(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function mR(s,e){Gu.set(s._key(),e)}function pR(s){return rs(s._redirectPersistence)}function gR(s){return Fu(hR,s.config.apiKey,s.name)}async function yR(s,e,i=!1){if(Ci(s.app))return Promise.reject(Hr(s));const r=Gm(s),l=aR(r,e),d=await new fR(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const _R=600*1e3;class vR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bR(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!t1(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Ii(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_R&&this.cachedEventUids.clear(),this.cachedEventUids.has(j_(e))}saveEventToCache(e){this.cachedEventUids.add(j_(e)),this.lastProcessedEventTime=Date.now()}}function j_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function t1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function bR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return t1(s);default:return!1}}async function ER(s,e={}){return go(s,"GET","/v1/projects",e)}const TR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xR=/^https?/;async function wR(s){if(s.config.emulator)return;const{authorizedDomains:e}=await ER(s);for(const i of e)try{if(SR(i))return}catch{}ls(s,"unauthorized-domain")}function SR(s){const e=gm(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!xR.test(i))return!1;if(TR.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const AR=new Jl(3e4,6e4);function z_(){const s=Di().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function RR(s){return new Promise((e,i)=>{function r(){z_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{z_(),i(Ii(s,"network-request-failed"))},timeout:AR.get()})}if(Di().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Di().gapi?.load)r();else{const l=OA("iframefcb");return Di()[l]=()=>{gapi.load?r():i(Ii(s,"network-request-failed"))},DA(`${kA()}?onload=${l}`).catch(u=>i(u))}}).catch(e=>{throw Ku=null,e})}let Ku=null;function NR(s){return Ku=Ku||RR(s),Ku}const CR=new Jl(5e3,15e3),IR="__/auth/iframe",DR="emulator/auth/iframe",kR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MR(s){const e=s.config;we(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Bm(e,DR):`https://${s.config.authDomain}/${IR}`,r={apiKey:e.apiKey,appName:s.name,v:po},l=OR.get(s.config.apiHost);l&&(r.eid=l);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${i}?${$l(r).slice(1)}`}async function VR(s){const e=await NR(s),i=Di().gapi;return we(i,s,"internal-error"),e.open({where:document.body,url:MR(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kR,dontclear:!0},r=>new Promise(async(l,u)=>{await r.restyle({setHideOnLeave:!1});const d=Ii(s,"network-request-failed"),p=Di().setTimeout(()=>{u(d)},CR.get());function g(){Di().clearTimeout(p),l(r)}r.ping(g).then(g,()=>{u(d)})}))}const jR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zR=500,LR=600,PR="_blank",UR="http://localhost";class L_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BR(s,e,i,r=zR,l=LR){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const g={...jR,width:r.toString(),height:l.toString(),top:u,left:d},y=sn().toLowerCase();i&&(p=Vb(y)?PR:i),Ob(y)&&(e=e||UR,g.scrollbars="yes");const T=Object.entries(g).reduce((A,[z,Q])=>`${A}${z}=${Q},`,"");if(xA(y)&&p!=="_self")return qR(e||"",p),new L_(null);const x=window.open(e||"",p,T);we(x,s,"popup-blocked");try{x.focus()}catch{}return new L_(x)}function qR(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const HR="__/auth/handler",FR="emulator/auth/handler",GR=encodeURIComponent("fac");async function P_(s,e,i,r,l,u){we(s.config.authDomain,s,"auth-domain-config-required"),we(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:po,eventId:l};if(e instanceof Fb){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",GS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,x]of Object.entries({}))d[T]=x}if(e instanceof Zl){const T=e.getScopes().filter(x=>x!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const g=await s._getAppCheckToken(),y=g?`#${GR}=${encodeURIComponent(g)}`:"";return`${KR(s)}?${$l(p).slice(1)}${y}`}function KR({config:s}){return s.emulator?Bm(s,FR):`https://${s.authDomain}/${HR}`}const nm="webStorageSupport";class QR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xb,this._completeRedirectFn=yR,this._overrideRedirectResult=mR}async _openPopup(e,i,r,l){cs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await P_(e,i,r,gm(),l);return BR(e,u,Qm())}async _openRedirect(e,i,r,l){await this._originValidation(e);const u=await P_(e,i,r,gm(),l);return $A(u),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:u}=this.eventManagers[i];return l?Promise.resolve(l):(cs(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await VR(e),r=new vR(e);return i.register("authEvent",l=>(we(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(nm,{type:nm},l=>{const u=l?.[0]?.[nm];u!==void 0&&i(!!u),ls(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=wR(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return Ub()||Mb()||Fm()}}const YR=QR;var U_="@firebase/auth",B_="1.12.0";class XR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function $R(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JR(s){no(new Qr("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;we(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Bb(s)},y=new CA(r,l,u,g);return VA(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),no(new Qr("auth-internal",e=>{const i=Gm(e.getProvider("auth").getImmediate());return(r=>new XR(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),nr(U_,B_,$R(s)),nr(U_,B_,"esm2020")}const ZR=300,WR=gb("authIdTokenMaxAge")||ZR;let q_=null;const eN=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>WR)return;const l=i?.token;q_!==l&&(q_=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function tN(s=Tb()){const e=Pm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=MA(s,{popupRedirectResolver:YR,persistence:[rR,QA,Xb]}),r=gb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const d=eN(u.toString());FA(i,d,()=>d(i.currentUser)),HA(i,p=>d(p))}}const l=mb("auth");return l&&jA(i,`http://${l}`),i}function nN(){return document.getElementsByTagName("head")?.[0]??document}IA({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const u=Ii("internal-error");u.customData=l,i(u)},r.type="text/javascript",r.charset="UTF-8",nN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JR("Browser");var H_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ir,n1;(function(){var s;function e(C,S){function R(){}R.prototype=S.prototype,C.F=S.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(M,k,V){for(var N=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)N[Ke-2]=arguments[Ke];return S.prototype[k].apply(M,N)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,S,R){R||(R=0);const M=Array(16);if(typeof S=="string")for(var k=0;k<16;++k)M[k]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(k=0;k<16;++k)M[k]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=C.g[0],R=C.g[1],k=C.g[2];let V=C.g[3],N;N=S+(V^R&(k^V))+M[0]+3614090360&4294967295,S=R+(N<<7&4294967295|N>>>25),N=V+(k^S&(R^k))+M[1]+3905402710&4294967295,V=S+(N<<12&4294967295|N>>>20),N=k+(R^V&(S^R))+M[2]+606105819&4294967295,k=V+(N<<17&4294967295|N>>>15),N=R+(S^k&(V^S))+M[3]+3250441966&4294967295,R=k+(N<<22&4294967295|N>>>10),N=S+(V^R&(k^V))+M[4]+4118548399&4294967295,S=R+(N<<7&4294967295|N>>>25),N=V+(k^S&(R^k))+M[5]+1200080426&4294967295,V=S+(N<<12&4294967295|N>>>20),N=k+(R^V&(S^R))+M[6]+2821735955&4294967295,k=V+(N<<17&4294967295|N>>>15),N=R+(S^k&(V^S))+M[7]+4249261313&4294967295,R=k+(N<<22&4294967295|N>>>10),N=S+(V^R&(k^V))+M[8]+1770035416&4294967295,S=R+(N<<7&4294967295|N>>>25),N=V+(k^S&(R^k))+M[9]+2336552879&4294967295,V=S+(N<<12&4294967295|N>>>20),N=k+(R^V&(S^R))+M[10]+4294925233&4294967295,k=V+(N<<17&4294967295|N>>>15),N=R+(S^k&(V^S))+M[11]+2304563134&4294967295,R=k+(N<<22&4294967295|N>>>10),N=S+(V^R&(k^V))+M[12]+1804603682&4294967295,S=R+(N<<7&4294967295|N>>>25),N=V+(k^S&(R^k))+M[13]+4254626195&4294967295,V=S+(N<<12&4294967295|N>>>20),N=k+(R^V&(S^R))+M[14]+2792965006&4294967295,k=V+(N<<17&4294967295|N>>>15),N=R+(S^k&(V^S))+M[15]+1236535329&4294967295,R=k+(N<<22&4294967295|N>>>10),N=S+(k^V&(R^k))+M[1]+4129170786&4294967295,S=R+(N<<5&4294967295|N>>>27),N=V+(R^k&(S^R))+M[6]+3225465664&4294967295,V=S+(N<<9&4294967295|N>>>23),N=k+(S^R&(V^S))+M[11]+643717713&4294967295,k=V+(N<<14&4294967295|N>>>18),N=R+(V^S&(k^V))+M[0]+3921069994&4294967295,R=k+(N<<20&4294967295|N>>>12),N=S+(k^V&(R^k))+M[5]+3593408605&4294967295,S=R+(N<<5&4294967295|N>>>27),N=V+(R^k&(S^R))+M[10]+38016083&4294967295,V=S+(N<<9&4294967295|N>>>23),N=k+(S^R&(V^S))+M[15]+3634488961&4294967295,k=V+(N<<14&4294967295|N>>>18),N=R+(V^S&(k^V))+M[4]+3889429448&4294967295,R=k+(N<<20&4294967295|N>>>12),N=S+(k^V&(R^k))+M[9]+568446438&4294967295,S=R+(N<<5&4294967295|N>>>27),N=V+(R^k&(S^R))+M[14]+3275163606&4294967295,V=S+(N<<9&4294967295|N>>>23),N=k+(S^R&(V^S))+M[3]+4107603335&4294967295,k=V+(N<<14&4294967295|N>>>18),N=R+(V^S&(k^V))+M[8]+1163531501&4294967295,R=k+(N<<20&4294967295|N>>>12),N=S+(k^V&(R^k))+M[13]+2850285829&4294967295,S=R+(N<<5&4294967295|N>>>27),N=V+(R^k&(S^R))+M[2]+4243563512&4294967295,V=S+(N<<9&4294967295|N>>>23),N=k+(S^R&(V^S))+M[7]+1735328473&4294967295,k=V+(N<<14&4294967295|N>>>18),N=R+(V^S&(k^V))+M[12]+2368359562&4294967295,R=k+(N<<20&4294967295|N>>>12),N=S+(R^k^V)+M[5]+4294588738&4294967295,S=R+(N<<4&4294967295|N>>>28),N=V+(S^R^k)+M[8]+2272392833&4294967295,V=S+(N<<11&4294967295|N>>>21),N=k+(V^S^R)+M[11]+1839030562&4294967295,k=V+(N<<16&4294967295|N>>>16),N=R+(k^V^S)+M[14]+4259657740&4294967295,R=k+(N<<23&4294967295|N>>>9),N=S+(R^k^V)+M[1]+2763975236&4294967295,S=R+(N<<4&4294967295|N>>>28),N=V+(S^R^k)+M[4]+1272893353&4294967295,V=S+(N<<11&4294967295|N>>>21),N=k+(V^S^R)+M[7]+4139469664&4294967295,k=V+(N<<16&4294967295|N>>>16),N=R+(k^V^S)+M[10]+3200236656&4294967295,R=k+(N<<23&4294967295|N>>>9),N=S+(R^k^V)+M[13]+681279174&4294967295,S=R+(N<<4&4294967295|N>>>28),N=V+(S^R^k)+M[0]+3936430074&4294967295,V=S+(N<<11&4294967295|N>>>21),N=k+(V^S^R)+M[3]+3572445317&4294967295,k=V+(N<<16&4294967295|N>>>16),N=R+(k^V^S)+M[6]+76029189&4294967295,R=k+(N<<23&4294967295|N>>>9),N=S+(R^k^V)+M[9]+3654602809&4294967295,S=R+(N<<4&4294967295|N>>>28),N=V+(S^R^k)+M[12]+3873151461&4294967295,V=S+(N<<11&4294967295|N>>>21),N=k+(V^S^R)+M[15]+530742520&4294967295,k=V+(N<<16&4294967295|N>>>16),N=R+(k^V^S)+M[2]+3299628645&4294967295,R=k+(N<<23&4294967295|N>>>9),N=S+(k^(R|~V))+M[0]+4096336452&4294967295,S=R+(N<<6&4294967295|N>>>26),N=V+(R^(S|~k))+M[7]+1126891415&4294967295,V=S+(N<<10&4294967295|N>>>22),N=k+(S^(V|~R))+M[14]+2878612391&4294967295,k=V+(N<<15&4294967295|N>>>17),N=R+(V^(k|~S))+M[5]+4237533241&4294967295,R=k+(N<<21&4294967295|N>>>11),N=S+(k^(R|~V))+M[12]+1700485571&4294967295,S=R+(N<<6&4294967295|N>>>26),N=V+(R^(S|~k))+M[3]+2399980690&4294967295,V=S+(N<<10&4294967295|N>>>22),N=k+(S^(V|~R))+M[10]+4293915773&4294967295,k=V+(N<<15&4294967295|N>>>17),N=R+(V^(k|~S))+M[1]+2240044497&4294967295,R=k+(N<<21&4294967295|N>>>11),N=S+(k^(R|~V))+M[8]+1873313359&4294967295,S=R+(N<<6&4294967295|N>>>26),N=V+(R^(S|~k))+M[15]+4264355552&4294967295,V=S+(N<<10&4294967295|N>>>22),N=k+(S^(V|~R))+M[6]+2734768916&4294967295,k=V+(N<<15&4294967295|N>>>17),N=R+(V^(k|~S))+M[13]+1309151649&4294967295,R=k+(N<<21&4294967295|N>>>11),N=S+(k^(R|~V))+M[4]+4149444226&4294967295,S=R+(N<<6&4294967295|N>>>26),N=V+(R^(S|~k))+M[11]+3174756917&4294967295,V=S+(N<<10&4294967295|N>>>22),N=k+(S^(V|~R))+M[2]+718787259&4294967295,k=V+(N<<15&4294967295|N>>>17),N=R+(V^(k|~S))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(k+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+k&4294967295,C.g[3]=C.g[3]+V&4294967295}r.prototype.v=function(C,S){S===void 0&&(S=C.length);const R=S-this.blockSize,M=this.C;let k=this.h,V=0;for(;V<S;){if(k==0)for(;V<=R;)l(this,C,V),V+=this.blockSize;if(typeof C=="string"){for(;V<S;)if(M[k++]=C.charCodeAt(V++),k==this.blockSize){l(this,M),k=0;break}}else for(;V<S;)if(M[k++]=C[V++],k==this.blockSize){l(this,M),k=0;break}}this.h=k,this.o+=S},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;S=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=S&255,S/=256;for(this.v(C),C=Array(16),S=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)C[S++]=this.g[R]>>>M&255;return C};function u(C,S){var R=p;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=S(C)}function d(C,S){this.h=S;const R=[];let M=!0;for(let k=C.length-1;k>=0;k--){const V=C[k]|0;M&&V==S||(R[k]=V,M=!1)}this.g=R}var p={};function g(C){return-128<=C&&C<128?u(C,function(S){return new d([S|0],S<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return x;if(C<0)return X(y(-C));const S=[];let R=1;for(let M=0;C>=R;M++)S[M]=C/R|0,R*=4294967296;return new d(S,0)}function T(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return X(T(C.substring(1),S));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(S,8));let M=x;for(let V=0;V<C.length;V+=8){var k=Math.min(8,C.length-V);const N=parseInt(C.substring(V,V+k),S);k<8?(k=y(Math.pow(S,k)),M=M.j(k).add(y(N))):(M=M.j(R),M=M.add(y(N)))}return M}var x=g(0),A=g(1),z=g(16777216);s=d.prototype,s.m=function(){if(ee(this))return-X(this).m();let C=0,S=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);C+=(M>=0?M:4294967296+M)*S,S*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(Q(this))return"0";if(ee(this))return"-"+X(this).toString(C);const S=y(Math.pow(C,6));var R=this;let M="";for(;;){const k=Oe(R,S).g;R=he(R,k.j(S));let V=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=k,Q(R))return V+M;for(;V.length<6;)V="0"+V;M=V+M}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function Q(C){if(C.h!=0)return!1;for(let S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function ee(C){return C.h==-1}s.l=function(C){return C=he(this,C),ee(C)?-1:Q(C)?0:1};function X(C){const S=C.g.length,R=[];for(let M=0;M<S;M++)R[M]=~C.g[M];return new d(R,~C.h).add(A)}s.abs=function(){return ee(this)?X(this):this},s.add=function(C){const S=Math.max(this.g.length,C.g.length),R=[];let M=0;for(let k=0;k<=S;k++){let V=M+(this.i(k)&65535)+(C.i(k)&65535),N=(V>>>16)+(this.i(k)>>>16)+(C.i(k)>>>16);M=N>>>16,V&=65535,N&=65535,R[k]=N<<16|V}return new d(R,R[R.length-1]&-2147483648?-1:0)};function he(C,S){return C.add(X(S))}s.j=function(C){if(Q(this)||Q(C))return x;if(ee(this))return ee(C)?X(this).j(X(C)):X(X(this).j(C));if(ee(C))return X(this.j(X(C)));if(this.l(z)<0&&C.l(z)<0)return y(this.m()*C.m());const S=this.g.length+C.g.length,R=[];for(var M=0;M<2*S;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let k=0;k<C.g.length;k++){const V=this.i(M)>>>16,N=this.i(M)&65535,Ke=C.i(k)>>>16,re=C.i(k)&65535;R[2*M+2*k]+=N*re,Ee(R,2*M+2*k),R[2*M+2*k+1]+=V*re,Ee(R,2*M+2*k+1),R[2*M+2*k+1]+=N*Ke,Ee(R,2*M+2*k+1),R[2*M+2*k+2]+=V*Ke,Ee(R,2*M+2*k+2)}for(C=0;C<S;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=S;C<2*S;C++)R[C]=0;return new d(R,0)};function Ee(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function ge(C,S){this.g=C,this.h=S}function Oe(C,S){if(Q(S))throw Error("division by zero");if(Q(C))return new ge(x,x);if(ee(C))return S=Oe(X(C),S),new ge(X(S.g),X(S.h));if(ee(S))return S=Oe(C,X(S)),new ge(X(S.g),S.h);if(C.g.length>30){if(ee(C)||ee(S))throw Error("slowDivide_ only works with positive integers.");for(var R=A,M=S;M.l(C)<=0;)R=Fe(R),M=Fe(M);var k=ue(R,1),V=ue(M,1);for(M=ue(M,2),R=ue(R,2);!Q(M);){var N=V.add(M);N.l(C)<=0&&(k=k.add(R),V=N),M=ue(M,1),R=ue(R,1)}return S=he(C,k.j(S)),new ge(k,S)}for(k=x;C.l(S)>=0;){for(R=Math.max(1,Math.floor(C.m()/S.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),V=y(R),N=V.j(S);ee(N)||N.l(C)>0;)R-=M,V=y(R),N=V.j(S);Q(V)&&(V=A),k=k.add(V),C=he(C,N)}return new ge(k,C)}s.B=function(C){return Oe(this,C).h},s.and=function(C){const S=Math.max(this.g.length,C.g.length),R=[];for(let M=0;M<S;M++)R[M]=this.i(M)&C.i(M);return new d(R,this.h&C.h)},s.or=function(C){const S=Math.max(this.g.length,C.g.length),R=[];for(let M=0;M<S;M++)R[M]=this.i(M)|C.i(M);return new d(R,this.h|C.h)},s.xor=function(C){const S=Math.max(this.g.length,C.g.length),R=[];for(let M=0;M<S;M++)R[M]=this.i(M)^C.i(M);return new d(R,this.h^C.h)};function Fe(C){const S=C.g.length+1,R=[];for(let M=0;M<S;M++)R[M]=C.i(M)<<1|C.i(M-1)>>>31;return new d(R,C.h)}function ue(C,S){const R=S>>5;S%=32;const M=C.g.length-R,k=[];for(let V=0;V<M;V++)k[V]=S>0?C.i(V+R)>>>S|C.i(V+R+1)<<32-S:C.i(V+R);return new d(k,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,n1=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,ir=d}).apply(typeof H_<"u"?H_:typeof self<"u"?self:typeof window<"u"?window:{});var zu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var i1,Cl,s1,Qu,vm,r1,a1,o1;(function(){var s,e=Object.defineProperty;function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof zu=="object"&&zu];for(var m=0;m<c.length;++m){var b=c[m];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=i(this);function l(c,m){if(m)e:{var b=r;c=c.split(".");for(var w=0;w<c.length-1;w++){var L=c[w];if(!(L in b))break e;b=b[L]}c=c[c.length-1],w=b[c],m=m(w),m!=w&&m!=null&&e(b,c,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(m){var b=[],w;for(w in m)Object.prototype.hasOwnProperty.call(m,w)&&b.push([w,m[w]]);return b}});var u=u||{},d=this||self;function p(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function g(c,m,b){return c.call.apply(c.bind,arguments)}function y(c,m,b){return y=g,y.apply(null,arguments)}function T(c,m){var b=Array.prototype.slice.call(arguments,1);return function(){var w=b.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function x(c,m){function b(){}b.prototype=m.prototype,c.Z=m.prototype,c.prototype=new b,c.prototype.constructor=c,c.Ob=function(w,L,H){for(var ie=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)ie[Ce-2]=arguments[Ce];return m.prototype[L].apply(w,ie)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function z(c){const m=c.length;if(m>0){const b=Array(m);for(let w=0;w<m;w++)b[w]=c[w];return b}return[]}function Q(c,m){for(let w=1;w<arguments.length;w++){const L=arguments[w];var b=typeof L;if(b=b!="object"?b:L?Array.isArray(L)?"array":b:"null",b=="array"||b=="object"&&typeof L.length=="number"){b=c.length||0;const H=L.length||0;c.length=b+H;for(let ie=0;ie<H;ie++)c[b+ie]=L[ie]}else c.push(L)}}class ee{constructor(m,b){this.i=m,this.j=b,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function X(c){d.setTimeout(()=>{throw c},0)}function he(){var c=C;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class Ee{constructor(){this.h=this.g=null}add(m,b){const w=ge.get();w.set(m,b),this.h?this.h.next=w:this.g=w,this.h=w}}var ge=new ee(()=>new Oe,c=>c.reset());class Oe{constructor(){this.next=this.g=this.h=null}set(m,b){this.h=m,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let Fe,ue=!1,C=new Ee,S=()=>{const c=Promise.resolve(void 0);Fe=()=>{c.then(R)}};function R(){for(var c;c=he();){try{c.h.call(c.g)}catch(b){X(b)}var m=ge;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}ue=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};d.addEventListener("test",b,m),d.removeEventListener("test",b,m)}catch{}return c})();function N(c){return/^[\s\xa0]*$/.test(c)}function Ke(c,m){k.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}x(Ke,k),Ke.prototype.init=function(c,m){const b=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(b=="mouseover"?m=c.fromElement:b=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Ke.Z.h.call(this)},Ke.prototype.h=function(){Ke.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var re="closure_listenable_"+(Math.random()*1e6|0),U=0;function W(c,m,b,w,L){this.listener=c,this.proxy=null,this.src=m,this.type=b,this.capture=!!w,this.ha=L,this.key=++U,this.da=this.fa=!1}function Z(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function de(c,m,b){for(const w in c)m.call(b,c[w],w,c)}function xe(c,m){for(const b in c)m.call(void 0,c[b],b,c)}function D(c){const m={};for(const b in c)m[b]=c[b];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(c,m){let b,w;for(let L=1;L<arguments.length;L++){w=arguments[L];for(b in w)c[b]=w[b];for(let H=0;H<K.length;H++)b=K[H],Object.prototype.hasOwnProperty.call(w,b)&&(c[b]=w[b])}}function se(c){this.src=c,this.g={},this.h=0}se.prototype.add=function(c,m,b,w,L){const H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);const ie=Ae(c,m,w,L);return ie>-1?(m=c[ie],b||(m.fa=!1)):(m=new W(m,this.src,H,!!w,L),m.fa=b,c.push(m)),m};function ve(c,m){const b=m.type;if(b in c.g){var w=c.g[b],L=Array.prototype.indexOf.call(w,m,void 0),H;(H=L>=0)&&Array.prototype.splice.call(w,L,1),H&&(Z(m),c.g[b].length==0&&(delete c.g[b],c.h--))}}function Ae(c,m,b,w){for(let L=0;L<c.length;++L){const H=c[L];if(!H.da&&H.listener==m&&H.capture==!!b&&H.ha==w)return L}return-1}var ye="closure_lm_"+(Math.random()*1e6|0),pt={};function Ze(c,m,b,w,L){if(Array.isArray(m)){for(let H=0;H<m.length;H++)Ze(c,m[H],b,w,L);return null}return b=xo(b),c&&c[re]?c.J(m,b,p(w)?!!w.capture:!1,L):Sn(c,m,b,!1,w,L)}function Sn(c,m,b,w,L,H){if(!m)throw Error("Invalid event type");const ie=p(L)?!!L.capture:!!L;let Ce=ur(c);if(Ce||(c[ye]=Ce=new se(c)),b=Ce.add(m,b,w,ie,H),b.proxy)return b;if(w=ri(),b.proxy=w,w.src=c,w.listener=b,c.addEventListener)V||(L=ie),L===void 0&&(L=!1),c.addEventListener(m.toString(),w,L);else if(c.attachEvent)c.attachEvent(ai(m.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return b}function ri(){function c(b){return m.call(c.src,c.listener,b)}const m=Eo;return c}function Bn(c,m,b,w,L){if(Array.isArray(m))for(var H=0;H<m.length;H++)Bn(c,m[H],b,w,L);else w=p(w)?!!w.capture:!!w,b=xo(b),c&&c[re]?(c=c.i,H=String(m).toString(),H in c.g&&(m=c.g[H],b=Ae(m,b,w,L),b>-1&&(Z(m[b]),Array.prototype.splice.call(m,b,1),m.length==0&&(delete c.g[H],c.h--)))):c&&(c=ur(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Ae(m,b,w,L)),(b=c>-1?m[c]:null)&&ta(b))}function ta(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[re])ve(m.i,c);else{var b=c.type,w=c.proxy;m.removeEventListener?m.removeEventListener(b,w,c.capture):m.detachEvent?m.detachEvent(ai(b),w):m.addListener&&m.removeListener&&m.removeListener(w),(b=ur(m))?(ve(b,c),b.h==0&&(b.src=null,m[ye]=null)):Z(c)}}}function ai(c){return c in pt?pt[c]:pt[c]="on"+c}function Eo(c,m){if(c.da)c=!0;else{m=new Ke(m,this);const b=c.listener,w=c.ha||c.src;c.fa&&ta(c),c=b.call(w,m)}return c}function ur(c){return c=c[ye],c instanceof se?c:null}var To="__closure_events_fn_"+(Math.random()*1e9>>>0);function xo(c){return typeof c=="function"?c:(c[To]||(c[To]=function(m){return c.handleEvent(m)}),c[To])}function xt(){M.call(this),this.i=new se(this),this.M=this,this.G=null}x(xt,M),xt.prototype[re]=!0,xt.prototype.removeEventListener=function(c,m,b,w){Bn(this,c,m,b,w)};function Mt(c,m){var b,w=c.G;if(w)for(b=[];w;w=w.G)b.push(w);if(c=c.M,w=m.type||m,typeof m=="string")m=new k(m,c);else if(m instanceof k)m.target=m.target||c;else{var L=m;m=new k(w,c),ne(m,L)}L=!0;let H,ie;if(b)for(ie=b.length-1;ie>=0;ie--)H=m.g=b[ie],L=ds(H,w,!0,m)&&L;if(H=m.g=c,L=ds(H,w,!0,m)&&L,L=ds(H,w,!1,m)&&L,b)for(ie=0;ie<b.length;ie++)H=m.g=b[ie],L=ds(H,w,!1,m)&&L}xt.prototype.N=function(){if(xt.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const b=c.g[m];for(let w=0;w<b.length;w++)Z(b[w]);delete c.g[m],c.h--}}this.G=null},xt.prototype.J=function(c,m,b,w){return this.i.add(String(c),m,!1,b,w)},xt.prototype.K=function(c,m,b,w){return this.i.add(String(c),m,!0,b,w)};function ds(c,m,b,w){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let H=0;H<m.length;++H){const ie=m[H];if(ie&&!ie.da&&ie.capture==b){const Ce=ie.listener,vt=ie.ha||ie.src;ie.fa&&ve(c.i,ie),L=Ce.call(vt,w)!==!1&&L}}return L&&!w.defaultPrevented}function Ph(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(c,m||0)}function rc(c){c.g=Ph(()=>{c.g=null,c.i&&(c.i=!1,rc(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class rn extends M{constructor(m,b){super(),this.m=m,this.l=b,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:rc(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hr(c){M.call(this),this.h=c,this.g={}}x(hr,M);var wo=[];function So(c){de(c.g,function(m,b){this.g.hasOwnProperty(b)&&ta(m)},c),c.g={}}hr.prototype.N=function(){hr.Z.N.call(this),So(this)},hr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ms=d.JSON.stringify,Uh=d.JSON.parse,ac=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function oc(){}function lc(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ft(){k.call(this,"d")}x(Ft,k);function An(){k.call(this,"c")}x(An,k);var _t={},cc=null;function na(){return cc=cc||new xt}_t.Ia="serverreachability";function uc(c){k.call(this,_t.Ia,c)}x(uc,k);function oi(c){const m=na();Mt(m,new uc(m))}_t.STAT_EVENT="statevent";function fr(c,m){k.call(this,_t.STAT_EVENT,c),this.stat=m}x(fr,k);function wt(c){const m=na();Mt(m,new fr(m,c))}_t.Ja="timingevent";function li(c,m){k.call(this,_t.Ja,c),this.size=m}x(li,k);function ci(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},m)}function Hn(){this.g=!0}Hn.prototype.ua=function(){this.g=!1};function Bh(c,m,b,w,L,H){c.info(function(){if(c.g)if(H){var ie="",Ce=H.split("&");for(let Xe=0;Xe<Ce.length;Xe++){var vt=Ce[Xe].split("=");if(vt.length>1){const ht=vt[0];vt=vt[1];const In=ht.split("_");ie=In.length>=2&&In[1]=="type"?ie+(ht+"="+vt+"&"):ie+(ht+"=redacted&")}}}else ie=null;else ie=H;return"XMLHTTP REQ ("+w+") [attempt "+L+"]: "+m+`
`+b+`
`+ie})}function hc(c,m,b,w,L,H,ie){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+L+"]: "+m+`
`+b+`
`+H+" "+ie})}function ui(c,m,b,w){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+qh(c,b)+(w?" "+w:"")})}function dr(c,m){c.info(function(){return"TIMEOUT: "+m})}Hn.prototype.info=function(){};function qh(c,m){if(!c.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(c=0;c<H.length;c++)if(Array.isArray(H[c])){var b=H[c];if(!(b.length<2)){var w=b[1];if(Array.isArray(w)&&!(w.length<1)){var L=w[0];if(L!="noop"&&L!="stop"&&L!="close")for(let ie=1;ie<w.length;ie++)w[ie]=""}}}}return ms(H)}catch{return m}}var mr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ao={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ro;function pr(){}x(pr,oc),pr.prototype.g=function(){return new XMLHttpRequest},Ro=new pr;function zi(c){return encodeURIComponent(String(c))}function fc(c){var m=1;c=c.split(":");const b=[];for(;m>0&&c.length;)b.push(c.shift()),m--;return c.length&&b.push(c.join(":")),b}function Fn(c,m,b,w){this.j=c,this.i=m,this.l=b,this.S=w||1,this.V=new hr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var St={},Pt={};function hi(c,m,b){c.M=1,c.A=gr(Rt(m)),c.u=b,c.R=!0,ia(c,null)}function ia(c,m){c.F=Date.now(),fi(c),c.B=Rt(c.A);var b=c.B,w=c.S;Array.isArray(w)||(w=[String(w)]),oa(b.i,"t",w),c.C=0,b=c.j.L,c.h=new Gn,c.g=Rc(c.j,b?m:null,!c.u),c.P>0&&(c.O=new rn(y(c.Y,c,c.g),c.P)),m=c.V,b=c.g,w=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(wo[0]=L.toString()),L=wo);for(let H=0;H<L.length;H++){const ie=Ze(b,L[H],w||m.handleEvent,!1,m.h||m);if(!ie)break;m.g[ie.key]=ie}m=c.J?D(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),oi(),Bh(c.i,c.v,c.B,c.l,c.S,c.u)}Fn.prototype.ba=function(c){c=c.target;const m=this.O;m&&Yn(c)==3?m.j():this.Y(c)},Fn.prototype.Y=function(c){try{if(c==this.g)e:{const Ce=Yn(this.g),vt=this.g.ya(),Xe=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Gt(this.g)))){this.K||Ce!=4||vt==7||(vt==8||Xe<=0?oi(3):oi(2)),di(this);var m=this.g.ca();this.X=m;var b=Hh(this);if(this.o=m==200,hc(this.i,this.v,this.B,this.l,this.S,Ce,m),this.o){if(this.U&&!this.L){t:{if(this.g){var w,L=this.g;if((w=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(w)){var H=w;break t}}H=null}if(c=H)ui(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,mi(this,c);else{this.o=!1,this.m=3,wt(12),gn(this),Rn(this);break e}}if(this.R){c=!0;let ht;for(;!this.K&&this.C<b.length;)if(ht=mc(this,b),ht==Pt){Ce==4&&(this.m=4,wt(14),c=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(ht==St){this.m=4,wt(15),ui(this.i,this.l,b,"[Invalid Chunk]"),c=!1;break}else ui(this.i,this.l,ht,null),mi(this,ht);if(dc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||b.length!=0||this.h.h||(this.m=1,wt(16),c=!1),this.o=this.o&&c,!c)ui(this.i,this.l,b,"[Invalid Chunked Response]"),gn(this),Rn(this);else if(b.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),qo(ie),ie.P=!0,wt(11))}}else ui(this.i,this.l,b,null),mi(this,b);Ce==4&&gn(this),this.o&&!this.K&&(Ce==4?xc(this.j,this):(this.o=!1,fi(this)))}else Pi(this.g),m==400&&b.indexOf("Unknown SID")>0?(this.m=3,wt(12)):(this.m=0,wt(13)),gn(this),Rn(this)}}}catch{}};function Hh(c){if(!dc(c))return c.g.la();const m=Gt(c.g);if(m==="")return"";let b="";const w=m.length,L=Yn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return gn(c),Rn(c),"";c.h.i=new d.TextDecoder}for(let H=0;H<w;H++)c.h.h=!0,b+=c.h.i.decode(m[H],{stream:!(L&&H==w-1)});return m.length=0,c.h.g+=b,c.C=0,c.h.g}function dc(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function mc(c,m){var b=c.C,w=m.indexOf(`
`,b);return w==-1?Pt:(b=Number(m.substring(b,w)),isNaN(b)?St:(w+=1,w+b>m.length?Pt:(m=m.slice(w,w+b),c.C=w+b,m)))}Fn.prototype.cancel=function(){this.K=!0,gn(this)};function fi(c){c.T=Date.now()+c.H,sa(c,c.H)}function sa(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ci(y(c.aa,c),m)}function di(c){c.D&&(d.clearTimeout(c.D),c.D=null)}Fn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(dr(this.i,this.B),this.M!=2&&(oi(),wt(17)),gn(this),this.m=2,Rn(this)):sa(this,this.T-c)};function Rn(c){c.j.I==0||c.K||xc(c.j,c)}function gn(c){di(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,So(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function mi(c,m){try{var b=c.j;if(b.I!=0&&(b.g==c||gi(b.h,c))){if(!c.L&&gi(b.h,c)&&b.I==3){try{var w=b.Ba.g.parse(m)}catch{w=null}if(Array.isArray(w)&&w.length==3){var L=w;if(L[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<c.F)fa(b),Ts(b);else break e;xr(b),wt(18)}}else b.xa=L[1],0<b.xa-b.K&&L[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=ci(y(b.Va,b),6e3));pi(b.h)<=1&&b.ta&&(b.ta=void 0)}else Ti(b,11)}else if((c.L||b.g==c)&&fa(b),!N(m))for(L=b.Ba.g.parse(m),m=0;m<L.length;m++){let Xe=L[m];const ht=Xe[0];if(!(ht<=b.K))if(b.K=ht,Xe=Xe[1],b.I==2)if(Xe[0]=="c"){b.M=Xe[1],b.ba=Xe[2];const In=Xe[3];In!=null&&(b.ka=In,b.j.info("VER="+b.ka));const xi=Xe[4];xi!=null&&(b.za=xi,b.j.info("SVER="+b.za));const Xn=Xe[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(w=1.5*Xn,b.O=w,b.j.info("backChannelRequestTimeoutMs_="+w)),w=b;const $n=c.g;if($n){const wr=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wr){var H=w.h;H.g||wr.indexOf("spdy")==-1&&wr.indexOf("quic")==-1&&wr.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Io(H,H.h),H.h=null))}if(w.G){const da=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;da&&(w.wa=da,We(w.J,w.G,da))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-c.F,b.j.info("Handshake RTT: "+b.T+"ms")),w=b;var ie=c;if(w.na=Ac(w,w.L?w.ba:null,w.W),ie.L){Do(w.h,ie);var Ce=ie,vt=w.O;vt&&(Ce.H=vt),Ce.D&&(di(Ce),fi(Ce)),w.g=ie}else Ec(w);b.i.length>0&&Ei(b)}else Xe[0]!="stop"&&Xe[0]!="close"||Ti(b,7);else b.I==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?Ti(b,7):Uo(b):Xe[0]!="noop"&&b.l&&b.l.qa(Xe),b.A=0)}}oi(4)}catch{}}var At=class{constructor(c,m){this.g=c,this.map=m}};function No(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Co(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function pi(c){return c.h?1:c.g?c.g.size:0}function gi(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Io(c,m){c.g?c.g.add(m):c.h=m}function Do(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}No.prototype.cancel=function(){if(this.i=ko(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ko(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const b of c.g.values())m=m.concat(b.G);return m}return z(c.i)}var pc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ra(c,m){if(c){c=c.split("&");for(let b=0;b<c.length;b++){const w=c[b].indexOf("=");let L,H=null;w>=0?(L=c[b].substring(0,w),H=c[b].substring(w+1)):L=c[b],m(L,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function yn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof yn?(this.l=c.l,Ut(this,c.j),this.o=c.o,this.g=c.g,ps(this,c.u),this.h=c.h,Oo(this,vc(c.i)),this.m=c.m):c&&(m=String(c).match(pc))?(this.l=!1,Ut(this,m[1]||"",!0),this.o=yi(m[2]||""),this.g=yi(m[3]||"",!0),ps(this,m[4]),this.h=yi(m[5]||"",!0),Oo(this,m[6]||"",!0),this.m=yi(m[7]||"")):(this.l=!1,this.i=new ys(null,this.l))}yn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(yr(m,aa,!0),":");var b=this.g;return(b||m=="file")&&(c.push("//"),(m=this.o)&&c.push(yr(m,aa,!0),"@"),c.push(zi(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&c.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(yr(b,b.charAt(0)=="/"?Mo:gc,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",yr(b,yc)),c.join("")},yn.prototype.resolve=function(c){const m=Rt(this);let b=!!c.j;b?Ut(m,c.j):b=!!c.o,b?m.o=c.o:b=!!c.g,b?m.g=c.g:b=c.u!=null;var w=c.h;if(b)ps(m,c.u);else if(b=!!c.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var L=m.h.lastIndexOf("/");L!=-1&&(w=m.h.slice(0,L+1)+w)}if(L=w,L==".."||L==".")w="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){w=L.lastIndexOf("/",0)==0,L=L.split("/");const H=[];for(let ie=0;ie<L.length;){const Ce=L[ie++];Ce=="."?w&&ie==L.length&&H.push(""):Ce==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),w&&ie==L.length&&H.push("")):(H.push(Ce),w=!0)}w=H.join("/")}else w=L}return b?m.h=w:b=c.i.toString()!=="",b?Oo(m,vc(c.i)):b=!!c.m,b&&(m.m=c.m),m};function Rt(c){return new yn(c)}function Ut(c,m,b){c.j=b?yi(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function ps(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function Oo(c,m,b){m instanceof ys?(c.i=m,la(c.i,c.l)):(b||(m=yr(m,gs)),c.i=new ys(m,c.l))}function We(c,m,b){c.i.set(m,b)}function gr(c){return We(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function yi(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function yr(c,m,b){return typeof c=="string"?(c=encodeURI(c).replace(m,ln),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ln(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var aa=/[#\/\?@]/g,gc=/[#\?:]/g,Mo=/[#\?]/g,gs=/[#\?@]/g,yc=/#/g;function ys(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function cn(c){c.g||(c.g=new Map,c.h=0,c.i&&ra(c.i,function(m,b){c.add(decodeURIComponent(m.replace(/\+/g," ")),b)}))}s=ys.prototype,s.add=function(c,m){cn(this),this.i=null,c=_s(this,c);let b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(m),this.h+=1,this};function _c(c,m){cn(c),m=_s(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Vo(c,m){return cn(c),m=_s(c,m),c.g.has(m)}s.forEach=function(c,m){cn(this),this.g.forEach(function(b,w){b.forEach(function(L){c.call(m,L,w,this)},this)},this)};function jo(c,m){cn(c);let b=[];if(typeof m=="string")Vo(c,m)&&(b=b.concat(c.g.get(_s(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)b=b.concat(c[m]);return b}s.set=function(c,m){return cn(this),this.i=null,c=_s(this,c),Vo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},s.get=function(c,m){return c?(c=jo(this,c),c.length>0?String(c[0]):m):m};function oa(c,m,b){_c(c,m),b.length>0&&(c.i=null,c.g.set(_s(c,m),z(b)),c.h+=b.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let w=0;w<m.length;w++){var b=m[w];const L=zi(b);b=jo(this,b);for(let H=0;H<b.length;H++){let ie=L;b[H]!==""&&(ie+="="+zi(b[H])),c.push(ie)}}return this.i=c.join("&")};function vc(c){const m=new ys;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function _s(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function la(c,m){m&&!c.j&&(cn(c),c.i=null,c.g.forEach(function(b,w){const L=w.toLowerCase();w!=L&&(_c(this,w),oa(this,L,b))},c)),c.j=m}function Kn(c,m){const b=new Hn;if(d.Image){const w=new Image;w.onload=T(Nn,b,"TestLoadImage: loaded",!0,m,w),w.onerror=T(Nn,b,"TestLoadImage: error",!1,m,w),w.onabort=T(Nn,b,"TestLoadImage: abort",!1,m,w),w.ontimeout=T(Nn,b,"TestLoadImage: timeout",!1,m,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else m(!1)}function zo(c,m){const b=new Hn,w=new AbortController,L=setTimeout(()=>{w.abort(),Nn(b,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:w.signal}).then(H=>{clearTimeout(L),H.ok?Nn(b,"TestPingServer: ok",!0,m):Nn(b,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Nn(b,"TestPingServer: error",!1,m)})}function Nn(c,m,b,w,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),w(b)}catch{}}function vs(){this.g=new ac}function _i(c){this.i=c.Sb||null,this.h=c.ab||!1}x(_i,oc),_i.prototype.g=function(){return new _r(this.i,this.h)};function _r(c,m){xt.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(_r,xt),s=_r.prototype,s.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Qn(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,bs(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ca(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ca(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?bs(this):Qn(this),this.readyState==3&&ca(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,bs(this))},s.Na=function(c){this.g&&(this.response=c,bs(this))},s.ga=function(){this.g&&bs(this)};function bs(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Qn(c)}s.setRequestHeader=function(c,m){this.A.append(c,m)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var b=m.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=m.next();return c.join(`\r
`)};function Qn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(_r.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Cn(c){let m="";return de(c,function(b,w){m+=w,m+=":",m+=b,m+=`\r
`}),m}function vr(c,m,b){e:{for(w in b){var w=!1;break e}w=!0}w||(b=Cn(b),typeof c=="string"?b!=null&&zi(b):We(c,m,b))}function nt(c){xt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(nt,xt);var vi=/^https?$/i,Lo=["POST","PUT"];s=nt.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,m,b,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ro.g(),this.g.onreadystatechange=A(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(H){br(this,H);return}if(c=b||"",b=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var L in w)b.set(L,w[L]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const H of w.keys())b.set(H,w.get(H));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(b.keys()).find(H=>H.toLowerCase()=="content-type"),L=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(Lo,m,void 0)>=0)||w||L||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ie]of b)this.g.setRequestHeader(H,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(H){br(this,H)}};function br(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,Po(c),Li(c)}function Po(c){c.A||(c.A=!0,Mt(c,"complete"),Mt(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Mt(this,"complete"),Mt(this,"abort"),Li(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Li(this,!0)),nt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Er(this):this.Xa())},s.Xa=function(){Er(this)};function Er(c){if(c.h&&typeof u<"u"){if(c.v&&Yn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Mt(c,"readystatechange"),Yn(c)==4){c.h=!1;try{const H=c.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var b;if(!(b=m)){var w;if(w=H===0){let ie=String(c.D).match(pc)[1]||null;!ie&&d.self&&d.self.location&&(ie=d.self.location.protocol.slice(0,-1)),w=!vi.test(ie?ie.toLowerCase():"")}b=w}if(b)Mt(c,"complete"),Mt(c,"success");else{c.o=6;try{var L=Yn(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",Po(c)}}finally{Li(c)}}}}function Li(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const b=c.g;c.g=null,m||Mt(c,"ready");try{b.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Yn(c){return c.g?c.g.readyState:0}s.ca=function(){try{return Yn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Uh(m)}};function Gt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Pi(c){const m={};c=(c.g&&Yn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(N(c[w]))continue;var b=fc(c[w]);const L=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const H=m[L]||[];m[L]=H,H.push(b)}xe(m,function(w){return w.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function bi(c,m,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||m}function Es(c){this.za=0,this.i=[],this.j=new Hn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=bi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=bi("baseRetryDelayMs",5e3,c),this.Za=bi("retryDelaySeedMs",1e4,c),this.Ta=bi("forwardChannelMaxRetries",2,c),this.va=bi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new No(c&&c.concurrentRequestLimit),this.Ba=new vs,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Es.prototype,s.ka=8,s.I=1,s.connect=function(c,m,b,w){wt(0),this.W=c,this.H=m||{},b&&w!==void 0&&(this.H.OSID=b,this.H.OAID=w),this.F=this.X,this.J=Ac(this,null,this.W),Ei(this)};function Uo(c){if(ua(c),c.I==3){var m=c.V++,b=Rt(c.J);if(We(b,"SID",c.M),We(b,"RID",m),We(b,"TYPE","terminate"),Tr(c,b),m=new Fn(c,c.j,m),m.M=2,m.A=gr(Rt(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!b&&d.Image&&(new Image().src=m.A,b=!0),b||(m.g=Rc(m.j,null),m.g.ea(m.A)),m.F=Date.now(),fi(m)}Sc(c)}function Ts(c){c.g&&(qo(c),c.g.cancel(),c.g=null)}function ua(c){Ts(c),c.v&&(d.clearTimeout(c.v),c.v=null),fa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function Ei(c){if(!Co(c.h)&&!c.m){c.m=!0;var m=c.Ea;Fe||S(),ue||(Fe(),ue=!0),C.add(m,c),c.D=0}}function ha(c,m){return pi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ci(y(c.Ea,c,m),wc(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new Fn(this,this.j,c);let H=this.o;if(this.U&&(H?(H=D(H),ne(H,this.U)):H=this.U),this.u!==null||this.R||(L.J=H,H=null),this.S)e:{for(var m=0,b=0;b<this.i.length;b++){t:{var w=this.i[b];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(m+=w,m>4096){m=b;break e}if(m===4096||b===this.i.length-1){m=b+1;break e}}m=1e3}else m=1e3;m=bc(this,L,m),b=Rt(this.J),We(b,"RID",c),We(b,"CVER",22),this.G&&We(b,"X-HTTP-Session-Id",this.G),Tr(this,b),H&&(this.R?m="headers="+zi(Cn(H))+"&"+m:this.u&&vr(b,this.u,H)),Io(this.h,L),this.Ra&&We(b,"TYPE","init"),this.S?(We(b,"$req",m),We(b,"SID","null"),L.U=!0,hi(L,b,null)):hi(L,b,m),this.I=2}}else this.I==3&&(c?Bo(this,c):this.i.length==0||Co(this.h)||Bo(this))};function Bo(c,m){var b;m?b=m.l:b=c.V++;const w=Rt(c.J);We(w,"SID",c.M),We(w,"RID",b),We(w,"AID",c.K),Tr(c,w),c.u&&c.o&&vr(w,c.u,c.o),b=new Fn(c,c.j,b,c.D+1),c.u===null&&(b.J=c.o),m&&(c.i=m.G.concat(c.i)),m=bc(c,b,1e3),b.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Io(c.h,b),hi(b,w,m)}function Tr(c,m){c.H&&de(c.H,function(b,w){We(m,w,b)}),c.l&&de({},function(b,w){We(m,w,b)})}function bc(c,m,b){b=Math.min(c.i.length,b);const w=c.l?y(c.l.Ka,c.l,c):null;e:{var L=c.i;let Ce=-1;for(;;){const vt=["count="+b];Ce==-1?b>0?(Ce=L[0].g,vt.push("ofs="+Ce)):Ce=0:vt.push("ofs="+Ce);let Xe=!0;for(let ht=0;ht<b;ht++){var H=L[ht].g;const In=L[ht].map;if(H-=Ce,H<0)Ce=Math.max(0,L[ht].g-100),Xe=!1;else try{H="req"+H+"_"||"";try{var ie=In instanceof Map?In:Object.entries(In);for(const[xi,Xn]of ie){let $n=Xn;p(Xn)&&($n=ms(Xn)),vt.push(H+xi+"="+encodeURIComponent($n))}}catch(xi){throw vt.push(H+"type="+encodeURIComponent("_badmap")),xi}}catch{w&&w(In)}}if(Xe){ie=vt.join("&");break e}}ie=void 0}return c=c.i.splice(0,b),m.G=c,ie}function Ec(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;Fe||S(),ue||(Fe(),ue=!0),C.add(m,c),c.A=0}}function xr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ci(y(c.Da,c),wc(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,Tc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ci(y(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wt(10),Ts(this),Tc(this))};function qo(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function Tc(c){c.g=new Fn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=Rt(c.na);We(m,"RID","rpc"),We(m,"SID",c.M),We(m,"AID",c.K),We(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&We(m,"TO",c.ia),We(m,"TYPE","xmlhttp"),Tr(c,m),c.u&&c.o&&vr(m,c.u,c.o),c.O&&(c.g.H=c.O);var b=c.g;c=c.ba,b.M=1,b.A=gr(Rt(m)),b.u=null,b.R=!0,ia(b,c)}s.Va=function(){this.C!=null&&(this.C=null,Ts(this),xr(this),wt(19))};function fa(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function xc(c,m){var b=null;if(c.g==m){fa(c),qo(c),c.g=null;var w=2}else if(gi(c.h,m))b=m.G,Do(c.h,m),w=1;else return;if(c.I!=0){if(m.o)if(w==1){b=m.u?m.u.length:0,m=Date.now()-m.F;var L=c.D;w=na(),Mt(w,new li(w,b)),Ei(c)}else Ec(c);else if(L=m.m,L==3||L==0&&m.X>0||!(w==1&&ha(c,m)||w==2&&xr(c)))switch(b&&b.length>0&&(m=c.h,m.i=m.i.concat(b)),L){case 1:Ti(c,5);break;case 4:Ti(c,10);break;case 3:Ti(c,6);break;default:Ti(c,2)}}}function wc(c,m){let b=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(b*=2),b*m}function Ti(c,m){if(c.j.info("Error code "+m),m==2){var b=y(c.bb,c),w=c.Ua;const L=!w;w=new yn(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ut(w,"https"),gr(w),L?Kn(w.toString(),b):zo(w.toString(),b)}else wt(2);c.I=0,c.l&&c.l.pa(m),Sc(c),ua(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function Sc(c){if(c.I=0,c.ja=[],c.l){const m=ko(c.h);(m.length!=0||c.i.length!=0)&&(Q(c.ja,m),Q(c.ja,c.i),c.h.i.length=0,z(c.i),c.i.length=0),c.l.oa()}}function Ac(c,m,b){var w=b instanceof yn?Rt(b):new yn(b);if(w.g!="")m&&(w.g=m+"."+w.g),ps(w,w.u);else{var L=d.location;w=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const H=new yn(null);w&&Ut(H,w),m&&(H.g=m),L&&ps(H,L),b&&(H.h=b),w=H}return b=c.G,m=c.wa,b&&m&&We(w,b,m),We(w,"VER",c.ka),Tr(c,w),w}function Rc(c,m,b){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new nt(new _i({ab:b})):new nt(c.ma),m.Fa(c.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Nc(){}s=Nc.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function xs(){}xs.prototype.g=function(c,m){return new an(c,m)};function an(c,m){xt.call(this),this.g=new Es(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!N(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!N(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Ui(this)}x(an,xt),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Uo(this.g)},an.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.v&&(b={},b.__data__=ms(c),c=b);m.i.push(new At(m.Ya++,c)),m.I==3&&Ei(m)},an.prototype.N=function(){this.g.l=null,delete this.j,Uo(this.g),delete this.g,an.Z.N.call(this)};function Cc(c){Ft.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const b in m){c=b;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}x(Cc,Ft);function Ic(){An.call(this),this.status=1}x(Ic,An);function Ui(c){this.g=c}x(Ui,Nc),Ui.prototype.ra=function(){Mt(this.g,"a")},Ui.prototype.qa=function(c){Mt(this.g,new Cc(c))},Ui.prototype.pa=function(c){Mt(this.g,new Ic)},Ui.prototype.oa=function(){Mt(this.g,"b")},xs.prototype.createWebChannel=xs.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,o1=function(){return new xs},a1=function(){return na()},r1=_t,vm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},mr.NO_ERROR=0,mr.TIMEOUT=8,mr.HTTP_ERROR=6,Qu=mr,Ao.COMPLETE="complete",s1=Ao,lc.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",xt.prototype.listen=xt.prototype.J,Cl=lc,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,i1=nt}).apply(typeof zu<"u"?zu:typeof self<"u"?self:typeof window<"u"?window:{});class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");let yo="12.8.0";function iN(s){yo=s}const Xr=new zm("@firebase/firestore");function Fa(){return Xr.logLevel}function ae(s,...e){if(Xr.logLevel<=Pe.DEBUG){const i=e.map(Xm);Xr.debug(`Firestore (${yo}): ${s}`,...i)}}function us(s,...e){if(Xr.logLevel<=Pe.ERROR){const i=e.map(Xm);Xr.error(`Firestore (${yo}): ${s}`,...i)}}function so(s,...e){if(Xr.logLevel<=Pe.WARN){const i=e.map(Xm);Xr.warn(`Firestore (${yo}): ${s}`,...i)}}function Xm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Te(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,l1(s,r,i)}function l1(s,e,i){let r=`FIRESTORE (${yo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw us(r),new Error(r)}function Je(s,e,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||l1(e,l,r)}function Ne(s,e){return s}const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends fs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class c1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(tn.UNAUTHENTICATED)))}shutdown(){}}class rN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class aN{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Je(this.o===void 0,42304);let r=this.i;const l=g=>this.i!==r?(r=this.i,i(g)):Promise.resolve();let u=new Fr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Fr,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},p=g=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Fr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Je(typeof r.accessToken=="string",31837,{l:r}),new c1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class oN{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class lN{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new oN(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class F_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cN{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ci(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Je(this.o===void 0,3512);const r=u=>{u.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,ae("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const l=u=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new F_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Je(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new F_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function uN(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class $m{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=uN(40);for(let u=0;u<l.length;++u)r.length<20&&l[u]<i&&(r+=e.charAt(l[u]%62))}return r}}function Ue(s,e){return s<e?-1:s>e?1:0}function bm(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const l=s.charAt(r),u=e.charAt(r);if(l!==u)return im(l)===im(u)?Ue(l,u):im(l)?1:-1}return Ue(s.length,e.length)}const hN=55296,fN=57343;function im(s){const e=s.charCodeAt(0);return e>=hN&&e<=fN}function ro(s,e,i){return s.length===e.length&&s.every(((r,l)=>i(r,e[l])))}const G_="__name__";class Ni{constructor(e,i,r){i===void 0?i=0:i>e.length&&Te(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&Te(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Ni.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ni?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let l=0;l<r;l++){const u=Ni.compareSegments(e.get(l),i.get(l));if(u!==0)return u}return Ue(e.length,i.length)}static compareSegments(e,i){const r=Ni.isNumericId(e),l=Ni.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Ni.extractNumericId(e).compare(Ni.extractNumericId(i)):bm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ir.fromString(e.substring(4,e.length-2))}}class dt extends Ni{construct(e,i,r){return new dt(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new me(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new dt(i)}static emptyPath(){return new dt([])}}const dN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends Ni{construct(e,i,r){return new Jt(e,i,r)}static isValidIdentifier(e){return dN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===G_}static keyField(){return new Jt([G_])}static fromServerFormat(e){const i=[];let r="",l=0;const u=()=>{if(r.length===0)throw new me(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new me(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new me(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(u(),l++)}if(u(),d)throw new me(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(i)}static emptyPath(){return new Jt([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(dt.fromString(e))}static fromName(e){return new _e(dt.fromString(e).popFirst(5))}static empty(){return new _e(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return dt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new dt(e.slice()))}}function mN(s,e,i){if(!i)throw new me(te.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function pN(s,e,i,r){if(e===!0&&r===!0)throw new me(te.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function K_(s){if(!_e.isDocumentKey(s))throw new me(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function u1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Jm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Te(12329,{type:typeof s})}function Za(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new me(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Jm(s);throw new me(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Ot(s,e){const i={typeString:s};return e&&(i.value=e),i}function ec(s,e){if(!u1(s))throw new me(te.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const l=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(u!==void 0&&d!==u.value){i=`Expected '${r}' field to equal '${u.value}'`;break}}if(i)throw new me(te.INVALID_ARGUMENT,i);return!0}const Q_=-62135596800,Y_=1e6;class ut{static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*Y_);return new ut(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new me(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new me(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Q_)throw new me(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Y_}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ut._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ec(e,ut._jsonSchema))return new ut(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Q_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ut._jsonSchemaVersion="firestore/timestamp/1.0",ut._jsonSchema={type:Ot("string",ut._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new ut(0,0))}static max(){return new Se(new ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Bl=-1;function gN(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=Se.fromTimestamp(r===1e9?new ut(i+1,0):new ut(i,r));return new sr(l,_e.empty(),e)}function yN(s){return new sr(s.readTime,s.key,Bl)}class sr{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new sr(Se.min(),_e.empty(),Bl)}static max(){return new sr(Se.max(),_e.empty(),Bl)}}function _N(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=_e.comparator(s.documentKey,e.documentKey),i!==0?i:Ue(s.largestBatchId,e.largestBatchId))}const vN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function _o(s){if(s.code!==te.FAILED_PRECONDITION||s.message!==vN)throw s;ae("LocalStore","Unexpectedly lost primary lease")}class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new J(((r,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,l)},this.catchCallback=u=>{this.wrapFailure(i,u).next(r,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):J.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):J.reject(i)}static resolve(e){return new J(((i,r)=>{i(e)}))}static reject(e){return new J(((i,r)=>{r(e)}))}static waitFor(e){return new J(((i,r)=>{let l=0,u=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++u,d&&u===l&&i()}),(g=>r(g)))})),d=!0,u===l&&i()}))}static or(e){let i=J.resolve(!1);for(const r of e)i=i.next((l=>l?J.resolve(l):r()));return i}static forEach(e,i){const r=[];return e.forEach(((l,u)=>{r.push(i.call(this,l,u))})),this.waitFor(r)}static mapArray(e,i){return new J(((r,l)=>{const u=e.length,d=new Array(u);let p=0;for(let g=0;g<u;g++){const y=g;i(e[y]).next((T=>{d[y]=T,++p,p===u&&r(d)}),(T=>l(T)))}}))}static doWhile(e,i){return new J(((r,l)=>{const u=()=>{e()===!0?i().next((()=>{u()}),l):r()};u()}))}}function EN(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function vo(s){return s.name==="IndexedDbTransactionError"}class Ah{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ah.ce=-1;const Zm=-1;function Rh(s){return s==null}function ch(s){return s===0&&1/s==-1/0}function TN(s){return typeof s=="number"&&Number.isInteger(s)&&!ch(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const h1="";function xN(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=X_(e)),e=wN(s.get(i),e);return X_(e)}function wN(s,e){let i=e;const r=s.length;for(let l=0;l<r;l++){const u=s.charAt(l);switch(u){case"\0":i+="";break;case h1:i+="";break;default:i+=u}}return i}function X_(s){return s+h1+""}function $_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Jr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function f1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class mt{constructor(e,i){this.comparator=e,this.root=i||$t.EMPTY}insert(e,i){return new mt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lu(this.root,e,this.comparator,!0)}}class Lu{constructor(e,i,r,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=i?r(e.key,i):1,i&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,i,r,l,u){this.key=e,this.value=i,this.color=r??$t.RED,this.left=l??$t.EMPTY,this.right=u??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,l,u){return new $t(e??this.key,i??this.value,r??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let l=this;const u=r(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,i,r),null):u===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return $t.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,i,r,l,u){return this}insert(e,i,r){return new $t(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Lt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new J_(this.data.getIterator())}getIteratorFrom(e){return new J_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=r.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Lt(this.comparator);return i.data=e,i}}class J_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ni{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new ni([])}unionWith(e){let i=new Lt(Jt.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new ni(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ro(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class d1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new d1("Invalid base64 string: "+u):u}})(e);return new Zt(i)}static fromUint8Array(e){const i=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(e);return new Zt(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const SN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rr(s){if(Je(!!s,39018),typeof s=="string"){let e=0;const i=SN.exec(s);if(Je(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Tt(s.seconds),nanos:Tt(s.nanos)}}function Tt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function ar(s){return typeof s=="string"?Zt.fromBase64String(s):Zt.fromUint8Array(s)}const m1="server_timestamp",p1="__type__",g1="__previous_value__",y1="__local_write_time__";function Wm(s){return(s?.mapValue?.fields||{})[p1]?.stringValue===m1}function Nh(s){const e=s.mapValue.fields[g1];return Wm(e)?Nh(e):e}function ql(s){const e=rr(s.mapValue.fields[y1].timestampValue);return new ut(e.seconds,e.nanos)}class AN{constructor(e,i,r,l,u,d,p,g,y,T,x){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=T,this.apiKey=x}}const uh="(default)";class Hl{constructor(e,i){this.projectId=e,this.database=i||uh}static empty(){return new Hl("","")}get isDefaultDatabase(){return this.database===uh}isEqual(e){return e instanceof Hl&&e.projectId===this.projectId&&e.database===this.database}}function RN(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new me(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hl(s.options.projectId,e)}const _1="__type__",NN="__max__",Pu={mapValue:{}},v1="__vector__",hh="value";function or(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Wm(s)?4:IN(s)?9007199254740991:CN(s)?10:11:Te(28295,{value:s})}function Vi(s,e){if(s===e)return!0;const i=or(s);if(i!==or(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return ql(s).isEqual(ql(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=rr(l.timestampValue),p=rr(u.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,u){return ar(l.bytesValue).isEqual(ar(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,u){return Tt(l.geoPointValue.latitude)===Tt(u.geoPointValue.latitude)&&Tt(l.geoPointValue.longitude)===Tt(u.geoPointValue.longitude)})(s,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return Tt(l.integerValue)===Tt(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=Tt(l.doubleValue),p=Tt(u.doubleValue);return d===p?ch(d)===ch(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return ro(s.arrayValue.values||[],e.arrayValue.values||[],Vi);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},p=u.mapValue.fields||{};if($_(d)!==$_(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!Vi(d[g],p[g])))return!1;return!0})(s,e);default:return Te(52216,{left:s})}}function Fl(s,e){return(s.values||[]).find((i=>Vi(i,e)))!==void 0}function ao(s,e){if(s===e)return 0;const i=or(s),r=or(e);if(i!==r)return Ue(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ue(s.booleanValue,e.booleanValue);case 2:return(function(u,d){const p=Tt(u.integerValue||u.doubleValue),g=Tt(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(s,e);case 3:return Z_(s.timestampValue,e.timestampValue);case 4:return Z_(ql(s),ql(e));case 5:return bm(s.stringValue,e.stringValue);case 6:return(function(u,d){const p=ar(u),g=ar(d);return p.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(u,d){const p=u.split("/"),g=d.split("/");for(let y=0;y<p.length&&y<g.length;y++){const T=Ue(p[y],g[y]);if(T!==0)return T}return Ue(p.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,d){const p=Ue(Tt(u.latitude),Tt(d.latitude));return p!==0?p:Ue(Tt(u.longitude),Tt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return W_(s.arrayValue,e.arrayValue);case 10:return(function(u,d){const p=u.fields||{},g=d.fields||{},y=p[hh]?.arrayValue,T=g[hh]?.arrayValue,x=Ue(y?.values?.length||0,T?.values?.length||0);return x!==0?x:W_(y,T)})(s.mapValue,e.mapValue);case 11:return(function(u,d){if(u===Pu.mapValue&&d===Pu.mapValue)return 0;if(u===Pu.mapValue)return 1;if(d===Pu.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),y=d.fields||{},T=Object.keys(y);g.sort(),T.sort();for(let x=0;x<g.length&&x<T.length;++x){const A=bm(g[x],T[x]);if(A!==0)return A;const z=ao(p[g[x]],y[T[x]]);if(z!==0)return z}return Ue(g.length,T.length)})(s.mapValue,e.mapValue);default:throw Te(23264,{he:i})}}function Z_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ue(s,e);const i=rr(s),r=rr(e),l=Ue(i.seconds,r.seconds);return l!==0?l:Ue(i.nanos,r.nanos)}function W_(s,e){const i=s.values||[],r=e.values||[];for(let l=0;l<i.length&&l<r.length;++l){const u=ao(i[l],r[l]);if(u)return u}return Ue(i.length,r.length)}function oo(s){return Em(s)}function Em(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=rr(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return ar(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return _e.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const u of i.values||[])l?l=!1:r+=",",r+=Em(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",u=!0;for(const d of r)u?u=!1:l+=",",l+=`${d}:${Em(i.fields[d])}`;return l+"}"})(s.mapValue):Te(61005,{value:s})}function Yu(s){switch(or(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Nh(s);return e?16+Yu(e):16;case 5:return 2*s.stringValue.length;case 6:return ar(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,u)=>l+Yu(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return Jr(r.fields,((u,d)=>{l+=u.length+Yu(d)})),l})(s.mapValue);default:throw Te(13486,{value:s})}}function Tm(s){return!!s&&"integerValue"in s}function ep(s){return!!s&&"arrayValue"in s}function ev(s){return!!s&&"nullValue"in s}function tv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Xu(s){return!!s&&"mapValue"in s}function CN(s){return(s?.mapValue?.fields||{})[_1]?.stringValue===v1}function Vl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Jr(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Vl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Vl(s.arrayValue.values[i]);return e}return{...s}}function IN(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===NN}class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!Xu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vl(i)}setAll(e){let i=Jt.emptyPath(),r={},l=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const g=this.getFieldsMap(i);this.applyChanges(g,r,l),r={},l=[],i=p.popLast()}d?r[p.lastSegment()]=Vl(d):l.push(p.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,r,l)}delete(e){const i=this.field(e.popLast());Xu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Vi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=i.mapValue.fields[e.get(r)];Xu(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,r){Jr(i,((l,u)=>e[l]=u));for(const l of r)delete e[l]}clone(){return new Pn(Vl(this.value))}}function b1(s){const e=[];return Jr(s.fields,((i,r)=>{const l=new Jt([i]);if(Xu(r)){const u=b1(r.mapValue).fields;if(u.length===0)e.push(l);else for(const d of u)e.push(l.child(d))}else e.push(l)})),new ni(e)}class nn{constructor(e,i,r,l,u,d,p){this.key=e,this.documentType=i,this.version=r,this.readTime=l,this.createTime=u,this.data=d,this.documentState=p}static newInvalidDocument(e){return new nn(e,0,Se.min(),Se.min(),Se.min(),Pn.empty(),0)}static newFoundDocument(e,i,r,l){return new nn(e,1,i,Se.min(),r,l,0)}static newNoDocument(e,i){return new nn(e,2,i,Se.min(),Se.min(),Pn.empty(),0)}static newUnknownDocument(e,i){return new nn(e,3,i,Se.min(),Se.min(),Pn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class fh{constructor(e,i){this.position=e,this.inclusive=i}}function nv(s,e,i){let r=0;for(let l=0;l<s.position.length;l++){const u=e[l],d=s.position[l];if(u.field.isKeyField()?r=_e.comparator(_e.fromName(d.referenceValue),i.key):r=ao(d,i.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function iv(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Vi(s.position[i],e.position[i]))return!1;return!0}class dh{constructor(e,i="asc"){this.field=e,this.dir=i}}function DN(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class E1{}class zt extends E1{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new ON(e,i,r):i==="array-contains"?new jN(e,r):i==="in"?new zN(e,r):i==="not-in"?new LN(e,r):i==="array-contains-any"?new PN(e,r):new zt(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new MN(e,r):new VN(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ao(i,this.value)):i!==null&&or(this.value)===or(i)&&this.matchesComparison(ao(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ji extends E1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ji(e,i)}matches(e){return T1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function T1(s){return s.op==="and"}function x1(s){return kN(s)&&T1(s)}function kN(s){for(const e of s.filters)if(e instanceof ji)return!1;return!0}function xm(s){if(s instanceof zt)return s.field.canonicalString()+s.op.toString()+oo(s.value);if(x1(s))return s.filters.map((e=>xm(e))).join(",");{const e=s.filters.map((i=>xm(i))).join(",");return`${s.op}(${e})`}}function w1(s,e){return s instanceof zt?(function(r,l){return l instanceof zt&&r.op===l.op&&r.field.isEqual(l.field)&&Vi(r.value,l.value)})(s,e):s instanceof ji?(function(r,l){return l instanceof ji&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((u,d,p)=>u&&w1(d,l.filters[p])),!0):!1})(s,e):void Te(19439)}function S1(s){return s instanceof zt?(function(i){return`${i.field.canonicalString()} ${i.op} ${oo(i.value)}`})(s):s instanceof ji?(function(i){return i.op.toString()+" {"+i.getFilters().map(S1).join(" ,")+"}"})(s):"Filter"}class ON extends zt{constructor(e,i,r){super(e,i,r),this.key=_e.fromName(r.referenceValue)}matches(e){const i=_e.comparator(e.key,this.key);return this.matchesComparison(i)}}class MN extends zt{constructor(e,i){super(e,"in",i),this.keys=A1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class VN extends zt{constructor(e,i){super(e,"not-in",i),this.keys=A1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function A1(s,e){return(e.arrayValue?.values||[]).map((i=>_e.fromName(i.referenceValue)))}class jN extends zt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return ep(i)&&Fl(i.arrayValue,this.value)}}class zN extends zt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Fl(this.value.arrayValue,i)}}class LN extends zt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Fl(this.value.arrayValue,i)}}class PN extends zt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!ep(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Fl(this.value.arrayValue,r)))}}class UN{constructor(e,i=null,r=[],l=[],u=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=u,this.startAt=d,this.endAt=p,this.Te=null}}function sv(s,e=null,i=[],r=[],l=null,u=null,d=null){return new UN(s,e,i,r,l,u,d)}function tp(s){const e=Ne(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>xm(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Rh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>oo(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>oo(r))).join(",")),e.Te=i}return e.Te}function np(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!DN(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!w1(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!iv(s.startAt,e.startAt)&&iv(s.endAt,e.endAt)}function wm(s){return _e.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Ch{constructor(e,i=null,r=[],l=[],u=null,d="F",p=null,g=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=u,this.limitType=d,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function BN(s,e,i,r,l,u,d,p){return new Ch(s,e,i,r,l,u,d,p)}function ip(s){return new Ch(s)}function rv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function qN(s){return _e.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function HN(s){return s.collectionGroup!==null}function jl(s){const e=Ne(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),i.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Lt(Jt.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new dh(u,r))})),i.has(Jt.keyField().canonicalString())||e.Ie.push(new dh(Jt.keyField(),r))}return e.Ie}function ki(s){const e=Ne(s);return e.Ee||(e.Ee=FN(e,jl(s))),e.Ee}function FN(s,e){if(s.limitType==="F")return sv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new dh(l.field,u)}));const i=s.endAt?new fh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new fh(s.startAt.position,s.startAt.inclusive):null;return sv(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function Sm(s,e,i){return new Ch(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Ih(s,e){return np(ki(s),ki(e))&&s.limitType===e.limitType}function R1(s){return`${tp(ki(s))}|lt:${s.limitType}`}function Ga(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>S1(l))).join(", ")}]`),Rh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>oo(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>oo(l))).join(",")),`Target(${r})`})(ki(s))}; limitType=${s.limitType})`}function Dh(s,e){return e.isFoundDocument()&&(function(r,l){const u=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):_e.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,e)&&(function(r,l){for(const u of jl(r))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const u of r.filters)if(!u.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(d,p,g){const y=nv(d,p,g);return d.inclusive?y<=0:y<0})(r.startAt,jl(r),l)||r.endAt&&!(function(d,p,g){const y=nv(d,p,g);return d.inclusive?y>=0:y>0})(r.endAt,jl(r),l))})(s,e)}function GN(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function N1(s){return(e,i)=>{let r=!1;for(const l of jl(s)){const u=KN(l,e,i);if(u!==0)return u;r=r||l.field.isKeyField()}return 0}}function KN(s,e,i){const r=s.field.isKeyField()?_e.comparator(e.key,i.key):(function(u,d,p){const g=d.data.field(u),y=p.data.field(u);return g!==null&&y!==null?ao(g,y):Te(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Te(19790,{direction:s.dir})}}class Zr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[l,u]of r)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Jr(this.inner,((i,r)=>{for(const[l,u]of r)e(l,u)}))}isEmpty(){return f1(this.inner)}size(){return this.innerSize}}const QN=new mt(_e.comparator);function hs(){return QN}const C1=new mt(_e.comparator);function Il(...s){let e=C1;for(const i of s)e=e.insert(i.key,i);return e}function I1(s){let e=C1;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function qr(){return zl()}function D1(){return zl()}function zl(){return new Zr((s=>s.toString()),((s,e)=>s.isEqual(e)))}const YN=new mt(_e.comparator),XN=new Lt(_e.comparator);function Be(...s){let e=XN;for(const i of s)e=e.add(i);return e}const $N=new Lt(Ue);function JN(){return $N}function sp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ch(e)?"-0":e}}function k1(s){return{integerValue:""+s}}function ZN(s,e){return TN(e)?k1(e):sp(s,e)}class kh{constructor(){this._=void 0}}function WN(s,e,i){return s instanceof mh?(function(l,u){const d={fields:{[p1]:{stringValue:m1},[y1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Wm(u)&&(u=Nh(u)),u&&(d.fields[g1]=u),{mapValue:d}})(i,e):s instanceof Gl?M1(s,e):s instanceof Kl?V1(s,e):(function(l,u){const d=O1(l,u),p=av(d)+av(l.Ae);return Tm(d)&&Tm(l.Ae)?k1(p):sp(l.serializer,p)})(s,e)}function eC(s,e,i){return s instanceof Gl?M1(s,e):s instanceof Kl?V1(s,e):i}function O1(s,e){return s instanceof ph?(function(r){return Tm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class mh extends kh{}class Gl extends kh{constructor(e){super(),this.elements=e}}function M1(s,e){const i=j1(e);for(const r of s.elements)i.some((l=>Vi(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Kl extends kh{constructor(e){super(),this.elements=e}}function V1(s,e){let i=j1(e);for(const r of s.elements)i=i.filter((l=>!Vi(l,r)));return{arrayValue:{values:i}}}class ph extends kh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function av(s){return Tt(s.integerValue||s.doubleValue)}function j1(s){return ep(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function tC(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof Gl&&l instanceof Gl||r instanceof Kl&&l instanceof Kl?ro(r.elements,l.elements,Vi):r instanceof ph&&l instanceof ph?Vi(r.Ae,l.Ae):r instanceof mh&&l instanceof mh})(s.transform,e.transform)}class nC{constructor(e,i){this.version=e,this.transformResults=i}}class as{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new as}static exists(e){return new as(void 0,e)}static updateTime(e){return new as(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $u(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Oh{}function z1(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new P1(s.key,as.none()):new tc(s.key,s.data,as.none());{const i=s.data,r=Pn.empty();let l=new Lt(Jt.comparator);for(let u of e.fields)if(!l.has(u)){let d=i.field(u);d===null&&u.length>1&&(u=u.popLast(),d=i.field(u)),d===null?r.delete(u):r.set(u,d),l=l.add(u)}return new Wr(s.key,r,new ni(l.toArray()),as.none())}}function iC(s,e,i){s instanceof tc?(function(l,u,d){const p=l.value.clone(),g=lv(l.fieldTransforms,u,d.transformResults);p.setAll(g),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof Wr?(function(l,u,d){if(!$u(l.precondition,u))return void u.convertToUnknownDocument(d.version);const p=lv(l.fieldTransforms,u,d.transformResults),g=u.data;g.setAll(L1(l)),g.setAll(p),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Ll(s,e,i,r){return s instanceof tc?(function(u,d,p,g){if(!$u(u.precondition,d))return p;const y=u.value.clone(),T=cv(u.fieldTransforms,g,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,i,r):s instanceof Wr?(function(u,d,p,g){if(!$u(u.precondition,d))return p;const y=cv(u.fieldTransforms,g,d),T=d.data;return T.setAll(L1(u)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((x=>x.field)))})(s,e,i,r):(function(u,d,p){return $u(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function sC(s,e){let i=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),u=O1(r.transform,l||null);u!=null&&(i===null&&(i=Pn.empty()),i.set(r.field,u))}return i||null}function ov(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&ro(r,l,((u,d)=>tC(u,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class tc extends Oh{constructor(e,i,r,l=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Wr extends Oh{constructor(e,i,r,l,u=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function L1(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function lv(s,e,i){const r=new Map;Je(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const u=s[l],d=u.transform,p=e.data.field(u.field);r.set(u.field,eC(d,p,i[l]))}return r}function cv(s,e,i){const r=new Map;for(const l of s){const u=l.transform,d=i.data.field(l.field);r.set(l.field,WN(u,d,e))}return r}class P1 extends Oh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rC extends Oh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class aC{constructor(e,i,r,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&iC(u,e,r[l])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Ll(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Ll(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=D1();return this.mutations.forEach((l=>{const u=e.get(l.key),d=u.overlayedDocument;let p=this.applyToLocalView(d,u.mutatedFields);p=i.has(l.key)?null:p;const g=z1(d,p);g!==null&&r.set(l.key,g),d.isValidDocument()||d.convertToNoDocument(Se.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Be())}isEqual(e){return this.batchId===e.batchId&&ro(this.mutations,e.mutations,((i,r)=>ov(i,r)))&&ro(this.baseMutations,e.baseMutations,((i,r)=>ov(i,r)))}}class rp{constructor(e,i,r,l){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(e,i,r){Je(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return YN})();const u=e.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,r[d].version);return new rp(e,i,r,l)}}class oC{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class lC{constructor(e,i){this.count=e,this.unchangedNames=i}}var kt,Ge;function cC(s){switch(s){case te.OK:return Te(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Te(15467,{code:s})}}function U1(s){if(s===void 0)return us("GRPC error has no .code"),te.UNKNOWN;switch(s){case kt.OK:return te.OK;case kt.CANCELLED:return te.CANCELLED;case kt.UNKNOWN:return te.UNKNOWN;case kt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case kt.INTERNAL:return te.INTERNAL;case kt.UNAVAILABLE:return te.UNAVAILABLE;case kt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case kt.NOT_FOUND:return te.NOT_FOUND;case kt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case kt.ABORTED:return te.ABORTED;case kt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case kt.DATA_LOSS:return te.DATA_LOSS;default:return Te(39323,{code:s})}}(Ge=kt||(kt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";function uC(){return new TextEncoder}const hC=new ir([4294967295,4294967295],0);function uv(s){const e=uC().encode(s),i=new n1;return i.update(e),new Uint8Array(i.digest())}function hv(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ir([i,r],0),new ir([l,u],0)]}class ap{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Dl(`Invalid padding: ${i}`);if(r<0)throw new Dl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Dl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Dl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=ir.fromNumber(this.ge)}ye(e,i,r){let l=e.add(i.multiply(ir.fromNumber(r)));return l.compare(hC)===1&&(l=new ir([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=uv(e),[r,l]=hv(i);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);if(!this.we(d))return!1}return!0}static create(e,i,r){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new ap(u,l,i);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=uv(e),[r,l]=hv(i);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);this.be(d)}}be(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Mh{constructor(e,i,r,l,u){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const l=new Map;return l.set(e,nc.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Mh(Se.min(),l,new mt(Ue),hs(),Be())}}class nc{constructor(e,i,r,l,u){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new nc(r,i,Be(),Be(),Be())}}class Ju{constructor(e,i,r,l){this.Se=e,this.removedTargetIds=i,this.key=r,this.De=l}}class B1{constructor(e,i){this.targetId=e,this.Ce=i}}class q1{constructor(e,i,r=Zt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=l}}class fv{constructor(){this.ve=0,this.Fe=dv(),this.Me=Zt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),i=Be(),r=Be();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:Te(38017,{changeType:u})}})),new nc(this.Me,this.xe,e,i,r)}Ke(){this.Oe=!1,this.Fe=dv()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Je(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class fC{constructor(e){this.Ge=e,this.ze=new Map,this.je=hs(),this.He=Uu(),this.Je=Uu(),this.Ze=new mt(Ue)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,r=e.Ce.count,l=this.ot(i);if(l){const u=l.target;if(wm(u))if(r===0){const d=new _e(u.path);this.et(i,d,nn.newNoDocument(d,Se.min()))}else Je(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(e),g=p?this.ct(p,e,d):1;if(g!==0){this.it(i);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:u=0}=i;let d,p;try{d=ar(r).toUint8Array()}catch(g){if(g instanceof d1)return so("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new ap(d,l,u)}catch(g){return so(g instanceof Dl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((u=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(i,u,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((u,d)=>{const p=this.ot(d);if(p){if(u.current&&wm(p.target)){const g=new _e(p.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,nn.newNoDocument(g,e))}u.Be&&(i.set(d,u.ke()),u.Ke())}}));let r=Be();this.Je.forEach(((u,d)=>{let p=!0;d.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const l=new Mh(e,i,this.Ze,this.je,r);return this.je=hs(),this.He=Uu(),this.Je=Uu(),this.Ze=new mt(Ue),l}Ye(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,r),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new fv,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Lt(Ue),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Lt(Ue),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ae("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new fv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Uu(){return new mt(_e.comparator)}function dv(){return new mt(_e.comparator)}const dC={asc:"ASCENDING",desc:"DESCENDING"},mC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pC={and:"AND",or:"OR"};class gC{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Am(s,e){return s.useProto3Json||Rh(e)?e:{value:e}}function gh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function H1(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function yC(s,e){return gh(s,e.toTimestamp())}function Oi(s){return Je(!!s,49232),Se.fromTimestamp((function(i){const r=rr(i);return new ut(r.seconds,r.nanos)})(s))}function op(s,e){return Rm(s,e).canonicalString()}function Rm(s,e){const i=(function(l){return new dt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function F1(s){const e=dt.fromString(s);return Je(X1(e),10190,{key:e.toString()}),e}function Nm(s,e){return op(s.databaseId,e.path)}function sm(s,e){const i=F1(e);if(i.get(1)!==s.databaseId.projectId)throw new me(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new me(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new _e(K1(i))}function G1(s,e){return op(s.databaseId,e)}function _C(s){const e=F1(s);return e.length===4?dt.emptyPath():K1(e)}function Cm(s){return new dt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function K1(s){return Je(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function mv(s,e,i){return{name:Nm(s,e),fields:i.value.mapValue.fields}}function vC(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(y,T){return y.useProto3Json?(Je(T===void 0||typeof T=="string",58123),Zt.fromBase64String(T||"")):(Je(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Zt.fromUint8Array(T||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const T=y.code===void 0?te.UNKNOWN:U1(y.code);return new me(T,y.message||"")})(d);i=new q1(r,l,u,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=sm(s,r.document.name),u=Oi(r.document.updateTime),d=r.document.createTime?Oi(r.document.createTime):Se.min(),p=new Pn({mapValue:{fields:r.document.fields}}),g=nn.newFoundDocument(l,u,d,p),y=r.targetIds||[],T=r.removedTargetIds||[];i=new Ju(y,T,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=sm(s,r.document),u=r.readTime?Oi(r.readTime):Se.min(),d=nn.newNoDocument(l,u),p=r.removedTargetIds||[];i=new Ju([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=sm(s,r.document),u=r.removedTargetIds||[];i=new Ju([],u,l,null)}else{if(!("filter"in e))return Te(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:u}=r,d=new lC(l,u),p=r.targetId;i=new B1(p,d)}}return i}function bC(s,e){let i;if(e instanceof tc)i={update:mv(s,e.key,e.value)};else if(e instanceof P1)i={delete:Nm(s,e.key)};else if(e instanceof Wr)i={update:mv(s,e.key,e.data),updateMask:CC(e.fieldMask)};else{if(!(e instanceof rC))return Te(16599,{dt:e.type});i={verify:Nm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(u,d){const p=d.transform;if(p instanceof mh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Gl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Kl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ph)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Te(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:yC(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)})(s,e.precondition)),i}function EC(s,e){return s&&s.length>0?(Je(e!==void 0,14353),s.map((i=>(function(l,u){let d=l.updateTime?Oi(l.updateTime):Oi(u);return d.isEqual(Se.min())&&(d=Oi(u)),new nC(d,l.transformResults||[])})(i,e)))):[]}function TC(s,e){return{documents:[G1(s,e.path)]}}function xC(s,e){const i={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=G1(s,l);const u=(function(y){if(y.length!==0)return Y1(ji.create(y,"and"))})(e.filters);u&&(i.structuredQuery.where=u);const d=(function(y){if(y.length!==0)return y.map((T=>(function(A){return{field:Ka(A.field),direction:AC(A.dir)}})(T)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Am(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:l}}function wC(s){let e=_C(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Je(r===1,65062);const T=i.from[0];T.allDescendants?l=T.collectionId:e=e.child(T.collectionId)}let u=[];i.where&&(u=(function(x){const A=Q1(x);return A instanceof ji&&x1(A)?A.getFilters():[A]})(i.where));let d=[];i.orderBy&&(d=(function(x){return x.map((A=>(function(Q){return new dh(Qa(Q.field),(function(X){switch(X){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Q.direction))})(A)))})(i.orderBy));let p=null;i.limit&&(p=(function(x){let A;return A=typeof x=="object"?x.value:x,Rh(A)?null:A})(i.limit));let g=null;i.startAt&&(g=(function(x){const A=!!x.before,z=x.values||[];return new fh(z,A)})(i.startAt));let y=null;return i.endAt&&(y=(function(x){const A=!x.before,z=x.values||[];return new fh(z,A)})(i.endAt)),BN(e,l,d,u,p,"F",g,y)}function SC(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Q1(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Qa(i.unaryFilter.field);return zt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Qa(i.unaryFilter.field);return zt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Qa(i.unaryFilter.field);return zt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Qa(i.unaryFilter.field);return zt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(s):s.fieldFilter!==void 0?(function(i){return zt.create(Qa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return ji.create(i.compositeFilter.filters.map((r=>Q1(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(i.compositeFilter.op))})(s):Te(30097,{filter:s})}function AC(s){return dC[s]}function RC(s){return mC[s]}function NC(s){return pC[s]}function Ka(s){return{fieldPath:s.canonicalString()}}function Qa(s){return Jt.fromServerFormat(s.fieldPath)}function Y1(s){return s instanceof zt?(function(i){if(i.op==="=="){if(tv(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NAN"}};if(ev(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(tv(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NOT_NAN"}};if(ev(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ka(i.field),op:RC(i.op),value:i.value}}})(s):s instanceof ji?(function(i){const r=i.getFilters().map((l=>Y1(l)));return r.length===1?r[0]:{compositeFilter:{op:NC(i.op),filters:r}}})(s):Te(54877,{filter:s})}function CC(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function X1(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function $1(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class Ws{constructor(e,i,r,l,u=Se.min(),d=Se.min(),p=Zt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new Ws(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class IC{constructor(e){this.yt=e}}function DC(s){const e=wC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Sm(e,e.limit,"L"):e}class kC{constructor(){this.Sn=new OC}addToCollectionParentIndex(e,i){return this.Sn.add(i),J.resolve()}getCollectionParents(e,i){return J.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return J.resolve()}deleteFieldIndex(e,i){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,i){return J.resolve()}getDocumentsMatchingTarget(e,i){return J.resolve(null)}getIndexType(e,i){return J.resolve(0)}getFieldIndexes(e,i){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,i){return J.resolve(sr.min())}getMinOffsetFromCollectionGroup(e,i){return J.resolve(sr.min())}updateCollectionGroup(e,i,r){return J.resolve()}updateIndexEntries(e,i){return J.resolve()}}class OC{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i]||new Lt(dt.comparator),u=!l.has(r);return this.index[i]=l.add(r),u}has(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(e){return(this.index[e]||new Lt(dt.comparator)).toArray()}}const pv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},J1=41943040;class pn{static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(J1,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);class lo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new lo(0)}static ar(){return new lo(-1)}}const gv="LruGarbageCollector",MC=1048576;function yv([s,e],[i,r]){const l=Ue(s,i);return l===0?Ue(e,r):l}class VC{constructor(e){this.Pr=e,this.buffer=new Lt(yv),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();yv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class jC{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ae(gv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){vo(i)?ae(gv,"Ignoring IndexedDB error during garbage collection: ",i):await _o(i)}await this.Ar(3e5)}))}}class zC{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return J.resolve(Ah.ce);const r=new VC(i);return this.Vr.forEachTarget(e,(l=>r.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>r.Er(l))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.Vr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(pv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pv):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let r,l,u,d,p,g,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),l=this.params.maximumSequenceNumbersToCollect):l=x,d=Date.now(),this.nthSequenceNumber(e,l)))).next((x=>(r=x,p=Date.now(),this.removeTargets(e,r,i)))).next((x=>(u=x,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((x=>(y=Date.now(),Fa()<=Pe.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${x} documents in `+(y-g)+`ms
Total Duration: ${y-T}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:x}))))}}function LC(s,e){return new zC(s,e)}class PC{constructor(){this.changes=new Zr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?J.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class UC{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class BC{constructor(e,i,r,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(r!==null&&Ll(r.mutation,l,ni.empty(),ut.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Be()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Be()){const l=qr();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,r).next((u=>{let d=Il();return u.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=qr();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Be())))}populateOverlays(e,i,r){const l=[];return r.forEach((u=>{i.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,r,l){let u=hs();const d=zl(),p=(function(){return zl()})();return i.forEach(((g,y)=>{const T=r.get(y.key);l.has(y.key)&&(T===void 0||T.mutation instanceof Wr)?u=u.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),Ll(T.mutation,y,T.mutation.getFieldMask(),ut.now())):d.set(y.key,ni.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,T)=>d.set(y,T))),i.forEach(((y,T)=>p.set(y,new UC(T,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,i){const r=zl();let l=new mt(((d,p)=>d-p)),u=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((g=>{const y=i.get(g);if(y===null)return;let T=r.get(g)||ni.empty();T=p.applyToLocalView(y,T),r.set(g,T);const x=(l.get(p.batchId)||Be()).add(g);l=l.insert(p.batchId,x)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,T=g.value,x=D1();T.forEach((A=>{if(!u.has(A)){const z=z1(i.get(A),r.get(A));z!==null&&x.set(A,z),u=u.add(A)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,x))}return J.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,l){return qN(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):HN(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,l):this.getDocumentsMatchingCollectionQuery(e,i,r,l)}getNextDocuments(e,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,l-u.size):J.resolve(qr());let p=Bl,g=u;return d.next((y=>J.forEach(y,((T,x)=>(p<x.largestBatchId&&(p=x.largestBatchId),u.get(T)?J.resolve():this.remoteDocumentCache.getEntry(e,T).next((A=>{g=g.insert(T,A)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,Be()))).next((T=>({batchId:p,changes:I1(T)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new _e(i)).next((r=>{let l=Il();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,l){const u=i.collectionGroup;let d=Il();return this.indexManager.getCollectionParents(e,u).next((p=>J.forEach(p,(g=>{const y=(function(x,A){return new Ch(A,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(i,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,r,l).next((T=>{T.forEach(((x,A)=>{d=d.insert(x,A)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,u,l)))).next((d=>{u.forEach(((g,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,nn.newInvalidDocument(T)))}));let p=Il();return d.forEach(((g,y)=>{const T=u.get(g);T!==void 0&&Ll(T.mutation,y,ni.empty(),ut.now()),Dh(i,y)&&(p=p.insert(g,y))})),p}))}}class qC{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return J.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Oi(l.createTime)}})(i)),J.resolve()}getNamedQuery(e,i){return J.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:DC(l.bundledQuery),readTime:Oi(l.readTime)}})(i)),J.resolve()}}class HC{constructor(){this.overlays=new mt(_e.comparator),this.Lr=new Map}getOverlay(e,i){return J.resolve(this.overlays.get(i))}getOverlays(e,i){const r=qr();return J.forEach(i,(l=>this.getOverlay(e,l).next((u=>{u!==null&&r.set(l,u)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((l,u)=>{this.bt(e,i,u)})),J.resolve()}removeOverlaysForBatchId(e,i,r){const l=this.Lr.get(r);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(r)),J.resolve()}getOverlaysForCollection(e,i,r){const l=qr(),u=i.length+1,d=new _e(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>r&&l.set(g.getKey(),g)}return J.resolve(l)}getOverlaysForCollectionGroup(e,i,r,l){let u=new mt(((y,T)=>y-T));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let T=u.get(y.largestBatchId);T===null&&(T=qr(),u=u.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const p=qr(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,T)=>p.set(y,T))),!(p.size()>=l)););return J.resolve(p)}bt(e,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(r.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new oC(i,r));let u=this.Lr.get(i);u===void 0&&(u=Be(),this.Lr.set(i,u)),this.Lr.set(i,u.add(r.key))}}class FC{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,J.resolve()}}class lp{constructor(){this.kr=new Lt(qt.Kr),this.qr=new Lt(qt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const r=new qt(e,i);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Wr(new qt(e,i))}Qr(e,i){e.forEach((r=>this.removeReference(r,i)))}Gr(e){const i=new _e(new dt([])),r=new qt(i,e),l=new qt(i,e+1),u=[];return this.qr.forEachInRange([r,l],(d=>{this.Wr(d),u.push(d.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new _e(new dt([])),r=new qt(i,e),l=new qt(i,e+1);let u=Be();return this.qr.forEachInRange([r,l],(d=>{u=u.add(d.key)})),u}containsKey(e){const i=new qt(e,0),r=this.kr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class qt{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return _e.comparator(e.key,i.key)||Ue(e.Hr,i.Hr)}static Ur(e,i){return Ue(e.Hr,i.Hr)||_e.comparator(e.key,i.key)}}class GC{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Lt(qt.Kr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,l){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new aC(u,i,r,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new qt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return J.resolve(d)}lookupMutationBatch(e,i){return J.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,l=this.Xr(r),u=l<0?0:l;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Zm:this.Yn-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new qt(i,0),l=new qt(i,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([r,l],(d=>{const p=this.Zr(d.Hr);u.push(p)})),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Lt(Ue);return i.forEach((l=>{const u=new qt(l,0),d=new qt(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,d],(p=>{r=r.add(p.Hr)}))})),J.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,l=r.length+1;let u=r;_e.isDocumentKey(u)||(u=u.child(""));const d=new qt(new _e(u),0);let p=new Lt(Ue);return this.Jr.forEachWhile((g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(p=p.add(g.Hr)),!0)}),d),J.resolve(this.Yr(p))}Yr(e){const i=[];return e.forEach((r=>{const l=this.Zr(r);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){Je(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return J.forEach(i.mutations,(l=>{const u=new qt(l.key,i.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,i){const r=new qt(i,0),l=this.Jr.firstAfterOrEqual(r);return J.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class KC{constructor(e){this.ti=e,this.docs=(function(){return new mt(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,l=this.docs.get(r),u=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return J.resolve(r?r.document.mutableCopy():nn.newInvalidDocument(i))}getEntries(e,i){let r=hs();return i.forEach((l=>{const u=this.docs.get(l);r=r.insert(l,u?u.document.mutableCopy():nn.newInvalidDocument(l))})),J.resolve(r)}getDocumentsMatchingQuery(e,i,r,l){let u=hs();const d=i.path,p=new _e(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:T}}=g.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||_N(yN(T),r)<=0||(l.has(T.key)||Dh(i,T))&&(u=u.insert(T.key,T.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,i,r,l){Te(9500)}ni(e,i){return J.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new QC(this)}getSize(e){return J.resolve(this.size)}}class QC extends PC{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(r)})),J.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class YC{constructor(e){this.persistence=e,this.ri=new Zr((i=>tp(i)),np),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.ii=0,this.si=new lp,this.targetCount=0,this.oi=lo._r()}forEachTarget(e,i){return this.ri.forEach(((r,l)=>i(l))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.ii&&(this.ii=i),J.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new lo(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,J.resolve()}updateTargetData(e,i){return this.lr(i),J.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,i,r){let l=0;const u=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.ri.delete(d),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),J.waitFor(u).next((()=>l))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,i){const r=this.ri.get(i)||null;return J.resolve(r)}addMatchingKeys(e,i,r){return this.si.$r(i,r),J.resolve()}removeMatchingKeys(e,i,r){this.si.Qr(i,r);const l=this.persistence.referenceDelegate,u=[];return l&&i.forEach((d=>{u.push(l.markPotentiallyOrphaned(e,d))})),J.waitFor(u)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),J.resolve()}getMatchingKeysForTargetId(e,i){const r=this.si.jr(i);return J.resolve(r)}containsKey(e,i){return J.resolve(this.si.containsKey(i))}}class Z1{constructor(e,i){this._i={},this.overlays={},this.ai=new Ah(0),this.ui=!1,this.ui=!0,this.ci=new FC,this.referenceDelegate=e(this),this.li=new YC(this),this.indexManager=new kC,this.remoteDocumentCache=(function(l){return new KC(l)})((r=>this.referenceDelegate.hi(r))),this.serializer=new IC(i),this.Pi=new qC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new HC,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this._i[e.toKey()];return r||(r=new GC(i,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,r){ae("MemoryPersistence","Starting transaction:",e);const l=new XC(this.ai.next());return this.referenceDelegate.Ti(),r(l).next((u=>this.referenceDelegate.Ii(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ei(e,i){return J.or(Object.values(this._i).map((r=>()=>r.containsKey(e,i))))}}class XC extends bN{constructor(e){super(),this.currentSequenceNumber=e}}class cp{constructor(e){this.persistence=e,this.Ri=new lp,this.Ai=null}static Vi(e){return new cp(e)}get di(){if(this.Ai)return this.Ai;throw Te(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.di.delete(r.toString()),J.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.di.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),J.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((u=>this.di.add(u.toString())))})).next((()=>r.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.di,(r=>{const l=_e.fromPath(r);return this.mi(e,l).next((u=>{u||i.removeEntry(l,Se.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((r=>{r?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class yh{constructor(e,i){this.persistence=e,this.fi=new Zr((r=>xN(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=LC(this,i)}static Vi(e,i){return new yh(e,i)}Ti(){}Ii(e){return J.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((l=>r+l))))}pr(e){let i=0;return this.mr(e,(r=>{i++})).next((()=>i))}mr(e,i){return J.forEach(this.fi,((r,l)=>this.wr(e,r,l).next((u=>u?J.resolve():i(l)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ni(e,(d=>this.wr(e,d,i).next((p=>{p||(r++,u.removeEntry(d,Se.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),J.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),J.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Yu(e.data.value)),i}wr(e,i,r){return J.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.fi.get(i);return J.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class up{constructor(e,i,r,l){this.targetId=e,this.fromCache=i,this.Ts=r,this.Is=l}static Es(e,i){let r=Be(),l=Be();for(const u of i.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new up(e,i.fromCache,r,l)}}class $C{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class JC{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return PS()?8:EN(sn())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,l){const u={result:null};return this.gs(e,i).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ps(e,i,l,r).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new $C;return this.ys(e,i,d).next((p=>{if(u.result=p,this.As)return this.ws(e,i,d,p.size)}))})).next((()=>u.result))}ws(e,i,r,l){return r.documentReadCount<this.Vs?(Fa()<=Pe.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Ga(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(Fa()<=Pe.DEBUG&&ae("QueryEngine","Query:",Ga(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.ds*l?(Fa()<=Pe.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Ga(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ki(i))):J.resolve())}gs(e,i){if(rv(i))return J.resolve(null);let r=ki(i);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Sm(i,null,"F"),r=ki(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const d=Be(...u);return this.fs.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((g=>{const y=this.bs(i,p);return this.Ss(i,y,d,g.readTime)?this.gs(e,Sm(i,null,"F")):this.Ds(e,y,i,g)}))))})))))}ps(e,i,r,l){return rv(i)||l.isEqual(Se.min())?J.resolve(null):this.fs.getDocuments(e,r).next((u=>{const d=this.bs(i,u);return this.Ss(i,d,r,l)?J.resolve(null):(Fa()<=Pe.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ga(i)),this.Ds(e,d,i,gN(l,Bl)).next((p=>p)))}))}bs(e,i){let r=new Lt(N1(e));return i.forEach(((l,u)=>{Dh(e,u)&&(r=r.add(u))})),r}Ss(e,i,r,l){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const u=e.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}ys(e,i,r){return Fa()<=Pe.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Ga(i)),this.fs.getDocumentsMatchingQuery(e,i,sr.min(),r)}Ds(e,i,r,l){return this.fs.getDocumentsMatchingQuery(e,r,l).next((u=>(i.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const hp="LocalStore",ZC=3e8;class WC{constructor(e,i,r,l){this.persistence=e,this.Cs=i,this.serializer=l,this.vs=new mt(Ue),this.Fs=new Zr((u=>tp(u)),np),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BC(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function eI(s,e,i,r){return new WC(s,e,i,r)}async function W1(s,e){const i=Ne(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((u=>(l=u,i.Os(e),i.mutationQueue.getAllMutationBatches(r)))).next((u=>{const d=[],p=[];let g=Be();for(const y of l){d.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}for(const y of u){p.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}return i.localDocuments.getDocuments(r,g).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function tI(s,e){const i=Ne(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),u=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,T){const x=y.batch,A=x.keys();let z=J.resolve();return A.forEach((Q=>{z=z.next((()=>T.getEntry(g,Q))).next((ee=>{const X=y.docVersions.get(Q);Je(X!==null,48541),ee.version.compareTo(X)<0&&(x.applyToRemoteDocument(ee,y),ee.isValidDocument()&&(ee.setReadTime(y.commitVersion),T.addEntry(ee)))}))})),z.next((()=>p.mutationQueue.removeMutationBatch(g,x)))})(i,r,e,u).next((()=>u.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let g=Be();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function eE(s){const e=Ne(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function nI(s,e){const i=Ne(s),r=e.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const p=[];e.targetChanges.forEach(((T,x)=>{const A=l.get(x);if(!A)return;p.push(i.li.removeMatchingKeys(u,T.removedDocuments,x).next((()=>i.li.addMatchingKeys(u,T.addedDocuments,x))));let z=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(x)!==null?z=z.withResumeToken(Zt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):T.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(T.resumeToken,r)),l=l.insert(x,z),(function(ee,X,he){return ee.resumeToken.approximateByteSize()===0||X.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=ZC?!0:he.addedDocuments.size+he.modifiedDocuments.size+he.removedDocuments.size>0})(A,z,T)&&p.push(i.li.updateTargetData(u,z))}));let g=hs(),y=Be();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(u,T))})),p.push(iI(u,d,e.documentUpdates).next((T=>{g=T.Bs,y=T.Ls}))),!r.isEqual(Se.min())){const T=i.li.getLastRemoteSnapshotVersion(u).next((x=>i.li.setTargetsMetadata(u,u.currentSequenceNumber,r)));p.push(T)}return J.waitFor(p).next((()=>d.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(i.vs=l,u)))}function iI(s,e,i){let r=Be(),l=Be();return i.forEach((u=>r=r.add(u))),e.getEntries(s,r).next((u=>{let d=hs();return i.forEach(((p,g)=>{const y=u.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),g.isNoDocument()&&g.version.isEqual(Se.min())?(e.removeEntry(p,g.readTime),d=d.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),d=d.insert(p,g)):ae(hp,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{Bs:d,Ls:l}}))}function sI(s,e){const i=Ne(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Zm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function rI(s,e){const i=Ne(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.li.getTargetData(r,e).next((u=>u?(l=u,J.resolve(l)):i.li.allocateTargetId(r).next((d=>(l=new Ws(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.li.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.vs.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(r.targetId,r),i.Fs.set(e,r.targetId)),r}))}async function Im(s,e,i){const r=Ne(s),l=r.vs.get(e),u=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",u,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!vo(d))throw d;ae(hp,`Failed to update sequence numbers for target ${e}: ${d}`)}r.vs=r.vs.remove(e),r.Fs.delete(l.target)}function _v(s,e,i){const r=Ne(s);let l=Se.min(),u=Be();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,y,T){const x=Ne(g),A=x.Fs.get(T);return A!==void 0?J.resolve(x.vs.get(A)):x.li.getTargetData(y,T)})(r,d,ki(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,p.targetId).next((g=>{u=g}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,e,i?l:Se.min(),i?u:Be()))).next((p=>(aI(r,GN(e),p),{documents:p,ks:u})))))}function aI(s,e,i){let r=s.Ms.get(e)||Se.min();i.forEach(((l,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Ms.set(e,r)}class vv{constructor(){this.activeTargetIds=JN()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oI{constructor(){this.vo=new vv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,r){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new vv,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class lI{Mo(e){}shutdown(){}}const bv="ConnectivityMonitor";class Ev{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ae(bv,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ae(bv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Bu=null;function Dm(){return Bu===null?Bu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Bu++,"0x"+Bu.toString(16)}const rm="RestConnection",cI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class uI{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${r}/databases/${l}`,this.$o=this.databaseId.database===uh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Wo(e,i,r,l,u){const d=Dm(),p=this.Qo(e,i.toUriEncodedString());ae(rm,`Sending RPC '${e}' ${d}:`,p,r);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,l,u);const{host:y}=new URL(p),T=mo(y);return this.zo(e,p,g,r,T).then((x=>(ae(rm,`Received RPC '${e}' ${d}: `,x),x)),(x=>{throw so(rm,`RPC '${e}' ${d} failed with error: `,x,"url: ",p,"request:",r),x}))}jo(e,i,r,l,u,d){return this.Wo(e,i,r,l,u)}Go(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+yo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,u)=>e[u]=l)),r&&r.headers.forEach(((l,u)=>e[u]=l))}Qo(e,i){const r=cI[e];let l=`${this.qo}/v1/${i}:${r}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class hI{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const en="WebChannelConnection",Nl=(s,e,i)=>{s.listen(e,(r=>{try{i(r)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Wa extends uI{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Wa.c_){const e=a1();Nl(e,r1.STAT_EVENT,(i=>{i.stat===vm.PROXY?ae(en,"STAT_EVENT: detected buffering proxy"):i.stat===vm.NOPROXY&&ae(en,"STAT_EVENT: detected no buffering proxy")})),Wa.c_=!0}}zo(e,i,r,l,u){const d=Dm();return new Promise(((p,g)=>{const y=new i1;y.setWithCredentials(!0),y.listenOnce(s1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Qu.NO_ERROR:const x=y.getResponseJson();ae(en,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(x)),p(x);break;case Qu.TIMEOUT:ae(en,`RPC '${e}' ${d} timed out`),g(new me(te.DEADLINE_EXCEEDED,"Request time out"));break;case Qu.HTTP_ERROR:const A=y.getStatus();if(ae(en,`RPC '${e}' ${d} failed with status:`,A,"response text:",y.getResponseText()),A>0){let z=y.getResponseJson();Array.isArray(z)&&(z=z[0]);const Q=z?.error;if(Q&&Q.status&&Q.message){const ee=(function(he){const Ee=he.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(Ee)>=0?Ee:te.UNKNOWN})(Q.status);g(new me(ee,Q.message))}else g(new me(te.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new me(te.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ae(en,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(l);ae(en,`RPC '${e}' ${d} sending request:`,l),y.send(i,"POST",T,r,15)}))}T_(e,i,r){const l=Dm(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,r),p.encodeInitMessageHeaders=!0;const y=u.join("");ae(en,`Creating RPC '${e}' stream ${l}: ${y}`,p);const T=d.createWebChannel(y,p);this.I_(T);let x=!1,A=!1;const z=new hI({Ho:Q=>{A?ae(en,`Not sending because RPC '${e}' stream ${l} is closed:`,Q):(x||(ae(en,`Opening RPC '${e}' stream ${l} transport.`),T.open(),x=!0),ae(en,`RPC '${e}' stream ${l} sending:`,Q),T.send(Q))},Jo:()=>T.close()});return Nl(T,Cl.EventType.OPEN,(()=>{A||(ae(en,`RPC '${e}' stream ${l} transport opened.`),z.i_())})),Nl(T,Cl.EventType.CLOSE,(()=>{A||(A=!0,ae(en,`RPC '${e}' stream ${l} transport closed`),z.o_(),this.E_(T))})),Nl(T,Cl.EventType.ERROR,(Q=>{A||(A=!0,so(en,`RPC '${e}' stream ${l} transport errored. Name:`,Q.name,"Message:",Q.message),z.o_(new me(te.UNAVAILABLE,"The operation could not be completed")))})),Nl(T,Cl.EventType.MESSAGE,(Q=>{if(!A){const ee=Q.data[0];Je(!!ee,16349);const X=ee,he=X?.error||X[0]?.error;if(he){ae(en,`RPC '${e}' stream ${l} received error:`,he);const Ee=he.status;let ge=(function(ue){const C=kt[ue];if(C!==void 0)return U1(C)})(Ee),Oe=he.message;ge===void 0&&(ge=te.INTERNAL,Oe="Unknown error status: "+Ee+" with message "+he.message),A=!0,z.o_(new me(ge,Oe)),T.close()}else ae(en,`RPC '${e}' stream ${l} received:`,ee),z.__(ee)}})),Wa.u_(),setTimeout((()=>{z.s_()}),0),z}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,r){super.Go(e,i,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return o1()}}function fI(s){return new Wa(s)}function am(){return typeof document<"u"?document:null}function Vh(s){return new gC(s,!0)}Wa.c_=!1;class tE{constructor(e,i,r=1e3,l=1.5,u=6e4){this.Ci=e,this.timerId=i,this.R_=r,this.A_=l,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&ae("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Tv="PersistentStream";class nE{constructor(e,i,r,l,u,d,p,g){this.Ci=e,this.b_=r,this.S_=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new tE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===te.RESOURCE_EXHAUSTED?(us(i.toString()),us("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{e((()=>{const l=new me(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,i){const r=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ae(Tv,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(ae(Tv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class dI extends nE{constructor(e,i,r,l,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=u}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=vC(this.serializer,e),r=(function(u){if(!("targetChange"in u))return Se.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Se.min():d.readTime?Oi(d.readTime):Se.min()})(e);return this.listener.J_(i,r)}Z_(e){const i={};i.database=Cm(this.serializer),i.addTarget=(function(u,d){let p;const g=d.target;if(p=wm(g)?{documents:TC(u,g)}:{query:xC(u,g).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=H1(u,d.resumeToken);const y=Am(u,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(Se.min())>0){p.readTime=gh(u,d.snapshotVersion.toTimestamp());const y=Am(u,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const r=SC(this.serializer,e);r&&(i.labels=r),this.K_(i)}X_(e){const i={};i.database=Cm(this.serializer),i.removeTarget=e,this.K_(i)}}class mI extends nE{constructor(e,i,r,l,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=EC(e.writeResults,e.commitTime),r=Oi(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=Cm(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>bC(this.serializer,r)))};this.K_(i)}}class pI{}class gI extends pI{constructor(e,i,r,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new me(te.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Wo(e,Rm(i,r),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(te.UNKNOWN,u.toString())}))}jo(e,i,r,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(e,Rm(i,r),l,d,p,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new me(te.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function yI(s,e,i,r){return new gI(s,e,i,r)}class _I{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(us(i),this.aa=!1):ae("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const $r="RemoteStore";class vI{constructor(e,i,r,l,u){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{ea(this)&&(ae($r,"Restarting streams for network reachability change."),await(async function(g){const y=Ne(g);y.Ea.add(4),await ic(y),y.Va.set("Unknown"),y.Ea.delete(4),await jh(y)})(this))}))})),this.Va=new _I(r,l)}}async function jh(s){if(ea(s))for(const e of s.Ra)await e(!0)}async function ic(s){for(const e of s.Ra)await e(!1)}function iE(s,e){const i=Ne(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),pp(i)?mp(i):bo(i).O_()&&dp(i,e))}function fp(s,e){const i=Ne(s),r=bo(i);i.Ia.delete(e),r.O_()&&sE(i,e),i.Ia.size===0&&(r.O_()?r.L_():ea(i)&&i.Va.set("Unknown"))}function dp(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}bo(s).Z_(e)}function sE(s,e){s.da.$e(e),bo(s).X_(e)}function mp(s){s.da=new fC({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),bo(s).start(),s.Va.ua()}function pp(s){return ea(s)&&!bo(s).x_()&&s.Ia.size>0}function ea(s){return Ne(s).Ea.size===0}function rE(s){s.da=void 0}async function bI(s){s.Va.set("Online")}async function EI(s){s.Ia.forEach(((e,i)=>{dp(s,e)}))}async function TI(s,e){rE(s),pp(s)?(s.Va.ha(e),mp(s)):s.Va.set("Unknown")}async function xI(s,e,i){if(s.Va.set("Online"),e instanceof q1&&e.state===2&&e.cause)try{await(async function(l,u){const d=u.cause;for(const p of u.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(s,e)}catch(r){ae($r,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _h(s,r)}else if(e instanceof Ju?s.da.Xe(e):e instanceof B1?s.da.st(e):s.da.tt(e),!i.isEqual(Se.min()))try{const r=await eE(s.localStore);i.compareTo(r)>=0&&await(function(u,d){const p=u.da.Tt(d);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const T=u.Ia.get(y);T&&u.Ia.set(y,T.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,y)=>{const T=u.Ia.get(g);if(!T)return;u.Ia.set(g,T.withResumeToken(Zt.EMPTY_BYTE_STRING,T.snapshotVersion)),sE(u,g);const x=new Ws(T.target,g,y,T.sequenceNumber);dp(u,x)})),u.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){ae($r,"Failed to raise snapshot:",r),await _h(s,r)}}async function _h(s,e,i){if(!vo(e))throw e;s.Ea.add(1),await ic(s),s.Va.set("Offline"),i||(i=()=>eE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ae($r,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await jh(s)}))}function aE(s,e){return e().catch((i=>_h(s,i,e)))}async function zh(s){const e=Ne(s),i=lr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Zm;for(;wI(e);)try{const l=await sI(e.localStore,r);if(l===null){e.Ta.length===0&&i.L_();break}r=l.batchId,SI(e,l)}catch(l){await _h(e,l)}oE(e)&&lE(e)}function wI(s){return ea(s)&&s.Ta.length<10}function SI(s,e){s.Ta.push(e);const i=lr(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function oE(s){return ea(s)&&!lr(s).x_()&&s.Ta.length>0}function lE(s){lr(s).start()}async function AI(s){lr(s).ra()}async function RI(s){const e=lr(s);for(const i of s.Ta)e.ea(i.mutations)}async function NI(s,e,i){const r=s.Ta.shift(),l=rp.from(r,e,i);await aE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await zh(s)}async function CI(s,e){e&&lr(s).Y_&&await(async function(r,l){if((function(d){return cC(d)&&d!==te.ABORTED})(l.code)){const u=r.Ta.shift();lr(r).B_(),await aE(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,l))),await zh(r)}})(s,e),oE(s)&&lE(s)}async function xv(s,e){const i=Ne(s);i.asyncQueue.verifyOperationInProgress(),ae($r,"RemoteStore received new credentials");const r=ea(i);i.Ea.add(3),await ic(i),r&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await jh(i)}async function II(s,e){const i=Ne(s);e?(i.Ea.delete(2),await jh(i)):e||(i.Ea.add(2),await ic(i),i.Va.set("Unknown"))}function bo(s){return s.ma||(s.ma=(function(i,r,l){const u=Ne(i);return u.sa(),new dI(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Zo:bI.bind(null,s),Yo:EI.bind(null,s),t_:TI.bind(null,s),J_:xI.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),pp(s)?mp(s):s.Va.set("Unknown")):(await s.ma.stop(),rE(s))}))),s.ma}function lr(s){return s.fa||(s.fa=(function(i,r,l){const u=Ne(i);return u.sa(),new mI(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:AI.bind(null,s),t_:CI.bind(null,s),ta:RI.bind(null,s),na:NI.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await zh(s)):(await s.fa.stop(),s.Ta.length>0&&(ae($r,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class gp{constructor(e,i,r,l,u){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=u,this.deferred=new Fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,l,u){const d=Date.now()+r,p=new gp(e,i,d,l,u);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yp(s,e){if(us("AsyncQueue",`${e}: ${s}`),vo(s))return new me(te.UNAVAILABLE,`${e}: ${s}`);throw s}class eo{static emptySet(e){return new eo(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||_e.comparator(i.key,r.key):(i,r)=>_e.comparator(i.key,r.key),this.keyedMap=Il(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof eo)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=r.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new eo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class wv{constructor(){this.ga=new mt(_e.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Te(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class co{constructor(e,i,r,l,u,d,p,g,y){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,i,r,l,u){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new co(e,i,eo.emptySet(i),d,r,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ih(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class DI{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class kI{constructor(){this.queries=Sv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Ne(i),u=l.queries;l.queries=Sv(),u.forEach(((d,p)=>{for(const g of p.ba)g.onError(r)}))})(this,new me(te.ABORTED,"Firestore shutting down"))}}function Sv(){return new Zr((s=>R1(s)),Ih)}async function OI(s,e){const i=Ne(s);let r=3;const l=e.query;let u=i.queries.get(l);u?!u.Sa()&&e.Da()&&(r=2):(u=new DI,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await i.onListen(l,!0);break;case 1:u.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=yp(d,`Initialization of query '${Ga(e.query)}' failed`);return void e.onError(p)}i.queries.set(l,u),u.ba.push(e),e.va(i.onlineState),u.wa&&e.Fa(u.wa)&&_p(i)}async function MI(s,e){const i=Ne(s),r=e.query;let l=3;const u=i.queries.get(r);if(u){const d=u.ba.indexOf(e);d>=0&&(u.ba.splice(d,1),u.ba.length===0?l=e.Da()?0:1:!u.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function VI(s,e){const i=Ne(s);let r=!1;for(const l of e){const u=l.query,d=i.queries.get(u);if(d){for(const p of d.ba)p.Fa(l)&&(r=!0);d.wa=l}}r&&_p(i)}function jI(s,e,i){const r=Ne(s),l=r.queries.get(e);if(l)for(const u of l.ba)u.onError(i);r.queries.delete(e)}function _p(s){s.Ca.forEach((e=>{e.next()}))}var km,Av;(Av=km||(km={})).Ma="default",Av.Cache="cache";class zI{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new co(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=co.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==km.Cache}}class cE{constructor(e){this.key=e}}class uE{constructor(e){this.key=e}}class LI{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Be(),this.mutatedKeys=Be(),this.eu=N1(e),this.tu=new eo(this.eu)}get nu(){return this.Za}ru(e,i){const r=i?i.iu:new wv,l=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((T,x)=>{const A=l.get(T),z=Dh(this.query,x)?x:null,Q=!!A&&this.mutatedKeys.has(A.key),ee=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let X=!1;A&&z?A.data.isEqual(z.data)?Q!==ee&&(r.track({type:3,doc:z}),X=!0):this.su(A,z)||(r.track({type:2,doc:z}),X=!0,(g&&this.eu(z,g)>0||y&&this.eu(z,y)<0)&&(p=!0)):!A&&z?(r.track({type:0,doc:z}),X=!0):A&&!z&&(r.track({type:1,doc:A}),X=!0,(g||y)&&(p=!0)),X&&(z?(d=d.add(z),u=ee?u.add(T):u.delete(T)):(d=d.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Ss:p,mutatedKeys:u}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,x)=>(function(z,Q){const ee=X=>{switch(X){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Vt:X})}};return ee(z)-ee(Q)})(T.type,x.type)||this.eu(T.doc,x.doc))),this.ou(r),l=l??!1;const p=i&&!l?this._u():[],g=this.Ya.size===0&&this.current&&!l?1:0,y=g!==this.Xa;return this.Xa=g,d.length!==0||y?{snapshot:new co(this.query,e.tu,u,d,e.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new wv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Be(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const i=[];return e.forEach((r=>{this.Ya.has(r)||i.push(new uE(r))})),this.Ya.forEach((r=>{e.has(r)||i.push(new cE(r))})),i}cu(e){this.Za=e.ks,this.Ya=Be();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return co.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const vp="SyncEngine";class PI{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class UI{constructor(e){this.key=e,this.hu=!1}}class BI{constructor(e,i,r,l,u,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Zr((p=>R1(p)),Ih),this.Iu=new Map,this.Eu=new Set,this.Ru=new mt(_e.comparator),this.Au=new Map,this.Vu=new lp,this.du={},this.mu=new Map,this.fu=lo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function qI(s,e,i=!0){const r=gE(s);let l;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await hE(r,e,i,!0),l}async function HI(s,e){const i=gE(s);await hE(i,e,!0,!1)}async function hE(s,e,i,r){const l=await rI(s.localStore,ki(e)),u=l.targetId,d=s.sharedClientState.addLocalQueryTarget(u,i);let p;return r&&(p=await FI(s,e,u,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&iE(s.remoteStore,l),p}async function FI(s,e,i,r,l){s.pu=(x,A,z)=>(async function(ee,X,he,Ee){let ge=X.view.ru(he);ge.Ss&&(ge=await _v(ee.localStore,X.query,!1).then((({documents:C})=>X.view.ru(C,ge))));const Oe=Ee&&Ee.targetChanges.get(X.targetId),Fe=Ee&&Ee.targetMismatches.get(X.targetId)!=null,ue=X.view.applyChanges(ge,ee.isPrimaryClient,Oe,Fe);return Nv(ee,X.targetId,ue.au),ue.snapshot})(s,x,A,z);const u=await _v(s.localStore,e,!0),d=new LI(e,u.ks),p=d.ru(u.documents),g=nc.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),y=d.applyChanges(p,s.isPrimaryClient,g);Nv(s,i,y.au);const T=new PI(e,i,d);return s.Tu.set(e,T),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),y.snapshot}async function GI(s,e,i){const r=Ne(s),l=r.Tu.get(e),u=r.Iu.get(l.targetId);if(u.length>1)return r.Iu.set(l.targetId,u.filter((d=>!Ih(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Im(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&fp(r.remoteStore,l.targetId),Om(r,l.targetId)})).catch(_o)):(Om(r,l.targetId),await Im(r.localStore,l.targetId,!0))}async function KI(s,e){const i=Ne(s),r=i.Tu.get(e),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),fp(i.remoteStore,r.targetId))}async function QI(s,e,i){const r=e4(s);try{const l=await(function(d,p){const g=Ne(d),y=ut.now(),T=p.reduce(((z,Q)=>z.add(Q.key)),Be());let x,A;return g.persistence.runTransaction("Locally write mutations","readwrite",(z=>{let Q=hs(),ee=Be();return g.xs.getEntries(z,T).next((X=>{Q=X,Q.forEach(((he,Ee)=>{Ee.isValidDocument()||(ee=ee.add(he))}))})).next((()=>g.localDocuments.getOverlayedDocuments(z,Q))).next((X=>{x=X;const he=[];for(const Ee of p){const ge=sC(Ee,x.get(Ee.key).overlayedDocument);ge!=null&&he.push(new Wr(Ee.key,ge,b1(ge.value.mapValue),as.exists(!0)))}return g.mutationQueue.addMutationBatch(z,y,he,p)})).next((X=>{A=X;const he=X.applyToLocalDocumentSet(x,ee);return g.documentOverlayCache.saveOverlays(z,X.batchId,he)}))})).then((()=>({batchId:A.batchId,changes:I1(x)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,g){let y=d.du[d.currentUser.toKey()];y||(y=new mt(Ue)),y=y.insert(p,g),d.du[d.currentUser.toKey()]=y})(r,l.batchId,i),await sc(r,l.changes),await zh(r.remoteStore)}catch(l){const u=yp(l,"Failed to persist write");i.reject(u)}}async function fE(s,e){const i=Ne(s);try{const r=await nI(i.localStore,e);e.targetChanges.forEach(((l,u)=>{const d=i.Au.get(u);d&&(Je(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Je(d.hu,14607):l.removedDocuments.size>0&&(Je(d.hu,42227),d.hu=!1))})),await sc(i,r,e)}catch(r){await _o(r)}}function Rv(s,e,i){const r=Ne(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((u,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const g=Ne(d);g.onlineState=p;let y=!1;g.queries.forEach(((T,x)=>{for(const A of x.ba)A.va(p)&&(y=!0)})),y&&_p(g)})(r.eventManager,e),l.length&&r.Pu.J_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function YI(s,e,i){const r=Ne(s);r.sharedClientState.updateQueryState(e,"rejected",i);const l=r.Au.get(e),u=l&&l.key;if(u){let d=new mt(_e.comparator);d=d.insert(u,nn.newNoDocument(u,Se.min()));const p=Be().add(u),g=new Mh(Se.min(),new Map,new mt(Ue),d,p);await fE(r,g),r.Ru=r.Ru.remove(u),r.Au.delete(e),bp(r)}else await Im(r.localStore,e,!1).then((()=>Om(r,e,i))).catch(_o)}async function XI(s,e){const i=Ne(s),r=e.batch.batchId;try{const l=await tI(i.localStore,e);mE(i,r,null),dE(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await sc(i,l)}catch(l){await _o(l)}}async function $I(s,e,i){const r=Ne(s);try{const l=await(function(d,p){const g=Ne(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return g.mutationQueue.lookupMutationBatch(y,p).next((x=>(Je(x!==null,37113),T=x.keys(),g.mutationQueue.removeMutationBatch(y,x)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,T,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>g.localDocuments.getDocuments(y,T)))}))})(r.localStore,e);mE(r,e,i),dE(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await sc(r,l)}catch(l){await _o(l)}}function dE(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function mE(s,e,i){const r=Ne(s);let l=r.du[r.currentUser.toKey()];if(l){const u=l.get(e);u&&(i?u.reject(i):u.resolve(),l=l.remove(e)),r.du[r.currentUser.toKey()]=l}}function Om(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||pE(s,r)}))}function pE(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(fp(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),bp(s))}function Nv(s,e,i){for(const r of i)r instanceof cE?(s.Vu.addReference(r.key,e),JI(s,r)):r instanceof uE?(ae(vp,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||pE(s,r.key)):Te(19791,{wu:r})}function JI(s,e){const i=e.key,r=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(r)||(ae(vp,"New document in limbo: "+i),s.Eu.add(r),bp(s))}function bp(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new _e(dt.fromString(e)),r=s.fu.next();s.Au.set(r,new UI(i)),s.Ru=s.Ru.insert(i,r),iE(s.remoteStore,new Ws(ki(ip(i.path)),r,"TargetPurposeLimboResolution",Ah.ce))}}async function sc(s,e,i){const r=Ne(s),l=[],u=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,g)=>{d.push(r.pu(g,e,i).then((y=>{if((y||i)&&r.isPrimaryClient){const T=y?!y.fromCache:i?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(y){l.push(y);const T=up.Es(g.targetId,y);u.push(T)}})))})),await Promise.all(d),r.Pu.J_(l),await(async function(g,y){const T=Ne(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>J.forEach(y,(A=>J.forEach(A.Ts,(z=>T.persistence.referenceDelegate.addReference(x,A.targetId,z))).next((()=>J.forEach(A.Is,(z=>T.persistence.referenceDelegate.removeReference(x,A.targetId,z)))))))))}catch(x){if(!vo(x))throw x;ae(hp,"Failed to update sequence numbers: "+x)}for(const x of y){const A=x.targetId;if(!x.fromCache){const z=T.vs.get(A),Q=z.snapshotVersion,ee=z.withLastLimboFreeSnapshotVersion(Q);T.vs=T.vs.insert(A,ee)}}})(r.localStore,u))}async function ZI(s,e){const i=Ne(s);if(!i.currentUser.isEqual(e)){ae(vp,"User change. New user:",e.toKey());const r=await W1(i.localStore,e);i.currentUser=e,(function(u,d){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new me(te.CANCELLED,d))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await sc(i,r.Ns)}}function WI(s,e){const i=Ne(s),r=i.Au.get(e);if(r&&r.hu)return Be().add(r.key);{let l=Be();const u=i.Iu.get(e);if(!u)return l;for(const d of u){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function gE(s){const e=Ne(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=fE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=YI.bind(null,e),e.Pu.J_=VI.bind(null,e.eventManager),e.Pu.yu=jI.bind(null,e.eventManager),e}function e4(s){const e=Ne(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$I.bind(null,e),e}class vh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return eI(this.persistence,new JC,e.initialUser,this.serializer)}Cu(e){return new Z1(cp.Vi,this.serializer)}Du(e){return new oI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vh.provider={build:()=>new vh};class t4 extends vh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Je(this.persistence.referenceDelegate instanceof yh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new jC(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new Z1((r=>yh.Vi(r,i)),this.serializer)}}class Mm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Rv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZI.bind(null,this.syncEngine),await II(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new kI})()}createDatastore(e){const i=Vh(e.databaseInfo.databaseId),r=fI(e.databaseInfo);return yI(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,l,u,d,p){return new vI(r,l,u,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>Rv(this.syncEngine,i,0)),(function(){return Ev.v()?new Ev:new lI})())}createSyncEngine(e,i){return(function(l,u,d,p,g,y,T){const x=new BI(l,u,d,p,g,y);return T&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Ne(i);ae($r,"RemoteStore shutting down."),r.Ea.add(5),await ic(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Mm.provider={build:()=>new Mm};class n4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):us("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const cr="FirestoreClient";class i4{constructor(e,i,r,l,u){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this._databaseInfo=l,this.user=tn.UNAUTHENTICATED,this.clientId=$m.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async d=>{ae(cr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ae(cr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=yp(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function om(s,e){s.asyncQueue.verifyOperationInProgress(),ae(cr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await W1(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Cv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await s4(s);ae(cr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>xv(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>xv(e.remoteStore,l))),s._onlineComponents=e}async function s4(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ae(cr,"Using user provided OfflineComponentProvider");try{await om(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===te.FAILED_PRECONDITION||l.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;so("Error using user provided cache. Falling back to memory cache: "+i),await om(s,new vh)}}else ae(cr,"Using default OfflineComponentProvider"),await om(s,new t4(void 0));return s._offlineComponents}async function yE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ae(cr,"Using user provided OnlineComponentProvider"),await Cv(s,s._uninitializedComponentsProvider._online)):(ae(cr,"Using default OnlineComponentProvider"),await Cv(s,new Mm))),s._onlineComponents}function r4(s){return yE(s).then((e=>e.syncEngine))}async function Iv(s){const e=await yE(s),i=e.eventManager;return i.onListen=qI.bind(null,e.syncEngine),i.onUnlisten=GI.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=HI.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=KI.bind(null,e.syncEngine),i}function a4(s,e,i,r){const l=new n4(r),u=new zI(e,l,i);return s.asyncQueue.enqueueAndForget((async()=>OI(await Iv(s),u))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>MI(await Iv(s),u)))}}function o4(s,e){const i=new Fr;return s.asyncQueue.enqueueAndForget((async()=>QI(await r4(s),e,i))),i.promise}function _E(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const l4="ComponentProvider",Dv=new Map;function c4(s,e,i,r,l){return new AN(s,e,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,_E(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,r)}const vE="firestore.googleapis.com",kv=!0;class Ov{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vE,this.ssl=kv}else this.host=e.host,this.ssl=e.ssl??kv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=J1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<MC)throw new me(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_E(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new me(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new me(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new me(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ep{constructor(e,i,r,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ov({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ov(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new sN;switch(r.type){case"firstParty":return new lN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new me(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=Dv.get(i);r&&(ae(l4,"Removing Datastore"),Dv.delete(i),r.terminate())})(this),Promise.resolve()}}function u4(s,e,i,r={}){s=Za(s,Ep);const l=mo(e),u=s._getSettings(),d={...u,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;l&&(yb(`https://${p}`),_b("Firestore",!0)),u.host!==vE&&u.host!==p&&so("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:l,emulatorOptions:r};if(!Kr(g,d)&&(s._setSettings(g),r.mockUserToken)){let y,T;if(typeof r.mockUserToken=="string")y=r.mockUserToken,T=tn.MOCK_USER;else{y=IS(r.mockUserToken,s._app?.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new me(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new tn(x)}s._authCredentials=new rN(new c1(y,T))}}class Lh{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Lh(this.firestore,e,this._query)}}class Ht{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ql(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ht(this.firestore,e,this._key)}toJSON(){return{type:Ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(ec(i,Ht._jsonSchema))return new Ht(e,r||null,new _e(dt.fromString(i.referencePath)))}}Ht._jsonSchemaVersion="firestore/documentReference/1.0",Ht._jsonSchema={type:Ot("string",Ht._jsonSchemaVersion),referencePath:Ot("string")};class Ql extends Lh{constructor(e,i,r){super(e,i,ip(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ht(this.firestore,null,new _e(e))}withConverter(e){return new Ql(this.firestore,e,this._path)}}function Mv(s,e,...i){if(s=si(s),arguments.length===1&&(e=$m.newId()),mN("doc","path",e),s instanceof Ep){const r=dt.fromString(e,...i);return K_(r),new Ht(s,null,new _e(r))}{if(!(s instanceof Ht||s instanceof Ql))throw new me(te.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(dt.fromString(e,...i));return K_(r),new Ht(s.firestore,s instanceof Ql?s.converter:null,new _e(r))}}const Vv="AsyncQueue";class jv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new tE(this,"async_queue_retry"),this._c=()=>{const r=am();r&&ae(Vv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=am();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=am();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Fr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!vo(e))throw e;ae(Vv,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,us("INTERNAL UNHANDLED ERROR: ",zv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=gp.createAndSchedule(this,e,i,r,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&Te(47125,{Pc:zv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function zv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class bh extends Ep{constructor(e,i,r,l){super(e,i,r,l),this.type="firestore",this._queue=new jv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jv(e),this._firestoreClient=void 0,await e}}}function h4(s,e){const i=typeof s=="object"?s:Tb(),r=typeof s=="string"?s:uh,l=Pm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const u=NS("firestore");u&&u4(l,...u)}return l}function bE(s){if(s._terminated)throw new me(te.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||f4(s),s._firestoreClient}function f4(s){const e=s._freezeSettings(),i=c4(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new i4(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(s._componentsProvider))}class Un{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Un(Zt.fromBase64String(e))}catch(i){throw new me(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Un(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ec(e,Un._jsonSchema))return Un.fromBase64String(e.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:Ot("string",Un._jsonSchemaVersion),bytes:Ot("string")};class EE{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new me(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class TE{constructor(e){this._methodName=e}}class Mi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new me(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new me(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mi._jsonSchemaVersion}}static fromJSON(e){if(ec(e,Mi._jsonSchema))return new Mi(e.latitude,e.longitude)}}Mi._jsonSchemaVersion="firestore/geoPoint/1.0",Mi._jsonSchema={type:Ot("string",Mi._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};class ii{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ii._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ec(e,ii._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new ii(e.vectorValues);throw new me(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ii._jsonSchemaVersion="firestore/vectorValue/1.0",ii._jsonSchema={type:Ot("string",ii._jsonSchemaVersion),vectorValues:Ot("object")};const d4=/^__.*__$/;class m4{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Wr(e,this.data,this.fieldMask,i,this.fieldTransforms):new tc(e,this.data,i,this.fieldTransforms)}}function xE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{dataSource:s})}}class Tp{constructor(e,i,r,l,u,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Tp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const i=this.path?.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Eh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(xE(this.dataSource)&&d4.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class p4{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Vh(e)}createContext(e,i,r,l=!1){return new Tp({dataSource:e,methodName:i,targetDoc:r,path:Jt.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function g4(s){const e=s._freezeSettings(),i=Vh(s._databaseId);return new p4(s._databaseId,!!e.ignoreUndefinedProperties,i)}function y4(s,e,i,r,l,u={}){const d=s.createContext(u.merge||u.mergeFields?2:0,e,i,l);RE("Data must be an object, but it was:",d,r);const p=SE(r,d);let g,y;if(u.merge)g=new ni(d.fieldMask),y=d.fieldTransforms;else if(u.mergeFields){const T=[];for(const x of u.mergeFields){const A=xp(e,x,i);if(!d.contains(A))throw new me(te.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);b4(T,A)||T.push(A)}g=new ni(T),y=d.fieldTransforms.filter((x=>g.covers(x.field)))}else g=null,y=d.fieldTransforms;return new m4(new Pn(p),g,y)}function wE(s,e){if(AE(s=si(s)))return RE("Unsupported field value:",e,s),SE(s,e);if(s instanceof TE)return(function(r,l){if(!xE(l.dataSource))throw l.createError(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,l){const u=[];let d=0;for(const p of r){let g=wE(p,l.childContextForArray(d));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),d++}return{arrayValue:{values:u}}})(s,e)}return(function(r,l){if((r=si(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ZN(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=ut.fromDate(r);return{timestampValue:gh(l.serializer,u)}}if(r instanceof ut){const u=new ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:gh(l.serializer,u)}}if(r instanceof Mi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Un)return{bytesValue:H1(l.serializer,r._byteString)};if(r instanceof Ht){const u=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(u))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:op(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof ii)return(function(d,p){const g=d instanceof ii?d.toArray():d;return{mapValue:{fields:{[_1]:{stringValue:v1},[hh]:{arrayValue:{values:g.map((T=>{if(typeof T!="number")throw p.createError("VectorValues must only contain numeric values.");return sp(p.serializer,T)}))}}}}}})(r,l);if($1(r))return r._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Jm(r)}`)})(s,e)}function SE(s,e){const i={};return f1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Jr(s,((r,l)=>{const u=wE(l,e.childContextForField(r));u!=null&&(i[r]=u)})),{mapValue:{fields:i}}}function AE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ut||s instanceof Mi||s instanceof Un||s instanceof Ht||s instanceof TE||s instanceof ii||$1(s))}function RE(s,e,i){if(!AE(i)||!u1(i)){const r=Jm(i);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function xp(s,e,i){if((e=si(e))instanceof EE)return e._internalPath;if(typeof e=="string")return v4(s,e);throw Eh("Field path arguments must be of type string or ",s,!1,void 0,i)}const _4=new RegExp("[~\\*/\\[\\]]");function v4(s,e,i){if(e.search(_4)>=0)throw Eh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new EE(...e.split("."))._internalPath}catch{throw Eh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Eh(s,e,i,r,l){const u=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||d)&&(g+=" (found",u&&(g+=` in field ${r}`),d&&(g+=` in document ${l}`),g+=")"),new me(te.INVALID_ARGUMENT,p+s+g)}function b4(s,e){return s.some((i=>i.isEqual(e)))}class E4{convertValue(e,i="none"){switch(or(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(ar(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Jr(e,((l,u)=>{r[l]=this.convertValue(u,i)})),r}convertVectorValue(e){const i=e.fields?.[hh].arrayValue?.values?.map((r=>Tt(r.doubleValue)));return new ii(i)}convertGeoPoint(e){return new Mi(Tt(e.latitude),Tt(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Nh(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(ql(e));default:return null}}convertTimestamp(e){const i=rr(e);return new ut(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=dt.fromString(e);Je(X1(r),9688,{name:e});const l=new Hl(r.get(1),r.get(3)),u=new _e(r.popFirst(5));return l.isEqual(i)||us(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}class NE extends E4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Un(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,i)}}const Lv="@firebase/firestore",Pv="4.10.0";function Uv(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const u of r)if(u in l&&typeof l[u]=="function")return!0;return!1})(s,["next","error","complete"])}class CE{constructor(e,i,r,l,u){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new T4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(xp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class T4 extends CE{data(){return super.data()}}function x4(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new me(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function w4(s,e,i){let r;return r=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,r}class kl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gr extends CE{constructor(e,i,r,l,u,d){super(e,i,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Zu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(xp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Gr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Gr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gr._jsonSchema={type:Ot("string",Gr._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class Zu extends Gr{data(e={}){return super.data(e)}}class to{constructor(e,i,r,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new kl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new Zu(this._firestore,this._userDataWriter,r.key,r,new kl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new me(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const g=new Zu(l._firestore,l._userDataWriter,p.doc.key,p.doc,new kl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new Zu(l._firestore,l._userDataWriter,p.doc.key,p.doc,new kl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,T=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:S4(p.type),doc:g,oldIndex:y,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=to._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=$m.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function S4(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:s})}}to._jsonSchemaVersion="firestore/querySnapshot/1.0",to._jsonSchema={type:Ot("string",to._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};function A4(s,e,i){s=Za(s,Ht);const r=Za(s.firestore,bh),l=w4(s.converter,e,i),u=g4(r);return N4(r,[y4(u,"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,as.none())])}function R4(s,...e){s=si(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Uv(e[r])||(i=e[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Uv(e[r])){const y=e[r];e[r]=y.next?.bind(y),e[r+1]=y.error?.bind(y),e[r+2]=y.complete?.bind(y)}let u,d,p;if(s instanceof Ht)d=Za(s.firestore,bh),p=ip(s._key.path),u={next:y=>{e[r]&&e[r](C4(d,s,y))},error:e[r+1],complete:e[r+2]};else{const y=Za(s,Lh);d=Za(y.firestore,bh),p=y._query;const T=new NE(d);u={next:x=>{e[r]&&e[r](new to(d,T,y,x))},error:e[r+1],complete:e[r+2]},x4(s._query)}const g=bE(d);return a4(g,p,l,u)}function N4(s,e){const i=bE(s);return o4(i,e)}function C4(s,e,i){const r=i.docs.get(e._key),l=new NE(s);return new Gr(s,l,e._key,r,new kl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){iN(po),no(new Qr("firestore",((r,{instanceIdentifier:l,options:u})=>{const d=r.getProvider("app").getImmediate(),p=new bh(new aN(r.getProvider("auth-internal")),new cN(d,r.getProvider("app-check-internal")),RN(d,l),d);return u={useFetchStreams:i,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),nr(Lv,Pv,e),nr(Lv,Pv,"esm2020")})();const I4={apiKey:"AIzaSyDe241_eRgp3d51MEkBFRTutys7PXDJlVU",authDomain:"presupuestos-dlkom.firebaseapp.com",projectId:"presupuestos-dlkom",storageBucket:"presupuestos-dlkom.firebasestorage.app",messagingSenderId:"168092950302",appId:"1:168092950302:web:d1c7eed51f4e16d739730f",measurementId:"G-D6B1DFTN0L"},IE=Eb(I4);tN(IE);new is;const Bv=h4(IE),qv={client:lm,items:[],notes:Kv,ivaRate:.21,company:Fv,dynamicGroups:qu,paymentTerms:Gv,showPrices:!0,companyLocked:!0};function D4(){const[s,e]=je.useState(null),[i,r]=je.useState(qv),[l,u]=je.useState(!0),[d,p]=je.useState(!1),g=je.useRef(!1);je.useEffect(()=>{let z=new URLSearchParams(window.location.search).get("id");if(!z){const Q=window.location.hash.replace("#","");Q.startsWith("id=")&&(z=Q.split("=")[1])}if(!z){z=crypto.randomUUID().slice(0,8);const Q=`${window.location.pathname}?id=${z}`;window.history.replaceState({},"",Q)}e(z)},[]),je.useEffect(()=>{if(!s)return;u(!0);const A=Mv(Bv,"budgets",s),z=R4(A,Q=>{if(Q.exists()){const ee=Q.data(),X={...qv,...ee};g.current=!0,r(X)}u(!1)},Q=>{console.error("Sync error:",Q),u(!1)});return()=>z()},[s]);const y=je.useRef(null),T=je.useCallback(async A=>{if(s){p(!0);try{await A4(Mv(Bv,"budgets",s),A,{merge:!0})}catch(z){console.error("Error saving to Firestore:",z)}finally{p(!1)}}},[s]),x=je.useCallback(A=>{r(z=>{const Q={...z,...A};return y.current&&clearTimeout(y.current),y.current=setTimeout(()=>{T(Q)},1e3),Q})},[T]);return{budget:i,updateBudget:x,loading:l,isSaving:d,budgetId:s}}function k4(){const{budget:s,updateBudget:e,loading:i,isSaving:r}=D4(),[l,u]=je.useState(!1),[d,p]=je.useState(!1),g=s?.company||Fv,y=s?.ivaRate??.21,T=s?.showPrices??!0,x=s?.notes||Kv,A=s?.client||lm,z=s?.items||[],Q=s?.companyLocked??!0,ee=s?.paymentTerms||Gv,X=s?.dynamicGroups||qu,he=(re,U)=>{e({client:{...A,[re]:U}})},Ee=()=>{const re=X[0]||qu[0],U={id:crypto.randomUUID(),group:re.name,category:re.categories[0].name,description:"",quantity:1,costPrice:0,salePrice:0};e({items:[...z,U]})},ge=(re,U,W)=>{const Z=z.map(de=>{if(de.id===re){const xe={...de,[U]:W};if(U==="group"){const D=X.find(K=>K.name===W)||qu.find(K=>K.name===W);D&&D.categories.length>0&&(xe.category=D.categories[0].name)}return xe}return de});e({items:Z})},Oe=re=>{confirm("Ests seguro de que quieres eliminar esta partida?")&&e({items:z.filter(U=>U.id!==re)})},Fe=()=>{confirm("Ests seguro de que quieres borrar todo el presupuesto?")&&e({client:lm,items:[]})},[ue,C]=je.useState(!1),S=async()=>{C(!0),setTimeout(()=>C(!1),2e3),await R()},R=async()=>{const U=JSON.stringify({client:A,items:z,notes:x,ivaRate:y,company:g,dynamicGroups:X,version:"1.0"},null,2),W=`Presupuesto_${A.name||"SinNombre"}_${new Date().toISOString().split("T")[0]}.json`;if("showSaveFilePicker"in window)try{const K=await(await window.showSaveFilePicker({suggestedName:W,types:[{description:"Archivo de Presupuesto",accept:{"application/json":[".json"]}}]})).createWritable();await K.write(U),await K.close();return}catch(D){if(D.name==="AbortError")return}const Z=new Blob([U],{type:"application/json"}),de=URL.createObjectURL(Z),xe=document.createElement("a");xe.href=de,xe.download=W,xe.click(),URL.revokeObjectURL(de)},M=re=>{const U=re.target.files?.[0];if(!U)return;const W=new FileReader;W.onload=Z=>{try{const de=JSON.parse(Z.target?.result),xe={};de.client&&(xe.client=de.client),de.items&&(xe.items=de.items),de.notes&&(xe.notes=de.notes),de.ivaRate&&(xe.ivaRate=de.ivaRate),de.company&&(xe.company=de.company),de.dynamicGroups&&(xe.dynamicGroups=de.dynamicGroups),e(xe),alert("Presupuesto cargado correctamente")}catch{alert("Error al cargar el archivo. Formato no vlido.")}},W.readAsText(U),re.target.value=""},k=()=>{window.print()},V=re=>{const U=re.target.files?.[0];if(U){const W=new FileReader;W.onloadend=()=>{e({company:{...g,logo:W.result}})},W.readAsDataURL(U)}},N=re=>{const U=re.target.files?.[0];if(U){const W=new FileReader;W.onloadend=()=>{e({company:{...g,signature:W.result}})},W.readAsDataURL(U)}},Ke={base:z.reduce((re,U)=>re+U.salePrice*U.quantity,0),get iva(){return this.base*y},get total(){return this.base*(1+y)}};return i?v.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:v.jsxs("div",{className:"text-center space-y-4",children:[v.jsx(h_,{className:"w-10 h-10 animate-spin text-primary-600 mx-auto"}),v.jsx("p",{className:"text-slate-500 font-medium",children:"Sincronizando presupuesto..."})]})}):v.jsxs("div",{className:"min-h-screen bg-slate-50 text-slate-900 pb-20",children:[v.jsx("header",{className:"bg-sky-50 border-b border-sky-100 sticky top-0 z-30 shadow-sm",children:v.jsxs("div",{className:"max-w-7xl mx-auto px-6 h-20 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:"relative group",children:g.logo?v.jsx("div",{className:"bg-white p-2 rounded-xl shadow-sm border border-slate-100 group-hover:scale-105 transition-transform duration-300",children:v.jsx("img",{src:g.logo,alt:"Logo",className:"w-20 h-20 object-contain"})}):v.jsx("div",{className:"bg-primary-600 p-3 rounded-xl text-white shadow-xl shadow-primary-500/30 group-hover:scale-110 transition-transform duration-300",children:v.jsx(a_,{size:32})})}),v.jsxs("div",{children:[v.jsxs("h1",{className:"text-xl font-black tracking-tighter text-slate-800 leading-none flex items-center gap-2",children:["DLKom ",v.jsx("span",{className:"text-primary-600 font-extrabold",children:"Presupuesto"})]}),v.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest mt-1 uppercase italic",children:g.name})]})]}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsxs("div",{className:"flex items-center gap-2 mr-2 bg-white/50 px-3 py-1.5 rounded-full border border-sky-100/50",title:r?"Guardando...":"Sincronizado",children:[r?v.jsx(h_,{size:12,className:"animate-spin text-primary-500"}):v.jsx(c_,{size:12,className:"text-emerald-500"}),v.jsx("span",{className:"text-[10px] uppercase font-bold tracking-wider text-slate-400",children:r?"Guardando...":"Sincronizado"})]}),v.jsxs(ct,{variant:"ghost",onClick:Fe,className:"text-slate-400 hover:bg-red-500/10 hover:text-red-400 transition-all rounded-xl h-11 px-4 border border-transparent hover:border-red-500/20",children:[v.jsx(Yl,{size:15}),v.jsx("span",{className:"hidden md:inline font-bold ml-2",children:"Reiniciar"})]}),v.jsx("div",{className:"w-px h-8 bg-slate-800 mx-2 hidden md:block"}),v.jsxs(ct,{variant:"secondary",onClick:()=>u(!0),className:"bg-white border-slate-200 text-slate-600 hover:bg-slate-50 hover:text-primary-600 rounded-xl h-11 px-6 shadow-sm transition-all font-bold group",children:[v.jsx(eh,{size:18,className:"group-hover:rotate-12 transition-transform"}),v.jsx("span",{className:"hidden md:inline ml-2",children:"Calculadora m"})]}),v.jsx("div",{className:"w-px h-8 bg-slate-200 mx-2 hidden md:block"}),v.jsxs(ct,{variant:"secondary",onClick:()=>e({showPrices:!T}),className:ei("rounded-xl h-11 px-5 shadow-xl transition-all font-bold border text-xs",T?"bg-slate-800 border-slate-700 text-slate-200 hover:bg-slate-700":"bg-primary-600 border-primary-500 text-white hover:bg-primary-500"),children:[T?v.jsx(Cw,{size:15}):v.jsx(Rw,{size:15}),v.jsx("span",{className:"hidden md:inline ml-2",children:T?"Mostrar Precios":"Ocultar Precios"})]}),v.jsxs(ct,{variant:"secondary",onClick:()=>window.open("https://1drv.ms/f/c/060cce5bcedbb8f0/IgAZgXpF6QNMTJQZANaTV12vASPiVH4DIKCJdamBZn2jVhY?e=y5JYsY","_blank"),className:ei("rounded-xl h-11 px-5 shadow-xl transition-all font-bold border text-xs bg-sky-600 border-sky-500 text-white hover:bg-sky-500"),title:"Abrir carpeta de OneDrive para subir el presupuesto guardado",children:[v.jsx(c_,{size:15}),v.jsx("span",{className:"hidden md:inline ml-2",children:"OneDrive"})]}),v.jsxs(ct,{variant:"secondary",onClick:k,className:"bg-slate-800 border-slate-700 text-slate-200 hover:bg-slate-700 hover:text-white rounded-xl h-11 px-6 shadow-xl transition-all font-bold",children:[v.jsx(Ww,{size:18}),v.jsx("span",{className:"hidden md:inline ml-2",children:"Vista PDF"})]}),v.jsxs("label",{className:"cursor-pointer",children:[v.jsx("input",{type:"file",accept:".json",onChange:M,className:"hidden"}),v.jsxs("div",{className:"flex items-center bg-white border border-slate-200 text-slate-600 hover:bg-slate-50 hover:text-indigo-600 rounded-xl h-11 px-4 shadow-sm transition-all font-bold group text-xs text-center",title:"Cargar un presupuesto guardado anteriormente",children:[v.jsx(Qd,{size:15,className:"group-hover:translate-y-0.5 transition-transform"}),v.jsx("span",{className:"hidden md:inline ml-2",children:"Importar"})]})]}),v.jsx("div",{className:"w-px h-8 bg-slate-200 mx-2 hidden md:block"}),v.jsxs(ct,{onClick:S,className:ei("rounded-xl h-11 px-5 shadow-xl shadow-primary-500/30 font-bold transition-all hover:scale-[1.02] active:scale-95 group text-xs",ue?"bg-emerald-600 hover:bg-emerald-500":"bg-primary-600 hover:bg-primary-500"),title:"Guardar este presupuesto como archivo en tu ordenador",children:[ue?v.jsx(bw,{size:15}):v.jsx(f_,{size:15,className:"group-hover:rotate-12 transition-transform"}),v.jsx("span",{className:"hidden md:inline ml-2",children:ue?"Guardado!":"Guardar en PC"})]})]})]})}),v.jsx("main",{className:"max-w-full mx-auto px-6 py-8",children:v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[v.jsxs("div",{className:"lg:col-span-10 space-y-8",children:[v.jsx("div",{className:"no-print",children:v.jsx(fS,{client:A,onChange:he})}),v.jsx("div",{className:"no-print",children:v.jsx(pS,{items:z,onAddItem:Ee,onUpdateItem:ge,onRemoveItem:Oe,groups:X,onUpdateGroups:re=>e({dynamicGroups:re})})}),v.jsxs("section",{className:"mt-12 bg-white p-8 rounded-xl border border-slate-200 shadow-sm no-print",children:[v.jsxs("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[v.jsx(f_,{size:16})," Notas y Condiciones del Presupuesto"]}),v.jsx(_S,{value:x,onChange:re=>e({notes:re}),placeholder:"Escribe aqu las condiciones legales, plazos, formas de pago...",className:"w-full"}),v.jsx("p",{className:"text-[10px] text-slate-400 mt-2 italic",children:"Estas notas se imprimirn en una pgina aparte al final del presupuesto."})]})]}),v.jsxs("div",{className:"lg:col-span-2 space-y-6 no-print",children:[v.jsx(gS,{items:z,ivaRate:y,onIvaChange:re=>e({ivaRate:re})}),v.jsxs("section",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm no-print space-y-4",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("h3",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[v.jsx(a_,{size:14})," Datos de Empresa"]}),v.jsx("button",{onClick:()=>e({companyLocked:!Q}),className:ei("p-1.5 rounded-lg transition-all",Q?"text-emerald-500 bg-emerald-50":"text-amber-500 bg-amber-50"),children:Q?v.jsx(Lw,{size:14}):v.jsx(jw,{size:14})})]}),v.jsxs("div",{className:"flex flex-col items-center gap-4 pb-4 border-b border-slate-50",children:[g.logo&&v.jsx("img",{src:g.logo,alt:"Preview",className:"w-24 h-auto object-contain p-2 rounded-lg border border-slate-100"}),!Q&&v.jsxs("div",{className:"grid grid-cols-2 gap-2 w-full",children:[v.jsxs("label",{className:"w-full",children:[v.jsx("input",{type:"file",accept:"image/*",onChange:V,className:"hidden"}),v.jsxs("div",{className:"w-full flex items-center justify-center gap-2 px-3 py-2 border border-dashed border-slate-200 hover:border-primary-400 hover:bg-primary-50 rounded-lg cursor-pointer transition-all text-slate-500 hover:text-primary-600 font-medium text-[10px] uppercase tracking-wider text-center h-full",children:[v.jsx(Qd,{size:14}),g.logo?"Logo":"Subir Logo"]})]}),v.jsxs("label",{className:"w-full",children:[v.jsx("input",{type:"file",accept:"image/*",onChange:N,className:"hidden"}),v.jsxs("div",{className:"w-full flex items-center justify-center gap-2 px-3 py-2 border border-dashed border-slate-200 hover:border-primary-400 hover:bg-primary-50 rounded-lg cursor-pointer transition-all text-slate-500 hover:text-primary-600 font-medium text-[10px] uppercase tracking-wider text-center h-full",children:[v.jsx(Qd,{size:14}),g.signature?"Sello/Firma":"Subir Sello"]})]})]}),g.signature&&v.jsxs("div",{className:"text-center w-full",children:[v.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-tighter mb-1",children:"Firma/Sello Actual"}),v.jsx("img",{src:g.signature,alt:"Signature Preview",className:"w-32 h-auto object-contain mx-auto p-2 rounded-lg border border-slate-100 bg-white mix-blend-multiply"})]})]}),v.jsx("div",{className:"pt-2",children:v.jsxs(ct,{onClick:()=>p(!0),variant:"secondary",className:"w-full bg-slate-50 border-slate-100 text-slate-600 hover:bg-primary-50 hover:text-primary-600 hover:border-primary-200 text-[10px] font-bold uppercase tracking-widest h-10 shadow-sm transition-all",children:[v.jsx(d_,{size:14}),"Configurar Pagos"]})}),v.jsxs("div",{className:"space-y-3 pt-2",children:[v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-tighter",children:"Nombre Comercial"}),v.jsx("input",{type:"text",value:g.name,disabled:Q,onChange:re=>e({company:{...g,name:re.target.value}}),className:"w-full text-sm font-black text-slate-900 bg-slate-50 border-none rounded-lg p-2 focus:ring-2 focus:ring-primary-500/20 disabled:opacity-75",placeholder:"Nombre Empresa"})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-tighter",children:"Direccin"}),v.jsx("input",{type:"text",value:g.address,disabled:Q,onChange:re=>e({company:{...g,address:re.target.value}}),className:"w-full text-xs text-slate-600 bg-slate-50 border-none rounded-lg p-2 focus:ring-2 focus:ring-primary-500/20 disabled:opacity-75",placeholder:"Direccin"})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-tighter",children:"Localidad"}),v.jsx("input",{type:"text",value:g.city||"",disabled:Q,onChange:re=>e({company:{...g,city:re.target.value}}),className:"w-full text-xs text-slate-600 bg-slate-50 border-none rounded-lg p-2 focus:ring-2 focus:ring-primary-500/20 disabled:opacity-75",placeholder:"Localidad"})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-tighter",children:"Telfono"}),v.jsx("input",{type:"text",value:g.phone,disabled:Q,onChange:re=>e({company:{...g,phone:re.target.value}}),className:"w-full text-xs text-slate-600 bg-slate-50 border-none rounded-lg p-2 focus:ring-2 focus:ring-primary-500/20 disabled:opacity-75",placeholder:"Telfono"})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-tighter",children:"CIF / NIF"}),v.jsx("input",{type:"text",value:g.cif,disabled:Q,onChange:re=>e({company:{...g,cif:re.target.value}}),className:"w-full text-xs text-slate-600 bg-slate-50 border-none rounded-lg p-2 focus:ring-2 focus:ring-primary-500/20 disabled:opacity-75",placeholder:"CIF"})]})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-tighter",children:"Email"}),v.jsx("input",{type:"text",value:g.email,disabled:Q,onChange:re=>e({company:{...g,email:re.target.value}}),className:"w-full text-xs text-slate-600 bg-slate-50 border-none rounded-lg p-2 focus:ring-2 focus:ring-primary-500/20 disabled:opacity-75",placeholder:"Email"})]})]})]})]})]})}),v.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 lg:hidden z-40 no-print",children:v.jsxs(ct,{size:"lg",className:"rounded-full shadow-2xl h-14 px-8 text-lg font-bold",children:[v.jsx(fo,{size:24}),"Nueva Partida"]})}),v.jsx("div",{className:"hidden print:block font-sans text-slate-900 bg-white w-full h-auto overflow-hidden",children:v.jsxs("div",{className:"print-container p-[10mm] max-w-full",children:[v.jsxs("table",{className:"w-full",children:[v.jsx("thead",{children:v.jsx("tr",{children:v.jsx("th",{className:"border-0 font-normal py-4",children:v.jsxs("div",{className:"grid grid-cols-2 gap-8 items-start text-left",children:[v.jsx("div",{className:"space-y-4",children:v.jsxs("div",{children:[v.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-3",children:"Datos del Cliente"}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("p",{className:"text-sm font-bold text-slate-900 leading-none mb-1",children:A.name}),v.jsx("p",{className:"text-[10px] text-slate-600 leading-tight",children:A.address}),v.jsx("p",{className:"text-[10px] text-slate-600 leading-tight",children:A.city}),v.jsxs("p",{className:"text-[10px] text-slate-600",children:["NIF/CIF: ",A.dni]}),v.jsxs("p",{className:"text-[10px] text-slate-600 mt-2",children:["FECHA: ",A.date]}),v.jsxs("p",{className:"text-[10px] text-slate-600",children:["PROYECTO: ",A.project]})]})]})}),v.jsxs("div",{className:"text-right",children:[v.jsx("div",{className:"flex flex-col items-end gap-2 mb-4",children:g.logo?v.jsx("img",{src:g.logo,alt:"Logo",className:"h-16 w-auto object-contain"}):v.jsx("div",{className:"text-2xl font-black text-slate-900 tracking-tighter",children:g.name})}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("p",{className:"text-sm font-bold text-slate-900 uppercase tracking-tight",children:g.name}),v.jsxs("div",{className:"text-[10px] text-slate-500 space-y-0.5",children:[v.jsx("p",{children:g.address}),v.jsx("p",{children:g.city}),v.jsxs("p",{children:[g.phone," | ",g.email]}),v.jsxs("p",{children:["CIF: ",g.cif]})]})]})]})]})})})}),v.jsx("tbody",{children:v.jsx("tr",{children:v.jsxs("td",{className:"pt-4 border-0",children:[v.jsx("h1",{className:"text-xl font-black text-center mb-8 uppercase text-slate-900 border-none px-0 tracking-[0.1em]",children:"PRESUPUESTO"}),v.jsxs("table",{className:"w-full mt-4",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"border-b-2 border-slate-900 text-[10px] font-bold uppercase tracking-widest text-slate-400",children:[v.jsx("th",{className:"py-4 text-left px-2",children:"Descripcin / Concepto"}),T&&v.jsx("th",{className:"py-4 text-right w-32",children:"Total"})]})}),v.jsx("tbody",{className:"divide-y divide-slate-100",children:z.map(re=>v.jsxs("tr",{className:"text-[11px]",children:[v.jsxs("td",{className:"py-4 px-2",children:[v.jsx("p",{className:"font-bold text-slate-900 mb-1",children:re.category}),v.jsx("p",{className:"text-slate-600 whitespace-pre-wrap leading-relaxed",children:re.description})]}),T&&v.jsxs("td",{className:"py-4 text-right text-slate-900 font-bold whitespace-nowrap",children:[(re.salePrice*re.quantity).toLocaleString("es-ES")," "]})]},re.id))})]}),v.jsxs("div",{className:"mt-4 pt-2 border-t border-slate-200 page-no-break",children:[v.jsxs("div",{className:"grid grid-cols-2 gap-4 items-start",children:[v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{children:[v.jsxs("div",{className:"flex justify-between items-center mb-1",children:[v.jsx("p",{className:"text-[8px] font-bold text-slate-400 uppercase tracking-widest",children:"FORMA DE PAGO"}),v.jsx("button",{onClick:()=>p(!0),className:"no-print text-slate-400 hover:text-slate-600",title:"Configurar pagos",children:v.jsx(d_,{size:12})})]}),v.jsx("div",{className:"text-[9px] text-slate-600 grid grid-cols-[auto_1fr] gap-x-3 gap-y-1",children:ee.map(re=>v.jsxs("div",{className:"contents border-b border-slate-50",children:[v.jsxs("span",{className:"whitespace-nowrap pb-0.5 border-b border-slate-50/50",children:[re.percentage,"% ",re.label,":"]}),v.jsxs("span",{className:"font-bold text-slate-900 whitespace-nowrap text-right pb-0.5 border-b border-slate-50/50",children:[(Ke.total*(re.percentage/100)).toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})," "]})]},re.id))})]}),v.jsxs("div",{className:"bg-slate-50/50 p-2 rounded-lg border border-slate-100",children:[v.jsx("p",{className:"text-[7px] font-bold text-slate-400 uppercase tracking-widest mb-0.5",children:"N DE CUENTA (LA CAIXA)"}),v.jsx("p",{className:"text-[10px] font-bold text-slate-900 tracking-wider font-mono",children:"ES23 2100 3771 2022 0013 7681"})]})]}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:"space-y-1",children:[v.jsxs("div",{className:"flex justify-between items-center text-[8px]",children:[v.jsx("span",{className:"text-slate-500 font-bold uppercase tracking-widest",children:"Base Imponible"}),v.jsxs("span",{className:"text-slate-900 font-bold text-sm",children:[Ke.base.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})," "]})]}),v.jsxs("div",{className:"flex justify-between items-center text-[8px]",children:[v.jsxs("span",{className:"text-slate-500 font-bold uppercase tracking-widest",children:["IVA (",(y*100).toFixed(0),"%)"]}),v.jsxs("span",{className:"text-slate-900 font-bold text-sm",children:[Ke.iva.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})," "]})]}),v.jsxs("div",{className:"pt-2 border-t border-slate-900 flex justify-between items-center",children:[v.jsx("span",{className:"text-[9px] font-black text-primary-600 uppercase tracking-[0.2em]",children:"TOTAL"}),v.jsxs("span",{className:"text-xl font-black text-primary-600 tracking-tight whitespace-nowrap",children:[Ke.total.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})," "]})]})]}),v.jsxs("p",{className:"text-[7px] text-slate-400 text-right italic leading-tight",children:["Este presupuesto tiene una validez de 15 das.",v.jsx("br",{}),"Todos los precios incluyen materiales y mano de obra."]})]})]}),v.jsxs("div",{className:"mt-6 flex flex-row justify-between items-end w-full gap-8",children:[v.jsxs("div",{className:"flex-1 max-w-[45%]",children:[v.jsx("p",{className:"text-[8px] font-bold text-slate-400 uppercase tracking-widest mb-1 pl-2",children:"FIRMA CLIENTE"}),v.jsxs("div",{className:"h-16 border border-slate-200 rounded-lg relative overflow-hidden bg-slate-50/5 w-full",children:[v.jsx("div",{className:"absolute bottom-4 left-0 right-0 border-t border-slate-200 mx-4"}),v.jsx("span",{className:"absolute bottom-1 left-4 text-[6px] text-slate-400 font-bold uppercase tracking-widest italic",children:"Acepto condiciones"})]})]}),v.jsx("div",{className:"flex-1 flex flex-col items-end",children:v.jsx("div",{className:"h-16 w-full relative flex items-center justify-end",children:g.signature?v.jsx("img",{src:g.signature,alt:"Firma Empresa",className:"h-full object-contain mix-blend-multiply opacity-95 rotate-[-1deg] mr-4",style:{maxWidth:"100%"}}):v.jsx("div",{className:"w-24 h-16 border border-dashed border-slate-200 rounded flex items-center justify-center",children:v.jsx("span",{className:"text-[7px] text-slate-300 uppercase",children:"Sin Sello"})})})})]})]})]})})})]}),v.jsxs("div",{className:"mt-12 pt-8 page-break-before page-no-break",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-4 pb-2 border-b-2 border-slate-900",children:[v.jsx(lb,{className:"text-primary-600",size:20}),v.jsx("h2",{className:"text-base font-black text-slate-900 uppercase tracking-widest",children:"Condiciones Generales y Notas"})]}),v.jsx("div",{className:"text-[10px] text-slate-800 leading-snug font-serif p-4 bg-slate-50/20 rounded-xl border border-slate-100 editor-print-content",dangerouslySetInnerHTML:{__html:x}})]})]})}),l&&v.jsx(yS,{onClose:()=>u(!1)}),v.jsx("style",{children:`
        @media print {
          @page {
            size: auto;
            margin: 0 !important;
          }
          header, .no-print, button, .sticky, textarea::placeholder, .fixed, .max-w-7xl + div {
            display: none !important;
          }
          html, body {
            margin: 0 !important;
            padding: 0 !important;
            height: auto !important;
          }
          body {
            background: white !important;
            padding: 10mm 15mm !important; /* Minimal padding for cleaner PDF without browser headers */
            font-size: 10pt;
            color: #1e293b !important;
            -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
            overflow: visible !important;
          }
          .print-container {
            width: 100% !important;
            height: auto !important;
            overflow: visible !important;
            padding: 0 !important;
          }
          .page-break-before {
            page-break-before: always;
          }
          .page-no-break {
            page-break-inside: avoid !important;
            break-inside: avoid !important;
            display: block !important; /* Ensure it is block level for breaking logic */
          }
          .max-w-full {
             max-width: 100% !important;
             padding: 0 !important;
          }
          .grid {
            display: grid !important;
          }
          .grid-cols-2 {
            grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
          }
          table {
            width: 100% !important;
            border-collapse: collapse !important;
            margin-top: 0;
            page-break-inside: auto;
          }
          thead {
            display: table-header-group;
          }
          tr {
            page-break-inside: avoid;
            page-break-after: auto;
          }
          th {
            background-color: transparent !important;
            color: #64748b !important;
            border-bottom: 2px solid #1e293b !important;
            padding: 12px 8px !important;
            font-size: 8px !important;
            text-transform: uppercase !important;
            letter-spacing: 0.1em !important;
            font-weight: 700 !important;
          }
          td {
            padding: 14px 8px !important;
            border-bottom: 1px solid #f1f5f9 !important;
            vertical-align: top !important;
            color: #334155 !important;
          }
          .bg-slate-50/50, .bg-slate-100/50 {
            background-color: transparent !important;
          }
          .text-primary-600 {
            color: #0284c7 !important;
          }
          textarea {
            border: none !important;
            padding: 0 !important;
            min-height: auto !important;
            overflow: visible !important;
            display: block !important;
            white-space: pre-wrap !important;
            color: #334155 !important;
          }
          .shadow-lg, .shadow-sm, .shadow-xl, .shadow-2xl {
            box-shadow: none !important;
            border: none !important;
          }
          .rounded-xl {
             border-radius: 0 !important;
          }
          .border {
            border-color: #e2e8f0 !important;
          }

          /* Print styles for editor content */
          .editor-print-content font[size="1"] { font-size: 8pt !important; }
          .editor-print-content font[size="2"] { font-size: 9pt !important; }
          .editor-print-content font[size="3"] { font-size: 10pt !important; }
          .editor-print-content font[size="4"] { font-size: 12pt !important; }
          .editor-print-content font[size="5"] { font-size: 14pt !important; }
          
          .editor-print-content b, .editor-print-content strong { font-weight: 800 !important; }
          .editor-print-content i, .editor-print-content em { font-style: italic !important; }

          /* Reset default margins for paragraphs in print */
          .editor-print-content p, .editor-print-content div {
            margin-bottom: 0.5em !important;
          }
        }
      `}),v.jsx(vS,{terms:ee,onChange:re=>e({paymentTerms:re}),isOpen:d,onClose:()=>p(!1)})]})}const O4="modulepreload",M4=function(s){return"/DLKomPresupuesto/"+s},Hv={},V4=function(e,i,r){let l=Promise.resolve();if(i&&i.length>0){let y=function(T){return Promise.all(T.map(x=>Promise.resolve(x).then(A=>({status:"fulfilled",value:A}),A=>({status:"rejected",reason:A}))))};var d=y;document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),g=p?.nonce||p?.getAttribute("nonce");l=y(i.map(T=>{if(T=M4(T),T in Hv)return;Hv[T]=!0;const x=T.endsWith(".css"),A=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${T}"]${A}`))return;const z=document.createElement("link");if(z.rel=x?"stylesheet":O4,x||(z.as="script"),z.crossOrigin="",z.href=T,g&&z.setAttribute("nonce",g),document.head.appendChild(z),x)return new Promise((Q,ee)=>{z.addEventListener("load",Q),z.addEventListener("error",()=>ee(new Error(`Unable to preload CSS for ${T}`)))})}))}function u(p){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=p,window.dispatchEvent(g),!g.defaultPrevented)throw p}return l.then(p=>{for(const g of p||[])g.status==="rejected"&&u(g.reason);return e().catch(u)})};function j4(s={}){const{immediate:e=!1,onNeedRefresh:i,onOfflineReady:r,onRegistered:l,onRegisteredSW:u,onRegisterError:d}=s;let p,g;const y=async(x=!0)=>{await g};async function T(){if("serviceWorker"in navigator){if(p=await V4(async()=>{const{Workbox:x}=await import("./workbox-window.prod.es5-BIl4cyR9.js");return{Workbox:x}},[]).then(({Workbox:x})=>new x("/DLKomPresupuesto/sw.js",{scope:"/DLKomPresupuesto/",type:"classic"})).catch(x=>{d?.(x)}),!p)return;p.addEventListener("activated",x=>{(x.isUpdate||x.isExternal)&&window.location.reload()}),p.addEventListener("installed",x=>{x.isUpdate||r?.()}),p.register({immediate:e}).then(x=>{u?u("/DLKomPresupuesto/sw.js",x):l?.(x)}).catch(x=>{d?.(x)})}}return g=T(),y}j4({immediate:!0});gx.createRoot(document.getElementById("root")).render(v.jsx(je.StrictMode,{children:v.jsx(k4,{})}));
